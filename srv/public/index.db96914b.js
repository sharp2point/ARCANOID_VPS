!function(e,t,r,s,i){var a="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},o="function"==typeof a[s]&&a[s],n=o.cache||{},l="undefined"!=typeof module&&"function"==typeof module.require&&module.require.bind(module);function h(t,r){if(!n[t]){if(!e[t]){var i="function"==typeof a[s]&&a[s];if(!r&&i)return i(t,!0);if(o)return o(t,!0);if(l&&"string"==typeof t)return l(t);var u=Error("Cannot find module '"+t+"'");throw u.code="MODULE_NOT_FOUND",u}d.resolve=function(r){var s=e[t][1][r];return null!=s?s:r},d.cache={};var c=n[t]=new h.Module(t);e[t][0].call(c.exports,d,c,c.exports,this)}return n[t].exports;function d(e){var t=d.resolve(e);return!1===t?{}:h(t)}}h.isParcelRequire=!0,h.Module=function(e){this.id=e,this.bundle=h,this.exports={}},h.modules=e,h.cache=n,h.parent=o,h.register=function(t,r){e[t]=[function(e,t){t.exports=r},{}]},Object.defineProperty(h,"root",{get:function(){return a[s]}}),a[s]=h;for(var u=0;u<t.length;u++)h(t[u]);if(r){var c=h(r);"object"==typeof exports&&"undefined"!=typeof module?module.exports=c:"function"==typeof define&&define.amd&&define(function(){return c})}}({g9s12:[function(e,t,r){var s=e("@babylonjs/core"),i=e("@babylonjs/havok"),a=e("./game_state/assets/state"),o=e("./game_state/main/state"),n=e("./game_state/game_state"),l=e("./game_state/ui/state"),h=e("./utils/clear_utils"),u=e("./utils/loaderGlbFiles"),c=e("./utils/utility"),d=e("./objects/enemy/enemy"),p=e("./DB/indexdb"),m=e("./teach/teach");async function f(){let e=await i.default();o.AGAME.HVK=new s.HavokPlugin(!0,e),o.AGAME.Canvas=document.querySelector("#app"),o.AGAME.Engine=new s.Engine(o.AGAME.Canvas,!0,{xrCompatible:!1},!0),o.AGAME.Gravity=new s.Vector3(0,-9.81,0),l.UISTATE.Canvas=o.AGAME.Canvas,l.UISTATE.Engine=o.AGAME.Engine}window.addEventListener("load",async()=>{(0,h.getTypeUserDevice)(),o.AGAME.ScreenAspect=(0,h.getScreenAspect)(),(0,h.loadAssets)(a.ASSETS.sprites),o.AGAME.RenderLock=!0,l.UISTATE.RenderLock=!1,f().then(async()=>{let{UIScene:t}=await e("f016ffe7a28be900"),{sceneOne:r}=await e("42e8f19adb24a70a");t(),r(o.AGAME.Gravity,o.AGAME.HVK),(0,c.cameraSettings)(o.AGAME.ScreenAspect),(0,u.loadEnemyModel)(o.AGAME.Scene),(0,u.loadDamageEnemyModel)(o.AGAME.Scene),(0,d.createEnemyMaterial)(o.AGAME.Scene),(0,p.openIndexDB)(),(0,m.initTeach)(document.querySelector("#teach-place")),(0,o.AGAME).Engine.runRenderLoop(()=>{!o.AGAME.RenderLock&&l.UISTATE.RenderLock?(0,o.AGAME).Scene.render():!l.UISTATE.RenderLock&&o.AGAME.RenderLock&&(0,l.UISTATE).Scene.render()})})}),window.addEventListener("resize",()=>{o.AGAME.ScreenAspect=(0,h.getScreenAspect)(),o.AGAME.Engine&&((0,o.AGAME).Engine.resize(),(0,l.UISTATE).Engine.resize()),(0,n.GameState).camera()&&(0,c.cameraSettings)(o.AGAME.ScreenAspect)}),window.addEventListener("keydown",e=>{"i"===e.key&&e.altKey})},{"@babylonjs/core":"1KKys","@babylonjs/havok":"3EJ0x","./game_state/assets/state":"eemMA","./game_state/main/state":"3N3ac","./game_state/game_state":"5qBSL","./game_state/ui/state":"aE8EP","./utils/clear_utils":"aFozW","./utils/loaderGlbFiles":"dfETV","./utils/utility":"8IYYd","./objects/enemy/enemy":"aZfC4","./DB/indexdb":"iS775","./teach/teach":"6YTq7",f016ffe7a28be900:"fc3Dq","42e8f19adb24a70a":"6GK3Y"}],"3EJ0x":[function(e,t,r){e("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(r);var s,i=(s="file:///node_modules/@babylonjs/havok/lib/esm/HavokPhysics_es.js",function(t){var r,i,a,o,n,l,h,u,c,d,p,m,f,_,g,y,x,b,T,v,A,j,E=void 0!==(t=t||{})?t:{};E.ready=new Promise(function(e,t){i=e,a=t});var S=Object.assign({},E),P=[],M=(e,t)=>{throw t},C="";"undefined"!=typeof document&&document.currentScript&&(C=document.currentScript.src),s&&(C=s),C=0!==C.indexOf("blob:")?C.substr(0,C.replace(/[?#].*/,"").lastIndexOf("/")+1):"";var R=E.print||console.log.bind(console),F=E.printErr||console.warn.bind(console);Object.assign(E,S),S=null,E.arguments&&(P=E.arguments),E.thisProgram&&E.thisProgram,E.quit&&(M=E.quit),E.wasmBinary&&(n=E.wasmBinary);var I=E.noExitRuntime||!0;"object"!=typeof WebAssembly&&X("no native wasm support detected");var w=!1,L="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function O(e,t,r){for(var s=t+r,i=t;e[i]&&!(i>=s);)++i;if(i-t>16&&e.buffer&&L)return L.decode(e.subarray(t,i));for(var a="";t<i;){var o=e[t++];if(!(128&o)){a+=String.fromCharCode(o);continue}var n=63&e[t++];if((224&o)==192){a+=String.fromCharCode((31&o)<<6|n);continue}var l=63&e[t++];if((o=(240&o)==224?(15&o)<<12|n<<6|l:(7&o)<<18|n<<12|l<<6|63&e[t++])<65536)a+=String.fromCharCode(o);else{var h=o-65536;a+=String.fromCharCode(55296|h>>10,56320|1023&h)}}return a}function B(e){u=e,E.HEAP8=c=new Int8Array(e),E.HEAP16=p=new Int16Array(e),E.HEAP32=f=new Int32Array(e),E.HEAPU8=d=new Uint8Array(e),E.HEAPU16=m=new Uint16Array(e),E.HEAPU32=_=new Uint32Array(e),E.HEAPF32=g=new Float32Array(e),E.HEAPF64=b=new Float64Array(e),E.HEAP64=y=new BigInt64Array(e),E.HEAPU64=x=new BigUint64Array(e)}E.INITIAL_MEMORY;var D=[],N=[],k=[],G=[],U=0,H=null,V=null;function X(e){E.onAbort&&E.onAbort(e),F(e="Aborted("+e+")"),w=!0,h=1,e+=". Build with -sASSERTIONS for more info.";var t=new WebAssembly.RuntimeError(e);throw a(t),t}function W(e){return e.startsWith("data:application/octet-stream;base64,")}function Y(e){try{if(e==v&&n)return new Uint8Array(n);if(o)return o(e);throw"both async and sync fetching of the wasm failed"}catch(e){X(e)}}function z(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function $(e){for(;e.length>0;)e.shift()(E)}E.locateFile?W(v="HavokPhysics.wasm")||(r=v,v=E.locateFile?E.locateFile(r,C):C+r):v=new URL(e("af2f6bf6b6d9048a")).toString();var q={};function K(e){for(;e.length;){var t=e.pop();e.pop()(t)}}function Q(e){return this.fromWireType(f[e>>2])}var Z={},J={},ee={};function et(e){if(void 0===e)return"_unknown";var t=(e=e.replace(/[^a-zA-Z0-9_]/g,"$")).charCodeAt(0);return t>=48&&t<=57?"_"+e:e}function er(e,t){return Function("body","return function "+(e=et(e))+'() {\n    "use strict";    return body.apply(this, arguments);\n};\n')(t)}function es(e,t){var r=er(t,function(e){this.name=t,this.message=e;var r=Error(e).stack;void 0!==r&&(this.stack=this.toString()+"\n"+r.replace(/^Error(:[^\n]*)?\n/,""))});return r.prototype=Object.create(e.prototype),r.prototype.constructor=r,r.prototype.toString=function(){return void 0===this.message?this.name:this.name+": "+this.message},r}var ei=void 0;function ea(e){throw new ei(e)}function eo(e,t,r){function s(t){var s=r(t);s.length!==e.length&&ea("Mismatched type converter count");for(var i=0;i<e.length;++i)ed(e[i],s[i])}e.forEach(function(e){ee[e]=t});var i=Array(t.length),a=[],o=0;t.forEach((e,t)=>{J.hasOwnProperty(e)?i[t]=J[e]:(a.push(e),Z.hasOwnProperty(e)||(Z[e]=[]),Z[e].push(()=>{i[t]=J[e],++o===a.length&&s(i)}))}),0===a.length&&s(i)}function en(e){if(null===e)return"null";var t=typeof e;return"object"===t||"array"===t||"function"===t?e.toString():""+e}var el=void 0;function eh(e){for(var t="",r=e;d[r];)t+=el[d[r++]];return t}var eu=void 0;function ec(e){throw new eu(e)}function ed(e,t,r={}){if(!("argPackAdvance"in t))throw TypeError("registerType registeredInstance requires argPackAdvance");var s=t.name;if(e||ec('type "'+s+'" must have a positive integer typeid pointer'),J.hasOwnProperty(e)){if(r.ignoreDuplicateRegistrations)return;ec("Cannot register type '"+s+"' twice")}if(J[e]=t,delete ee[e],Z.hasOwnProperty(e)){var i=Z[e];delete Z[e],i.forEach(e=>e())}}function ep(e,t,r){switch(t){case 0:return r?function(e){return c[e]}:function(e){return d[e]};case 1:return r?function(e){return p[e>>1]}:function(e){return m[e>>1]};case 2:return r?function(e){return f[e>>2]}:function(e){return _[e>>2]};case 3:return r?function(e){return y[e>>3]}:function(e){return x[e>>3]};default:throw TypeError("Unknown integer type: "+e)}}function em(e){switch(e){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw TypeError("Unknown type size: "+e)}}var ef=[],e_=[{},{value:void 0},{value:null},{value:!0},{value:!1}];function eg(e){e>4&&0==--e_[e].refcount&&(e_[e]=void 0,ef.push(e))}var ey=e=>(e||ec("Cannot use deleted val. handle = "+e),e_[e].value),ex=e=>{switch(e){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:var t=ef.length?ef.pop():e_.length;return e_[t]={refcount:1,value:e},t}};function eb(e,t,r){E.hasOwnProperty(e)?((void 0===r||void 0!==E[e].overloadTable&&void 0!==E[e].overloadTable[r])&&ec("Cannot register public name '"+e+"' twice"),function(e,t,r){if(void 0===e[t].overloadTable){var s=e[t];e[t]=function(){return e[t].overloadTable.hasOwnProperty(arguments.length)||ec("Function '"+r+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+e[t].overloadTable+")!"),e[t].overloadTable[arguments.length].apply(this,arguments)},e[t].overloadTable=[],e[t].overloadTable[s.argCount]=s}}(E,e,e),E.hasOwnProperty(r)&&ec("Cannot register multiple overloads of a function with the same number of arguments ("+r+")!"),E[e].overloadTable[r]=t):(E[e]=t,void 0!==r&&(E[e].numArguments=r))}function eT(e){var t=eH(e),r=eh(t);return eU(t),r}function ev(e,t){var r=J[e];return void 0===r&&ec(t+" has unknown type "+eT(e)),r}function eA(e,t){if(!(e instanceof Function))throw TypeError("new_ called with constructor type "+typeof e+" which is not a function");var r=er(e.name||"unknownFunctionName",function(){});r.prototype=e.prototype;var s=new r,i=e.apply(s,t);return i instanceof Object?i:s}var ej=[];function eE(e,t){e=eh(e);var r,s=((r=ej[t])||(t>=ej.length&&(ej.length=t+1),ej[t]=r=T.get(t)),r);return"function"!=typeof s&&ec("unknown function pointer with signature "+e+": "+t),s}var eS=void 0,eP="undefined"!=typeof TextDecoder?new TextDecoder("utf-16le"):void 0;function eM(e,t){for(var r=e,s=r>>1,i=s+t/2;!(s>=i)&&m[s];)++s;if((r=s<<1)-e>32&&eP)return eP.decode(d.subarray(e,r));for(var a="",o=0;!(o>=t/2);++o){var n=p[e+2*o>>1];if(0==n)break;a+=String.fromCharCode(n)}return a}function eC(e,t,r){if(void 0===r&&(r=2147483647),r<2)return 0;for(var s=t,i=(r-=2)<2*e.length?r/2:e.length,a=0;a<i;++a){var o=e.charCodeAt(a);p[t>>1]=o,t+=2}return p[t>>1]=0,t-s}function eR(e){return 2*e.length}function eF(e,t){for(var r=0,s="";!(r>=t/4);){var i=f[e+4*r>>2];if(0==i)break;if(++r,i>=65536){var a=i-65536;s+=String.fromCharCode(55296|a>>10,56320|1023&a)}else s+=String.fromCharCode(i)}return s}function eI(e,t,r){if(void 0===r&&(r=2147483647),r<4)return 0;for(var s=t,i=s+r-4,a=0;a<e.length;++a){var o=e.charCodeAt(a);if(o>=55296&&o<=57343&&(o=65536+((1023&o)<<10)|1023&e.charCodeAt(++a)),f[t>>2]=o,(t+=4)+4>i)break}return f[t>>2]=0,t-s}function ew(e){for(var t=0,r=0;r<e.length;++r){var s=e.charCodeAt(r);s>=55296&&s<=57343&&++r,t+=4}return t}var eL={},eO=[],eB=[];function eD(){return 2147483648}A=()=>performance.now();var eN=[null,[],[]];ei=E.InternalError=es(Error,"InternalError"),function(){for(var e=Array(256),t=0;t<256;++t)e[t]=String.fromCharCode(t);el=e}(),eu=E.BindingError=es(Error,"BindingError"),E.count_emval_handles=function(){for(var e=0,t=5;t<e_.length;++t)void 0!==e_[t]&&++e;return e},E.get_first_emval=function(){for(var e=5;e<e_.length;++e)if(void 0!==e_[e])return e_[e];return null},eS=E.UnboundTypeError=es(Error,"UnboundTypeError");var ek={_embind_finalize_value_array:function(e){var t=q[e];delete q[e];var r=t.elements,s=r.length,i=r.map(function(e){return e.getterReturnType}).concat(r.map(function(e){return e.setterArgumentType})),a=t.rawConstructor,o=t.rawDestructor;eo([e],i,function(e){return r.forEach((t,r)=>{var i=e[r],a=t.getter,o=t.getterContext,n=e[r+s],l=t.setter,h=t.setterContext;t.read=e=>i.fromWireType(a(o,e)),t.write=(e,t)=>{var r=[];l(h,e,n.toWireType(r,t)),K(r)}}),[{name:t.name,fromWireType:function(e){for(var t=Array(s),i=0;i<s;++i)t[i]=r[i].read(e);return o(e),t},toWireType:function(e,i){if(s!==i.length)throw TypeError("Incorrect number of tuple elements for "+t.name+": expected="+s+", actual="+i.length);for(var n=a(),l=0;l<s;++l)r[l].write(n,i[l]);return null!==e&&e.push(o,n),n},argPackAdvance:8,readValueFromPointer:Q,destructorFunction:o}]})},_embind_register_bigint:function(e,t,r,s,i){t=eh(t);var a=em(r),o=-1!=t.indexOf("u");o&&(i=(1n<<64n)-1n),ed(e,{name:t,fromWireType:function(e){return e},toWireType:function(e,r){if("bigint"!=typeof r&&"number"!=typeof r)throw TypeError('Cannot convert "'+en(r)+'" to '+this.name);if(r<s||r>i)throw TypeError('Passing a number "'+en(r)+'" from JS side to C/C++ side to an argument of type "'+t+'", which is outside the valid range ['+s+", "+i+"]!");return r},argPackAdvance:8,readValueFromPointer:ep(t,a,!o),destructorFunction:null})},_embind_register_bool:function(e,t,r,s,i){var a=em(r);ed(e,{name:t=eh(t),fromWireType:function(e){return!!e},toWireType:function(e,t){return t?s:i},argPackAdvance:8,readValueFromPointer:function(e){var s;if(1===r)s=c;else if(2===r)s=p;else if(4===r)s=f;else throw TypeError("Unknown boolean type size: "+t);return this.fromWireType(s[e>>a])},destructorFunction:null})},_embind_register_emval:function(e,t){ed(e,{name:t=eh(t),fromWireType:function(e){var t=ey(e);return eg(e),t},toWireType:function(e,t){return ex(t)},argPackAdvance:8,readValueFromPointer:Q,destructorFunction:null})},_embind_register_enum:function(e,t,r,s){var i=em(r);function a(){}t=eh(t),a.values={},ed(e,{name:t,constructor:a,fromWireType:function(e){return this.constructor.values[e]},toWireType:function(e,t){return t.value},argPackAdvance:8,readValueFromPointer:function(e,t,r){switch(t){case 0:return function(e){var t=r?c:d;return this.fromWireType(t[e])};case 1:return function(e){var t=r?p:m;return this.fromWireType(t[e>>1])};case 2:return function(e){var t=r?f:_;return this.fromWireType(t[e>>2])};default:throw TypeError("Unknown integer type: "+e)}}(t,i,s),destructorFunction:null}),eb(t,a)},_embind_register_enum_value:function(e,t,r){var s=ev(e,"enum");t=eh(t);var i=s.constructor,a=Object.create(s.constructor.prototype,{value:{value:r},constructor:{value:er(s.name+"_"+t,function(){})}});i.values[r]=a,i[t]=a},_embind_register_float:function(e,t,r){var s=em(r);ed(e,{name:t=eh(t),fromWireType:function(e){return e},toWireType:function(e,t){return t},argPackAdvance:8,readValueFromPointer:function(e,t){switch(t){case 2:return function(e){return this.fromWireType(g[e>>2])};case 3:return function(e){return this.fromWireType(b[e>>3])};default:throw TypeError("Unknown float type: "+e)}}(t,s),destructorFunction:null})},_embind_register_function:function(e,t,r,s,i,a){var o=function(e,t){for(var r=[],s=0;s<e;s++)r.push(_[t+4*s>>2]);return r}(t,r);e=eh(e),i=eE(s,i),eb(e,function(){!function(e,t){var r=[],s={};throw t.forEach(function e(t){if(!s[t]&&!J[t]){if(ee[t]){ee[t].forEach(e);return}r.push(t),s[t]=!0}}),new eS(e+": "+r.map(eT).join([", "]))}("Cannot call "+e+" due to unbound types",o)},t-1),eo([],o,function(r){var s,o,n,l=[r[0],null].concat(r.slice(1));return s=e,o=function(e,t,r,s,i){var a=t.length;a<2&&ec("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var o=null!==t[1]&&!1,n=!1,l=1;l<t.length;++l)if(null!==t[l]&&void 0===t[l].destructorFunction){n=!0;break}for(var h="void"!==t[0].name,u="",c="",l=0;l<a-2;++l)u+=(0!==l?", ":"")+"arg"+l,c+=(0!==l?", ":"")+"arg"+l+"Wired";var d="return function "+et(e)+"("+u+") {\nif (arguments.length !== "+(a-2)+") {\nthrowBindingError('function "+e+" called with ' + arguments.length + ' arguments, expected "+(a-2)+" args!');\n}\n";n&&(d+="var destructors = [];\n");var p=n?"destructors":"null",m=["throwBindingError","invoker","fn","runDestructors","retType","classParam"],f=[ec,s,i,K,t[0],t[1]];o&&(d+="var thisWired = classParam.toWireType("+p+", this);\n");for(var l=0;l<a-2;++l)d+="var arg"+l+"Wired = argType"+l+".toWireType("+p+", arg"+l+"); // "+t[l+2].name+"\n",m.push("argType"+l),f.push(t[l+2]);if(o&&(c="thisWired"+(c.length>0?", ":"")+c),d+=(h?"var rv = ":"")+"invoker(fn"+(c.length>0?", ":"")+c+");\n",n)d+="runDestructors(destructors);\n";else for(var l=o?1:2;l<t.length;++l){var _=1===l?"thisWired":"arg"+(l-2)+"Wired";null!==t[l].destructorFunction&&(d+=_+"_dtor("+_+"); // "+t[l].name+"\n",m.push(_+"_dtor"),f.push(t[l].destructorFunction))}return h&&(d+="var ret = retType.fromWireType(rv);\nreturn ret;\n"),d+="}\n",m.push(d),eA(Function,m).apply(null,f)}(e,l,0,i,a),n=t-1,E.hasOwnProperty(s)||ea("Replacing nonexistant public symbol"),void 0!==E[s].overloadTable&&void 0!==n?E[s].overloadTable[n]=o:(E[s]=o,E[s].argCount=n),[]})},_embind_register_integer:function(e,t,r,s,i){t=eh(t),-1===i&&(i=4294967295);var a=em(r),o=e=>e;if(0===s){var n=32-8*r;o=e=>e<<n>>>n}var l=t.includes("unsigned"),h=(e,t)=>{};ed(e,{name:t,fromWireType:o,toWireType:l?function(e,t){return h(t,this.name),t>>>0}:function(e,t){return h(t,this.name),t},argPackAdvance:8,readValueFromPointer:ep(t,a,0!==s),destructorFunction:null})},_embind_register_memory_view:function(e,t,r){var s=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,BigInt64Array,BigUint64Array][t];function i(e){e>>=2;var t=_,r=t[e],i=t[e+1];return new s(u,i,r)}ed(e,{name:r=eh(r),fromWireType:i,argPackAdvance:8,readValueFromPointer:i},{ignoreDuplicateRegistrations:!0})},_embind_register_std_string:function(e,t){var r="std::string"===(t=eh(t));ed(e,{name:t,fromWireType:function(e){var t,s=_[e>>2],i=e+4;if(r)for(var a=i,o=0;o<=s;++o){var n=i+o;if(o==s||0==d[n]){var l,h=n-a,u=(l=a)?O(d,l,h):"";void 0===t?t=u:t+="\0"+u,a=n+1}}else{for(var c=Array(s),o=0;o<s;++o)c[o]=String.fromCharCode(d[i+o]);t=c.join("")}return eU(e),t},toWireType:function(e,t){t instanceof ArrayBuffer&&(t=new Uint8Array(t));var s,i="string"==typeof t;i||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Int8Array||ec("Cannot pass non-string to std::string"),s=r&&i?function(e){for(var t=0,r=0;r<e.length;++r){var s=e.charCodeAt(r);s<=127?t++:s<=2047?t+=2:s>=55296&&s<=57343?(t+=4,++r):t+=3}return t}(t):t.length;var a=eG(4+s+1),o=a+4;if(_[a>>2]=s,r&&i)!function(e,t,r,s){if(s>0){for(var i=r+s-1,a=0;a<e.length;++a){var o=e.charCodeAt(a);if(o>=55296&&o<=57343&&(o=65536+((1023&o)<<10)|1023&e.charCodeAt(++a)),o<=127){if(r>=i)break;t[r++]=o}else if(o<=2047){if(r+1>=i)break;t[r++]=192|o>>6,t[r++]=128|63&o}else if(o<=65535){if(r+2>=i)break;t[r++]=224|o>>12,t[r++]=128|o>>6&63,t[r++]=128|63&o}else{if(r+3>=i)break;t[r++]=240|o>>18,t[r++]=128|o>>12&63,t[r++]=128|o>>6&63,t[r++]=128|63&o}}t[r]=0}}(t,d,o,s+1);else if(i)for(var n=0;n<s;++n){var l=t.charCodeAt(n);l>255&&(eU(o),ec("String has UTF-16 code units that do not fit in 8 bits")),d[o+n]=l}else for(var n=0;n<s;++n)d[o+n]=t[n];return null!==e&&e.push(eU,a),a},argPackAdvance:8,readValueFromPointer:Q,destructorFunction:function(e){eU(e)}})},_embind_register_std_wstring:function(e,t,r){var s,i,a,o,n;r=eh(r),2===t?(s=eM,i=eC,o=eR,a=()=>m,n=1):4===t&&(s=eF,i=eI,o=ew,a=()=>_,n=2),ed(e,{name:r,fromWireType:function(e){for(var r,i=_[e>>2],o=a(),l=e+4,h=0;h<=i;++h){var u=e+4+h*t;if(h==i||0==o[u>>n]){var c=u-l,d=s(l,c);void 0===r?r=d:r+="\0"+d,l=u+t}}return eU(e),r},toWireType:function(e,s){"string"!=typeof s&&ec("Cannot pass non-string to C++ string type "+r);var a=o(s),l=eG(4+a+t);return _[l>>2]=a>>n,i(s,l+4,a+t),null!==e&&e.push(eU,l),l},argPackAdvance:8,readValueFromPointer:Q,destructorFunction:function(e){eU(e)}})},_embind_register_value_array:function(e,t,r,s,i,a){q[e]={name:eh(t),rawConstructor:eE(r,s),rawDestructor:eE(i,a),elements:[]}},_embind_register_value_array_element:function(e,t,r,s,i,a,o,n,l){q[e].elements.push({getterReturnType:t,getter:eE(r,s),getterContext:i,setterArgumentType:a,setter:eE(o,n),setterContext:l})},_embind_register_void:function(e,t){ed(e,{isVoid:!0,name:t=eh(t),argPackAdvance:0,fromWireType:function(){},toWireType:function(e,t){}})},_emscripten_get_now_is_monotonic:function(){return!0},_emval_call_void_method:function(e,t,r,s){var i,a;(e=eO[e])(t=ey(t),r=void 0===(a=eL[i=r])?eh(i):a,null,s)},_emval_decref:eg,_emval_get_method_caller:function(e,t){var r,s,i=function(e,t){for(var r=Array(e),s=0;s<e;++s)r[s]=ev(_[t+4*s>>2],"parameter "+s);return r}(e,t),a=i[0],o=a.name+"_$"+i.slice(1).map(function(e){return e.name}).join("_")+"$",n=eB[o];if(void 0!==n)return n;for(var l=["retType"],h=[a],u="",c=0;c<e-1;++c)u+=(0!==c?", ":"")+"arg"+c,l.push("argType"+c),h.push(i[1+c]);for(var d="return function "+et("methodCaller_"+o)+"(handle, name, destructors, args) {\n",p=0,c=0;c<e-1;++c)d+="    var arg"+c+" = argType"+c+".readValueFromPointer(args"+(p?"+"+p:"")+");\n",p+=i[c+1].argPackAdvance;d+="    var rv = handle[name]("+u+");\n";for(var c=0;c<e-1;++c)i[c+1].deleteObject&&(d+="    argType"+c+".deleteObject(arg"+c+");\n");return a.isVoid||(d+="    return retType.toWireType(destructors, rv);\n"),d+="};\n",l.push(d),r=eA(Function,l).apply(null,h),s=eO.length,eO.push(r),n=s,eB[o]=n,n},abort:function(){X("")},emscripten_date_now:function(){return Date.now()},emscripten_get_heap_max:function(){return eD()},emscripten_get_now:A,emscripten_memcpy_big:function(e,t,r){d.copyWithin(e,t,t+r)},emscripten_resize_heap:function(e){var t=d.length;e>>>=0;var r=eD();if(e>r)return!1;let s=(e,t)=>e+(t-e%t)%t;for(var i=1;i<=4;i*=2){var a=t*(1+.2/i);if(a=Math.min(a,e+100663296),function(e){try{return l.grow(e-u.byteLength+65535>>>16),B(l.buffer),1}catch(e){}}(Math.min(r,s(Math.max(e,a),65536))))return!0}return!1},fd_write:function(e,t,r,s){for(var i=0,a=0;a<r;a++){var o=_[t>>2],n=_[t+4>>2];t+=8;for(var l=0;l<n;l++)!function(e,t){var r=eN[e];0===t||10===t?((1===e?R:F)(O(r,0)),r.length=0):r.push(t)}(e,d[o+l]);i+=n}return _[s>>2]=i,0}};(function(){var e={env:ek,wasi_snapshot_preview1:ek};function t(e,t){var r,s=e.exports;E.asm=s,B((l=E.asm.memory).buffer),T=E.asm.__indirect_function_table,r=E.asm.__wasm_call_ctors,N.unshift(r),function(e){if(U--,E.monitorRunDependencies&&E.monitorRunDependencies(U),0==U&&(null!==H&&(clearInterval(H),H=null),V)){var t=V;V=null,t()}}(0)}function r(e){t(e.instance)}function s(t){return(n||"function"!=typeof fetch?Promise.resolve().then(function(){return Y(v)}):fetch(v,{credentials:"same-origin"}).then(function(e){if(!e.ok)throw"failed to load wasm binary file at '"+v+"'";return e.arrayBuffer()}).catch(function(){return Y(v)})).then(function(t){return WebAssembly.instantiate(t,e)}).then(function(e){return e}).then(t,function(e){F("failed to asynchronously prepare wasm: "+e),X(e)})}if(U++,E.monitorRunDependencies&&E.monitorRunDependencies(U),E.instantiateWasm)try{return E.instantiateWasm(e,t)}catch(e){F("Module.instantiateWasm callback failed with error: "+e),a(e)}(n||"function"!=typeof WebAssembly.instantiateStreaming||W(v)||"function"!=typeof fetch?s(r):fetch(v,{credentials:"same-origin"}).then(function(t){return WebAssembly.instantiateStreaming(t,e).then(r,function(e){return F("wasm streaming compile failed: "+e),F("falling back to ArrayBuffer instantiation"),s(r)})})).catch(a)})(),E.___wasm_call_ctors=function(){return(E.___wasm_call_ctors=E.asm.__wasm_call_ctors).apply(null,arguments)},E._HP_GetStatistics=function(){return(E._HP_GetStatistics=E.asm.HP_GetStatistics).apply(null,arguments)},E._HP_Shape_CreateSphere=function(){return(E._HP_Shape_CreateSphere=E.asm.HP_Shape_CreateSphere).apply(null,arguments)},E._HP_Shape_CreateCapsule=function(){return(E._HP_Shape_CreateCapsule=E.asm.HP_Shape_CreateCapsule).apply(null,arguments)},E._HP_Shape_CreateCylinder=function(){return(E._HP_Shape_CreateCylinder=E.asm.HP_Shape_CreateCylinder).apply(null,arguments)},E._HP_Shape_CreateBox=function(){return(E._HP_Shape_CreateBox=E.asm.HP_Shape_CreateBox).apply(null,arguments)},E._HP_Shape_CreateConvexHull=function(){return(E._HP_Shape_CreateConvexHull=E.asm.HP_Shape_CreateConvexHull).apply(null,arguments)},E._HP_Shape_CreateMesh=function(){return(E._HP_Shape_CreateMesh=E.asm.HP_Shape_CreateMesh).apply(null,arguments)},E._HP_Shape_CreateHeightField=function(){return(E._HP_Shape_CreateHeightField=E.asm.HP_Shape_CreateHeightField).apply(null,arguments)},E._HP_Shape_CreateContainer=function(){return(E._HP_Shape_CreateContainer=E.asm.HP_Shape_CreateContainer).apply(null,arguments)},E._HP_Shape_Release=function(){return(E._HP_Shape_Release=E.asm.HP_Shape_Release).apply(null,arguments)},E._HP_Shape_GetType=function(){return(E._HP_Shape_GetType=E.asm.HP_Shape_GetType).apply(null,arguments)},E._HP_Shape_AddChild=function(){return(E._HP_Shape_AddChild=E.asm.HP_Shape_AddChild).apply(null,arguments)},E._HP_Shape_RemoveChild=function(){return(E._HP_Shape_RemoveChild=E.asm.HP_Shape_RemoveChild).apply(null,arguments)},E._HP_Shape_GetNumChildren=function(){return(E._HP_Shape_GetNumChildren=E.asm.HP_Shape_GetNumChildren).apply(null,arguments)},E._HP_Shape_SetChildQSTransform=function(){return(E._HP_Shape_SetChildQSTransform=E.asm.HP_Shape_SetChildQSTransform).apply(null,arguments)},E._HP_Shape_GetChildQSTransform=function(){return(E._HP_Shape_GetChildQSTransform=E.asm.HP_Shape_GetChildQSTransform).apply(null,arguments)},E._HP_Shape_SetFilterInfo=function(){return(E._HP_Shape_SetFilterInfo=E.asm.HP_Shape_SetFilterInfo).apply(null,arguments)},E._HP_Shape_GetFilterInfo=function(){return(E._HP_Shape_GetFilterInfo=E.asm.HP_Shape_GetFilterInfo).apply(null,arguments)},E._HP_Shape_SetMaterial=function(){return(E._HP_Shape_SetMaterial=E.asm.HP_Shape_SetMaterial).apply(null,arguments)},E._HP_Shape_GetMaterial=function(){return(E._HP_Shape_GetMaterial=E.asm.HP_Shape_GetMaterial).apply(null,arguments)},E._HP_Shape_SetDensity=function(){return(E._HP_Shape_SetDensity=E.asm.HP_Shape_SetDensity).apply(null,arguments)},E._HP_Shape_GetDensity=function(){return(E._HP_Shape_GetDensity=E.asm.HP_Shape_GetDensity).apply(null,arguments)},E._HP_Shape_CastRay=function(){return(E._HP_Shape_CastRay=E.asm.HP_Shape_CastRay).apply(null,arguments)},E._HP_Shape_BuildMassProperties=function(){return(E._HP_Shape_BuildMassProperties=E.asm.HP_Shape_BuildMassProperties).apply(null,arguments)},E._HP_ShapePathIterator_GetNext=function(){return(E._HP_ShapePathIterator_GetNext=E.asm.HP_ShapePathIterator_GetNext).apply(null,arguments)},E._HP_Shape_SetTrigger=function(){return(E._HP_Shape_SetTrigger=E.asm.HP_Shape_SetTrigger).apply(null,arguments)},E._HP_Shape_CreateDebugDisplayGeometry=function(){return(E._HP_Shape_CreateDebugDisplayGeometry=E.asm.HP_Shape_CreateDebugDisplayGeometry).apply(null,arguments)},E._HP_DebugGeometry_GetInfo=function(){return(E._HP_DebugGeometry_GetInfo=E.asm.HP_DebugGeometry_GetInfo).apply(null,arguments)},E._HP_DebugGeometry_Release=function(){return(E._HP_DebugGeometry_Release=E.asm.HP_DebugGeometry_Release).apply(null,arguments)},E._HP_Body_Create=function(){return(E._HP_Body_Create=E.asm.HP_Body_Create).apply(null,arguments)},E._HP_Body_Release=function(){return(E._HP_Body_Release=E.asm.HP_Body_Release).apply(null,arguments)},E._HP_Body_SetShape=function(){return(E._HP_Body_SetShape=E.asm.HP_Body_SetShape).apply(null,arguments)},E._HP_Body_GetShape=function(){return(E._HP_Body_GetShape=E.asm.HP_Body_GetShape).apply(null,arguments)},E._HP_Body_SetMotionType=function(){return(E._HP_Body_SetMotionType=E.asm.HP_Body_SetMotionType).apply(null,arguments)},E._HP_Body_GetMotionType=function(){return(E._HP_Body_GetMotionType=E.asm.HP_Body_GetMotionType).apply(null,arguments)},E._HP_Body_SetEventMask=function(){return(E._HP_Body_SetEventMask=E.asm.HP_Body_SetEventMask).apply(null,arguments)},E._HP_Body_GetEventMask=function(){return(E._HP_Body_GetEventMask=E.asm.HP_Body_GetEventMask).apply(null,arguments)},E._HP_Body_SetMassProperties=function(){return(E._HP_Body_SetMassProperties=E.asm.HP_Body_SetMassProperties).apply(null,arguments)},E._HP_Body_GetMassProperties=function(){return(E._HP_Body_GetMassProperties=E.asm.HP_Body_GetMassProperties).apply(null,arguments)},E._HP_Body_SetLinearDamping=function(){return(E._HP_Body_SetLinearDamping=E.asm.HP_Body_SetLinearDamping).apply(null,arguments)},E._HP_Body_GetLinearDamping=function(){return(E._HP_Body_GetLinearDamping=E.asm.HP_Body_GetLinearDamping).apply(null,arguments)},E._HP_Body_SetAngularDamping=function(){return(E._HP_Body_SetAngularDamping=E.asm.HP_Body_SetAngularDamping).apply(null,arguments)},E._HP_Body_GetAngularDamping=function(){return(E._HP_Body_GetAngularDamping=E.asm.HP_Body_GetAngularDamping).apply(null,arguments)},E._HP_Body_SetGravityFactor=function(){return(E._HP_Body_SetGravityFactor=E.asm.HP_Body_SetGravityFactor).apply(null,arguments)},E._HP_Body_GetGravityFactor=function(){return(E._HP_Body_GetGravityFactor=E.asm.HP_Body_GetGravityFactor).apply(null,arguments)},E._HP_Body_GetWorld=function(){return(E._HP_Body_GetWorld=E.asm.HP_Body_GetWorld).apply(null,arguments)},E._HP_Body_SetPosition=function(){return(E._HP_Body_SetPosition=E.asm.HP_Body_SetPosition).apply(null,arguments)},E._HP_Body_GetPosition=function(){return(E._HP_Body_GetPosition=E.asm.HP_Body_GetPosition).apply(null,arguments)},E._HP_Body_SetOrientation=function(){return(E._HP_Body_SetOrientation=E.asm.HP_Body_SetOrientation).apply(null,arguments)},E._HP_Body_GetOrientation=function(){return(E._HP_Body_GetOrientation=E.asm.HP_Body_GetOrientation).apply(null,arguments)},E._HP_Body_SetQTransform=function(){return(E._HP_Body_SetQTransform=E.asm.HP_Body_SetQTransform).apply(null,arguments)},E._HP_Body_GetWorldTransformOffset=function(){return(E._HP_Body_GetWorldTransformOffset=E.asm.HP_Body_GetWorldTransformOffset).apply(null,arguments)},E._HP_Body_GetQTransform=function(){return(E._HP_Body_GetQTransform=E.asm.HP_Body_GetQTransform).apply(null,arguments)},E._HP_Body_SetLinearVelocity=function(){return(E._HP_Body_SetLinearVelocity=E.asm.HP_Body_SetLinearVelocity).apply(null,arguments)},E._HP_Body_GetLinearVelocity=function(){return(E._HP_Body_GetLinearVelocity=E.asm.HP_Body_GetLinearVelocity).apply(null,arguments)},E._HP_Body_SetAngularVelocity=function(){return(E._HP_Body_SetAngularVelocity=E.asm.HP_Body_SetAngularVelocity).apply(null,arguments)},E._HP_Body_GetAngularVelocity=function(){return(E._HP_Body_GetAngularVelocity=E.asm.HP_Body_GetAngularVelocity).apply(null,arguments)},E._HP_Body_ApplyImpulse=function(){return(E._HP_Body_ApplyImpulse=E.asm.HP_Body_ApplyImpulse).apply(null,arguments)},E._HP_Body_SetTargetQTransform=function(){return(E._HP_Body_SetTargetQTransform=E.asm.HP_Body_SetTargetQTransform).apply(null,arguments)},E._HP_Body_SetActivationState=function(){return(E._HP_Body_SetActivationState=E.asm.HP_Body_SetActivationState).apply(null,arguments)},E._HP_Body_GetActivationState=function(){return(E._HP_Body_GetActivationState=E.asm.HP_Body_GetActivationState).apply(null,arguments)},E._HP_Body_SetActivationControl=function(){return(E._HP_Body_SetActivationControl=E.asm.HP_Body_SetActivationControl).apply(null,arguments)},E._HP_Body_SetActivationPriority=function(){return(E._HP_Body_SetActivationPriority=E.asm.HP_Body_SetActivationPriority).apply(null,arguments)},E._HP_Constraint_Create=function(){return(E._HP_Constraint_Create=E.asm.HP_Constraint_Create).apply(null,arguments)},E._HP_Constraint_Release=function(){return(E._HP_Constraint_Release=E.asm.HP_Constraint_Release).apply(null,arguments)},E._HP_Constraint_SetParentBody=function(){return(E._HP_Constraint_SetParentBody=E.asm.HP_Constraint_SetParentBody).apply(null,arguments)},E._HP_Constraint_GetParentBody=function(){return(E._HP_Constraint_GetParentBody=E.asm.HP_Constraint_GetParentBody).apply(null,arguments)},E._HP_Constraint_SetChildBody=function(){return(E._HP_Constraint_SetChildBody=E.asm.HP_Constraint_SetChildBody).apply(null,arguments)},E._HP_Constraint_GetChildBody=function(){return(E._HP_Constraint_GetChildBody=E.asm.HP_Constraint_GetChildBody).apply(null,arguments)},E._HP_Constraint_SetAnchorInParent=function(){return(E._HP_Constraint_SetAnchorInParent=E.asm.HP_Constraint_SetAnchorInParent).apply(null,arguments)},E._HP_Constraint_SetAnchorInChild=function(){return(E._HP_Constraint_SetAnchorInChild=E.asm.HP_Constraint_SetAnchorInChild).apply(null,arguments)},E._HP_Constraint_SetCollisionsEnabled=function(){return(E._HP_Constraint_SetCollisionsEnabled=E.asm.HP_Constraint_SetCollisionsEnabled).apply(null,arguments)},E._HP_Constraint_GetCollisionsEnabled=function(){return(E._HP_Constraint_GetCollisionsEnabled=E.asm.HP_Constraint_GetCollisionsEnabled).apply(null,arguments)},E._HP_Constraint_SetEnabled=function(){return(E._HP_Constraint_SetEnabled=E.asm.HP_Constraint_SetEnabled).apply(null,arguments)},E._HP_Constraint_GetEnabled=function(){return(E._HP_Constraint_GetEnabled=E.asm.HP_Constraint_GetEnabled).apply(null,arguments)},E._HP_Constraint_SetAxisMinLimit=function(){return(E._HP_Constraint_SetAxisMinLimit=E.asm.HP_Constraint_SetAxisMinLimit).apply(null,arguments)},E._HP_Constraint_GetAxisMinLimit=function(){return(E._HP_Constraint_GetAxisMinLimit=E.asm.HP_Constraint_GetAxisMinLimit).apply(null,arguments)},E._HP_Constraint_SetAxisMaxLimit=function(){return(E._HP_Constraint_SetAxisMaxLimit=E.asm.HP_Constraint_SetAxisMaxLimit).apply(null,arguments)},E._HP_Constraint_GetAxisMaxLimit=function(){return(E._HP_Constraint_GetAxisMaxLimit=E.asm.HP_Constraint_GetAxisMaxLimit).apply(null,arguments)},E._HP_Constraint_GetAxisMode=function(){return(E._HP_Constraint_GetAxisMode=E.asm.HP_Constraint_GetAxisMode).apply(null,arguments)},E._HP_Constraint_SetAxisMode=function(){return(E._HP_Constraint_SetAxisMode=E.asm.HP_Constraint_SetAxisMode).apply(null,arguments)},E._HP_Constraint_SetAxisFriction=function(){return(E._HP_Constraint_SetAxisFriction=E.asm.HP_Constraint_SetAxisFriction).apply(null,arguments)},E._HP_Constraint_GetAxisFriction=function(){return(E._HP_Constraint_GetAxisFriction=E.asm.HP_Constraint_GetAxisFriction).apply(null,arguments)},E._HP_Constraint_SetAxisMotorType=function(){return(E._HP_Constraint_SetAxisMotorType=E.asm.HP_Constraint_SetAxisMotorType).apply(null,arguments)},E._HP_Constraint_GetAxisMotorType=function(){return(E._HP_Constraint_GetAxisMotorType=E.asm.HP_Constraint_GetAxisMotorType).apply(null,arguments)},E._HP_Constraint_SetAxisMotorTarget=function(){return(E._HP_Constraint_SetAxisMotorTarget=E.asm.HP_Constraint_SetAxisMotorTarget).apply(null,arguments)},E._HP_Constraint_GetAxisMotorTarget=function(){return(E._HP_Constraint_GetAxisMotorTarget=E.asm.HP_Constraint_GetAxisMotorTarget).apply(null,arguments)},E._HP_Constraint_SetAxisMotorMaxForce=function(){return(E._HP_Constraint_SetAxisMotorMaxForce=E.asm.HP_Constraint_SetAxisMotorMaxForce).apply(null,arguments)},E._HP_Constraint_GetAxisMotorMaxForce=function(){return(E._HP_Constraint_GetAxisMotorMaxForce=E.asm.HP_Constraint_GetAxisMotorMaxForce).apply(null,arguments)},E._HP_Constraint_SetAxisStiffness=function(){return(E._HP_Constraint_SetAxisStiffness=E.asm.HP_Constraint_SetAxisStiffness).apply(null,arguments)},E._HP_Constraint_SetAxisDamping=function(){return(E._HP_Constraint_SetAxisDamping=E.asm.HP_Constraint_SetAxisDamping).apply(null,arguments)},E._HP_World_Create=function(){return(E._HP_World_Create=E.asm.HP_World_Create).apply(null,arguments)},E._HP_World_Release=function(){return(E._HP_World_Release=E.asm.HP_World_Release).apply(null,arguments)},E._HP_World_GetBodyBuffer=function(){return(E._HP_World_GetBodyBuffer=E.asm.HP_World_GetBodyBuffer).apply(null,arguments)},E._HP_World_SetGravity=function(){return(E._HP_World_SetGravity=E.asm.HP_World_SetGravity).apply(null,arguments)},E._HP_World_GetGravity=function(){return(E._HP_World_GetGravity=E.asm.HP_World_GetGravity).apply(null,arguments)},E._HP_World_AddBody=function(){return(E._HP_World_AddBody=E.asm.HP_World_AddBody).apply(null,arguments)},E._HP_World_RemoveBody=function(){return(E._HP_World_RemoveBody=E.asm.HP_World_RemoveBody).apply(null,arguments)},E._HP_World_GetNumBodies=function(){return(E._HP_World_GetNumBodies=E.asm.HP_World_GetNumBodies).apply(null,arguments)},E._HP_World_CastRayWithCollector=function(){return(E._HP_World_CastRayWithCollector=E.asm.HP_World_CastRayWithCollector).apply(null,arguments)},E._HP_World_Step=function(){return(E._HP_World_Step=E.asm.HP_World_Step).apply(null,arguments)},E._HP_World_SetIdealStepTime=function(){return(E._HP_World_SetIdealStepTime=E.asm.HP_World_SetIdealStepTime).apply(null,arguments)},E._HP_World_GetNextCollisionEvent=function(){return(E._HP_World_GetNextCollisionEvent=E.asm.HP_World_GetNextCollisionEvent).apply(null,arguments)},E._HP_World_GetNextTriggerEvent=function(){return(E._HP_World_GetNextTriggerEvent=E.asm.HP_World_GetNextTriggerEvent).apply(null,arguments)},E._HP_QueryCollector_Create=function(){return(E._HP_QueryCollector_Create=E.asm.HP_QueryCollector_Create).apply(null,arguments)},E._HP_QueryCollector_Release=function(){return(E._HP_QueryCollector_Release=E.asm.HP_QueryCollector_Release).apply(null,arguments)},E._HP_QueryCollector_GetNumHits=function(){return(E._HP_QueryCollector_GetNumHits=E.asm.HP_QueryCollector_GetNumHits).apply(null,arguments)},E._HP_QueryCollector_GetCastRayResult=function(){return(E._HP_QueryCollector_GetCastRayResult=E.asm.HP_QueryCollector_GetCastRayResult).apply(null,arguments)},E._main=function(){return(E._main=E.asm.main).apply(null,arguments)};var eG=E._malloc=function(){return(eG=E._malloc=E.asm.malloc).apply(null,arguments)},eU=E._free=function(){return(eU=E._free=E.asm.free).apply(null,arguments)},eH=(E._HP_Debug_StartRecordingStats=function(){return(E._HP_Debug_StartRecordingStats=E.asm.HP_Debug_StartRecordingStats).apply(null,arguments)},E._HP_Debug_StopRecordingStats=function(){return(E._HP_Debug_StopRecordingStats=E.asm.HP_Debug_StopRecordingStats).apply(null,arguments)},E.___errno_location=function(){return(E.___errno_location=E.asm.__errno_location).apply(null,arguments)},E._htons=function(){return(E._htons=E.asm.htons).apply(null,arguments)},E._ntohs=function(){return(E._ntohs=E.asm.ntohs).apply(null,arguments)},E.___getTypeName=function(){return(eH=E.___getTypeName=E.asm.__getTypeName).apply(null,arguments)});function eV(e){e=e||P,!(U>0)&&(function(){if(E.preRun)for("function"==typeof E.preRun&&(E.preRun=[E.preRun]);E.preRun.length;){var e;e=E.preRun.shift(),D.unshift(e)}$(D)}(),U>0||(E.setStatus?(E.setStatus("Running..."),setTimeout(function(){setTimeout(function(){E.setStatus("")},1),t()},1)):t()));function t(){!j&&(j=!0,E.calledRun=!0,w||($(N),$(k),i(E),E.onRuntimeInitialized&&E.onRuntimeInitialized(),eX&&function(e){var t=E._main;try{var r=t(0,0);h=r,h=r,I||(E.onExit&&E.onExit(r),w=!0),M(r,new z(r))}catch(e){return function(e){if(e instanceof z||"unwind"==e)return h;M(1,e)}(e)}}(0),function(){if(E.postRun)for("function"==typeof E.postRun&&(E.postRun=[E.postRun]);E.postRun.length;){var e;e=E.postRun.shift(),G.unshift(e)}$(G)}()))}}if(E.__embind_initialize_bindings=function(){return(E.__embind_initialize_bindings=E.asm._embind_initialize_bindings).apply(null,arguments)},E._htonl=function(){return(E._htonl=E.asm.htonl).apply(null,arguments)},E._setThrew=function(){return(E._setThrew=E.asm.setThrew).apply(null,arguments)},E._saveSetjmp=function(){return(E._saveSetjmp=E.asm.saveSetjmp).apply(null,arguments)},E.stackSave=function(){return(E.stackSave=E.asm.stackSave).apply(null,arguments)},E.stackRestore=function(){return(E.stackRestore=E.asm.stackRestore).apply(null,arguments)},E.stackAlloc=function(){return(E.stackAlloc=E.asm.stackAlloc).apply(null,arguments)},V=function e(){j||eV(),j||(V=e)},E.preInit)for("function"==typeof E.preInit&&(E.preInit=[E.preInit]);E.preInit.length>0;)E.preInit.pop()();var eX=!0;return E.noInitialRun&&(eX=!1),eV(),t.ready});r.default=i},{af2f6bf6b6d9048a:"2B47u","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"2B47u":[function(e,t,r){t.exports=e("d8aae0bfd0f0377b").getBundleURL("cuTmy")+"HavokPhysics.ab63f94d.wasm"},{d8aae0bfd0f0377b:"gEpYW"}],dfETV:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"loadEnemyModel",()=>c),s.export(r,"loadDamageEnemyModel",()=>d),s.export(r,"loadMenuItemModel",()=>p),s.export(r,"loadMenuItem2Model",()=>m),s.export(r,"loadShieldYarModel",()=>f),s.export(r,"loadShieldYarPartModel",()=>_),s.export(r,"loadToAssetContainer",()=>l),s.export(r,"mergeMeshes",()=>n),s.export(r,"loadModel",()=>h),s.export(r,"instateMesh",()=>u);var i=e("@/game_state/assets/state"),a=e("@babylonjs/core");e("@babylonjs/loaders");let o=async(e,t,r)=>new Promise((s,i)=>{(0,a.SceneLoader).LoadAssetContainer(e,t,r,function(e){s(e)})}),n=e=>{let t=(0,a.Mesh).MergeMeshes(e.rootNodes[0].getChildMeshes(),!0,!1,null,null,!0);return t.scaling=new a.Vector3(1,1,1),t.position=new a.Vector3(0,0,0),t};async function l(e,t,r){return await o(e,t,r)}async function h(e,t,r){return await l(e,t,r)}function u(e,t){return n(t.instantiateModelsToScene(()=>e,!0))}function c(e){h("public/models/","cristal_one.glb",e).then(e=>{(0,i.ASSETS).containers3D.set("cristal",e)})}function d(e){h("public/models/","damage.glb",e).then(e=>{(0,i.ASSETS).containers3D.set("enemy_damage",e)})}function p(e){return new Promise(t=>{h("public/models/menu/","menuItem.glb",e).then(e=>{(0,i.ASSETS).containers3D.set("menu_item",e),t(!0)})})}function m(e){return new Promise(t=>{h("public/models/","menuItem2.glb",e).then(e=>{(0,i.ASSETS).containers3D.set("menu_item",e),t(!0)})})}function f(e){return new Promise(t=>{h("public/models/","shield_yar.glb",e).then(e=>{(0,i.ASSETS).containers3D.set("shield_yar",e),t(!0)})})}function _(e){return new Promise(t=>{h("public/models/","shield_yar_prt.glb",e).then(e=>{(0,i.ASSETS).containers3D.set("shield_yar_prt",e),t(!0)})})}},{"@/game_state/assets/state":"eemMA","@babylonjs/core":"1KKys","@babylonjs/loaders":"kfXwA","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],kfXwA:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r);var i=e("./glTF/index.js");s.exportAll(i,r);var a=e("./OBJ/index.js");s.exportAll(a,r);var o=e("./STL/index.js");s.exportAll(o,r);var n=e("./SPLAT/index.js");s.exportAll(n,r)},{"./glTF/index.js":"hgHFW","./OBJ/index.js":"7qwNs","./STL/index.js":"hovy3","./SPLAT/index.js":"lB3Rc","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],hgHFW:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"GLTF1",()=>o),s.export(r,"GLTF2",()=>n);var i=e("./glTFFileLoader.js");s.exportAll(i,r);var a=e("./glTFValidation.js");s.exportAll(a,r);var o=e("./1.0/index.js"),n=e("./2.0/index.js")},{"./glTFFileLoader.js":"GX9kb","./glTFValidation.js":"jg0XJ","./1.0/index.js":"9noXw","./2.0/index.js":"h2sWA","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],GX9kb:[function(e,t,r){var s,i,a,o,n,l,h=e("@parcel/transformer-js/src/esmodule-helpers.js");h.defineInteropFlag(r),h.export(r,"GLTFLoaderCoordinateSystemMode",()=>o),h.export(r,"GLTFLoaderAnimationStartMode",()=>n),h.export(r,"GLTFLoaderState",()=>l),h.export(r,"GLTFFileLoader",()=>b);var u=e("@babylonjs/core/Misc/observable.js"),c=e("@babylonjs/core/Misc/tools.js"),d=e("@babylonjs/core/Loading/sceneLoader.js"),p=e("@babylonjs/core/assetContainer.js"),m=e("@babylonjs/core/Misc/logger.js"),f=e("@babylonjs/core/Misc/dataReader.js"),_=e("./glTFValidation.js"),g=e("@babylonjs/core/Misc/fileTools.js"),y=e("@babylonjs/core/Misc/error.js");function x(e,t,r){try{return Promise.resolve(new Uint8Array(e,t,r))}catch(e){return Promise.reject(e)}}(s=o||(o={}))[s.AUTO=0]="AUTO",s[s.FORCE_RIGHT_HANDED=1]="FORCE_RIGHT_HANDED",(i=n||(n={}))[i.NONE=0]="NONE",i[i.FIRST=1]="FIRST",i[i.ALL=2]="ALL",(a=l||(l={}))[a.LOADING=0]="LOADING",a[a.READY=1]="READY",a[a.COMPLETE=2]="COMPLETE";class b{constructor(){this.onParsedObservable=new u.Observable,this.coordinateSystemMode=o.AUTO,this.animationStartMode=n.FIRST,this.compileMaterials=!1,this.useClipPlane=!1,this.compileShadowGenerators=!1,this.transparencyAsCoverage=!1,this.useRangeRequests=!1,this.createInstances=!0,this.alwaysComputeBoundingBox=!1,this.loadAllMaterials=!1,this.loadOnlyMaterials=!1,this.skipMaterials=!1,this.useSRGBBuffers=!0,this.targetFps=60,this.alwaysComputeSkeletonRootNode=!1,this.preprocessUrlAsync=e=>Promise.resolve(e),this.onMeshLoadedObservable=new u.Observable,this.onSkinLoadedObservable=new u.Observable,this.onTextureLoadedObservable=new u.Observable,this.onMaterialLoadedObservable=new u.Observable,this.onCameraLoadedObservable=new u.Observable,this.onCompleteObservable=new u.Observable,this.onErrorObservable=new u.Observable,this.onDisposeObservable=new u.Observable,this.onExtensionLoadedObservable=new u.Observable,this.validate=!1,this.onValidatedObservable=new u.Observable,this._loader=null,this._state=null,this._requests=[],this.name="gltf",this.extensions={".gltf":{isBinary:!1},".glb":{isBinary:!0}},this.onLoaderStateChangedObservable=new u.Observable,this._logIndentLevel=0,this._loggingEnabled=!1,this._log=this._logDisabled,this._capturePerformanceCounters=!1,this._startPerformanceCounter=this._startPerformanceCounterDisabled,this._endPerformanceCounter=this._endPerformanceCounterDisabled}set onParsed(e){this._onParsedObserver&&this.onParsedObservable.remove(this._onParsedObserver),this._onParsedObserver=this.onParsedObservable.add(e)}set onMeshLoaded(e){this._onMeshLoadedObserver&&this.onMeshLoadedObservable.remove(this._onMeshLoadedObserver),this._onMeshLoadedObserver=this.onMeshLoadedObservable.add(e)}set onTextureLoaded(e){this._onTextureLoadedObserver&&this.onTextureLoadedObservable.remove(this._onTextureLoadedObserver),this._onTextureLoadedObserver=this.onTextureLoadedObservable.add(e)}set onMaterialLoaded(e){this._onMaterialLoadedObserver&&this.onMaterialLoadedObservable.remove(this._onMaterialLoadedObserver),this._onMaterialLoadedObserver=this.onMaterialLoadedObservable.add(e)}set onCameraLoaded(e){this._onCameraLoadedObserver&&this.onCameraLoadedObservable.remove(this._onCameraLoadedObserver),this._onCameraLoadedObserver=this.onCameraLoadedObservable.add(e)}set onComplete(e){this._onCompleteObserver&&this.onCompleteObservable.remove(this._onCompleteObserver),this._onCompleteObserver=this.onCompleteObservable.add(e)}set onError(e){this._onErrorObserver&&this.onErrorObservable.remove(this._onErrorObserver),this._onErrorObserver=this.onErrorObservable.add(e)}set onDispose(e){this._onDisposeObserver&&this.onDisposeObservable.remove(this._onDisposeObserver),this._onDisposeObserver=this.onDisposeObservable.add(e)}set onExtensionLoaded(e){this._onExtensionLoadedObserver&&this.onExtensionLoadedObservable.remove(this._onExtensionLoadedObserver),this._onExtensionLoadedObserver=this.onExtensionLoadedObservable.add(e)}get loggingEnabled(){return this._loggingEnabled}set loggingEnabled(e){this._loggingEnabled!==e&&(this._loggingEnabled=e,this._loggingEnabled?this._log=this._logEnabled:this._log=this._logDisabled)}get capturePerformanceCounters(){return this._capturePerformanceCounters}set capturePerformanceCounters(e){this._capturePerformanceCounters!==e&&(this._capturePerformanceCounters=e,this._capturePerformanceCounters?(this._startPerformanceCounter=this._startPerformanceCounterEnabled,this._endPerformanceCounter=this._endPerformanceCounterEnabled):(this._startPerformanceCounter=this._startPerformanceCounterDisabled,this._endPerformanceCounter=this._endPerformanceCounterDisabled))}set onValidated(e){this._onValidatedObserver&&this.onValidatedObservable.remove(this._onValidatedObserver),this._onValidatedObserver=this.onValidatedObservable.add(e)}dispose(){for(let e of(this._loader&&(this._loader.dispose(),this._loader=null),this._requests))e.abort();this._requests.length=0,delete this._progressCallback,this.preprocessUrlAsync=e=>Promise.resolve(e),this.onMeshLoadedObservable.clear(),this.onSkinLoadedObservable.clear(),this.onTextureLoadedObservable.clear(),this.onMaterialLoadedObservable.clear(),this.onCameraLoadedObservable.clear(),this.onCompleteObservable.clear(),this.onExtensionLoadedObservable.clear(),this.onDisposeObservable.notifyObservers(void 0),this.onDisposeObservable.clear()}loadFile(e,t,r,s,i,a,o,n){if(ArrayBuffer.isView(t))return this._loadBinary(e,t,r,s,o,n),null;this._progressCallback=i;let l=t.name||(0,c.Tools).GetFilename(t);if(!a)return this._loadFile(e,t,t=>{this._validate(e,t,r,l),s({json:this._parseJson(t)})},!1,o);if(this.useRangeRequests){this.validate&&(0,m.Logger).Warn("glTF validation is not supported when range requests are enabled");let r={abort:()=>{},onCompleteObservable:new u.Observable};return this._unpackBinaryAsync(new f.DataReader({readAsync:(r,s)=>new Promise((i,a)=>{this._loadFile(e,t,e=>{i(new Uint8Array(e))},!0,e=>{a(e)},e=>{e.setRequestHeader("Range",`bytes=${r}-${r+s-1}`)})}),byteLength:0})).then(e=>{r.onCompleteObservable.notifyObservers(r),s(e)},o?e=>o(void 0,e):void 0),r}return this._loadFile(e,t,t=>{this._validate(e,new Uint8Array(t,0,t.byteLength),r,l),this._unpackBinaryAsync(new f.DataReader({readAsync:(e,r)=>x(t,e,r),byteLength:t.byteLength})).then(e=>{s(e)},o?e=>o(void 0,e):void 0)},!0,o)}_loadBinary(e,t,r,s,i,a){this._validate(e,new Uint8Array(t.buffer,t.byteOffset,t.byteLength),r,a),this._unpackBinaryAsync(new f.DataReader({readAsync:(e,r)=>(function(e,t,r){try{if(t<0||t>=e.byteLength)throw RangeError("Offset is out of range.");if(t+r>e.byteLength)throw RangeError("Length is out of range.");return Promise.resolve(new Uint8Array(e.buffer,e.byteOffset+t,r))}catch(e){return Promise.reject(e)}})(t,e,r),byteLength:t.byteLength})).then(e=>{s(e)},i?e=>i(void 0,e):void 0)}importMeshAsync(e,t,r,s,i,a){return Promise.resolve().then(()=>(this.onParsedObservable.notifyObservers(r),this.onParsedObservable.clear(),this._log(`Loading ${a||""}`),this._loader=this._getLoader(r),this._loader.importMeshAsync(e,t,null,r,s,i,a)))}loadAsync(e,t,r,s,i){return Promise.resolve().then(()=>(this.onParsedObservable.notifyObservers(t),this.onParsedObservable.clear(),this._log(`Loading ${i||""}`),this._loader=this._getLoader(t),this._loader.loadAsync(e,t,r,s,i)))}loadAssetContainerAsync(e,t,r,s,i){return Promise.resolve().then(()=>{this.onParsedObservable.notifyObservers(t),this.onParsedObservable.clear(),this._log(`Loading ${i||""}`),this._loader=this._getLoader(t);let a=new p.AssetContainer(e),o=[];this.onMaterialLoadedObservable.add(e=>{o.push(e)});let n=[];this.onTextureLoadedObservable.add(e=>{n.push(e)});let l=[];this.onCameraLoadedObservable.add(e=>{l.push(e)});let h=[];return this.onMeshLoadedObservable.add(e=>{e.morphTargetManager&&h.push(e.morphTargetManager)}),this._loader.importMeshAsync(null,e,a,t,r,s,i).then(e=>(Array.prototype.push.apply(a.geometries,e.geometries),Array.prototype.push.apply(a.meshes,e.meshes),Array.prototype.push.apply(a.particleSystems,e.particleSystems),Array.prototype.push.apply(a.skeletons,e.skeletons),Array.prototype.push.apply(a.animationGroups,e.animationGroups),Array.prototype.push.apply(a.materials,o),Array.prototype.push.apply(a.textures,n),Array.prototype.push.apply(a.lights,e.lights),Array.prototype.push.apply(a.transformNodes,e.transformNodes),Array.prototype.push.apply(a.cameras,l),Array.prototype.push.apply(a.morphTargetManagers,h),a))})}canDirectLoad(e){return -1!==e.indexOf("asset")&&-1!==e.indexOf("version")||e.startsWith("data:base64,"+b._MagicBase64Encoded)||e.startsWith("data:;base64,"+b._MagicBase64Encoded)||e.startsWith("data:application/octet-stream;base64,"+b._MagicBase64Encoded)||e.startsWith("data:model/gltf-binary;base64,"+b._MagicBase64Encoded)}directLoad(e,t){if(t.startsWith("base64,"+b._MagicBase64Encoded)||t.startsWith(";base64,"+b._MagicBase64Encoded)||t.startsWith("application/octet-stream;base64,"+b._MagicBase64Encoded)||t.startsWith("model/gltf-binary;base64,"+b._MagicBase64Encoded)){let r=(0,g.DecodeBase64UrlToBinary)(t);return this._validate(e,new Uint8Array(r,0,r.byteLength)),this._unpackBinaryAsync(new f.DataReader({readAsync:(e,t)=>x(r,e,t),byteLength:r.byteLength}))}return this._validate(e,t),Promise.resolve({json:this._parseJson(t)})}createPlugin(){return new b}get loaderState(){return this._state}whenCompleteAsync(){return new Promise((e,t)=>{this.onCompleteObservable.addOnce(()=>{e()}),this.onErrorObservable.addOnce(e=>{t(e)})})}_setState(e){this._state!==e&&(this._state=e,this.onLoaderStateChangedObservable.notifyObservers(this._state),this._log(l[this._state]))}_loadFile(e,t,r,s,i,a){let o=e._loadFile(t,r,e=>{this._onProgress(e,o)},!0,s,i,a);return o.onCompleteObservable.add(e=>{this._requests.splice(this._requests.indexOf(e),1)}),this._requests.push(o),o}_onProgress(e,t){if(!this._progressCallback)return;t._lengthComputable=e.lengthComputable,t._loaded=e.loaded,t._total=e.total;let r=!0,s=0,i=0;for(let e of this._requests){if(void 0===e._lengthComputable||void 0===e._loaded||void 0===e._total)return;r=r&&e._lengthComputable,s+=e._loaded,i+=e._total}this._progressCallback({lengthComputable:r,loaded:s,total:r?i:0})}_validate(e,t,r="",s=""){this.validate&&(this._startPerformanceCounter("Validate JSON"),(0,_.GLTFValidation).ValidateAsync(t,r,s,t=>this.preprocessUrlAsync(r+t).then(t=>e._loadFileAsync(t,void 0,!0,!0).then(e=>new Uint8Array(e,0,e.byteLength)))).then(e=>{this._endPerformanceCounter("Validate JSON"),this.onValidatedObservable.notifyObservers(e),this.onValidatedObservable.clear()},e=>{this._endPerformanceCounter("Validate JSON"),(0,c.Tools).Warn(`Failed to validate: ${e.message}`),this.onValidatedObservable.clear()}))}_getLoader(e){let t=e.json.asset||{};this._log(`Asset version: ${t.version}`),t.minVersion&&this._log(`Asset minimum version: ${t.minVersion}`),t.generator&&this._log(`Asset generator: ${t.generator}`);let r=b._parseVersion(t.version);if(!r)throw Error("Invalid version: "+t.version);if(void 0!==t.minVersion){let e=b._parseVersion(t.minVersion);if(!e)throw Error("Invalid minimum version: "+t.minVersion);if(b._compareVersion(e,{major:2,minor:0})>0)throw Error("Incompatible minimum version: "+t.minVersion)}let s={1:b._CreateGLTF1Loader,2:b._CreateGLTF2Loader}[r.major];if(!s)throw Error("Unsupported version: "+t.version);return s(this)}_parseJson(e){this._startPerformanceCounter("Parse JSON"),this._log(`JSON length: ${e.length}`);let t=JSON.parse(e);return this._endPerformanceCounter("Parse JSON"),t}_unpackBinaryAsync(e){return this._startPerformanceCounter("Unpack Binary"),e.loadAsync(20).then(()=>{let t;let r=e.readUint32();if(1179937895!==r)throw new y.RuntimeError("Unexpected magic: "+r,y.ErrorCodes.GLTFLoaderUnexpectedMagicError);let s=e.readUint32();this.loggingEnabled&&this._log(`Binary version: ${s}`);let i=e.readUint32();switch(this.useRangeRequests||i===e.buffer.byteLength||(0,m.Logger).Warn(`Length in header does not match actual data length: ${i} != ${e.buffer.byteLength}`),s){case 1:t=this._unpackBinaryV1Async(e,i);break;case 2:t=this._unpackBinaryV2Async(e,i);break;default:throw Error("Unsupported version: "+s)}return this._endPerformanceCounter("Unpack Binary"),t})}_unpackBinaryV1Async(e,t){let r=e.readUint32(),s=e.readUint32();if(0!==s)throw Error(`Unexpected content format: ${s}`);let i=t-e.byteOffset,a={json:this._parseJson(e.readString(r)),bin:null};if(0!==i){let t=e.byteOffset;a.bin={readAsync:(r,s)=>e.buffer.readAsync(t+r,s),byteLength:i}}return Promise.resolve(a)}_unpackBinaryV2Async(e,t){let r={JSON:1313821514,BIN:5130562},s=e.readUint32();if(e.readUint32()!==r.JSON)throw Error("First chunk format is not JSON");return e.byteOffset+s===t?e.loadAsync(s).then(()=>({json:this._parseJson(e.readString(s)),bin:null})):e.loadAsync(s+8).then(()=>{let i={json:this._parseJson(e.readString(s)),bin:null},a=()=>{let s=e.readUint32();switch(e.readUint32()){case r.JSON:throw Error("Unexpected JSON chunk");case r.BIN:{let t=e.byteOffset;i.bin={readAsync:(r,s)=>e.buffer.readAsync(t+r,s),byteLength:s},e.skipBytes(s);break}default:e.skipBytes(s)}return e.byteOffset!==t?e.loadAsync(8).then(a):Promise.resolve(i)};return a()})}static _parseVersion(e){if("1.0"===e||"1.0.1"===e)return{major:1,minor:0};let t=(e+"").match(/^(\d+)\.(\d+)/);return t?{major:parseInt(t[1]),minor:parseInt(t[2])}:null}static _compareVersion(e,t){return e.major>t.major?1:e.major<t.major?-1:e.minor>t.minor?1:e.minor<t.minor?-1:0}_logOpen(e){this._log(e),this._logIndentLevel++}_logClose(){--this._logIndentLevel}_logEnabled(e){let t=b._logSpaces.substr(0,2*this._logIndentLevel);(0,m.Logger).Log(`${t}${e}`)}_logDisabled(e){}_startPerformanceCounterEnabled(e){(0,c.Tools).StartPerformanceCounter(e)}_startPerformanceCounterDisabled(e){}_endPerformanceCounterEnabled(e){(0,c.Tools).EndPerformanceCounter(e)}_endPerformanceCounterDisabled(e){}}b.IncrementalLoading=!0,b.HomogeneousCoordinates=!1,b._MagicBase64Encoded="Z2xURg",b._logSpaces="                                ",d.SceneLoader&&(0,d.SceneLoader).RegisterPlugin(new b)},{"@babylonjs/core/Misc/observable.js":"7yHKY","@babylonjs/core/Misc/tools.js":"ieufJ","@babylonjs/core/Loading/sceneLoader.js":"8wULc","@babylonjs/core/assetContainer.js":"133YM","@babylonjs/core/Misc/logger.js":"5C8M2","@babylonjs/core/Misc/dataReader.js":"bHyjq","./glTFValidation.js":"jg0XJ","@babylonjs/core/Misc/fileTools.js":"cF4Gd","@babylonjs/core/Misc/error.js":"9T0Fo","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],jg0XJ:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"GLTFValidation",()=>n);var i=e("@babylonjs/core/Misc/tools.js");function a(e,t,r,s){let i={externalResourceFunction:s};return r&&(i.uri="file:"===t?r:t+r),ArrayBuffer.isView(e)?GLTFValidator.validateBytes(e,i):GLTFValidator.validateString(e,i)}function o(){let e=[];onmessage=t=>{let r=t.data;switch(r.id){case"init":importScripts(r.url);break;case"validate":a(r.data,r.rootUrl,r.fileName,t=>new Promise((r,s)=>{let i=e.length;e.push({resolve:r,reject:s}),postMessage({id:"getExternalResource",index:i,uri:t})})).then(e=>{postMessage({id:"validate.resolve",value:e})},e=>{postMessage({id:"validate.reject",reason:e})});break;case"getExternalResource.resolve":e[r.index].resolve(r.value);break;case"getExternalResource.reject":e[r.index].reject(r.reason)}}}class n{static ValidateAsync(e,t,r,s){return"function"==typeof Worker?new Promise((n,l)=>{let h=`${a}(${o})()`,u=new Worker(URL.createObjectURL(new Blob([h],{type:"application/javascript"}))),c=e=>{u.removeEventListener("error",c),u.removeEventListener("message",d),l(e)},d=e=>{let t=e.data;switch(t.id){case"getExternalResource":s(t.uri).then(e=>{u.postMessage({id:"getExternalResource.resolve",index:t.index,value:e},[e])},e=>{u.postMessage({id:"getExternalResource.reject",index:t.index,reason:e})});break;case"validate.resolve":u.removeEventListener("error",c),u.removeEventListener("message",d),n(t.value),u.terminate();break;case"validate.reject":u.removeEventListener("error",c),u.removeEventListener("message",d),l(t.reason),u.terminate()}};if(u.addEventListener("error",c),u.addEventListener("message",d),u.postMessage({id:"init",url:(0,i.Tools).GetBabylonScriptURL(this.Configuration.url)}),ArrayBuffer.isView(e)){let s=e.slice();u.postMessage({id:"validate",data:s,rootUrl:t,fileName:r},[s.buffer])}else u.postMessage({id:"validate",data:e,rootUrl:t,fileName:r})}):(this._LoadScriptPromise||(this._LoadScriptPromise=(0,i.Tools).LoadBabylonScriptAsync(this.Configuration.url)),this._LoadScriptPromise.then(()=>a(e,t,r,s)))}}n.Configuration={url:`${i.Tools._DefaultCdnUrl}/gltf_validator.js`}},{"@babylonjs/core/Misc/tools.js":"ieufJ","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"9noXw":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r);var i=e("./glTFBinaryExtension.js");s.exportAll(i,r);var a=e("./glTFLoader.js");s.exportAll(a,r);var o=e("./glTFLoaderInterfaces.js");s.exportAll(o,r);var n=e("./glTFLoaderUtils.js");s.exportAll(n,r);var l=e("./glTFMaterialsCommonExtension.js");s.exportAll(l,r)},{"./glTFBinaryExtension.js":"7EBUT","./glTFLoader.js":"7RXC9","./glTFLoaderInterfaces.js":"eWSDw","./glTFLoaderUtils.js":"hTCOH","./glTFMaterialsCommonExtension.js":"hbxDH","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"7EBUT":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"GLTFBinaryExtension",()=>n);var i=e("./glTFLoader.js"),a=e("./glTFLoaderUtils.js"),o=e("./glTFLoaderInterfaces.js");class n extends i.GLTFLoaderExtension{constructor(){super("KHR_binary_glTF")}loadRuntimeAsync(e,t,r,s){let a=t.json.extensionsUsed;return!!a&&-1!==a.indexOf(this.name)&&!!t.bin&&(this._bin=t.bin,s((0,i.GLTFLoaderBase).CreateRuntime(t.json,e,r)),!0)}loadBufferAsync(e,t,r,s){return -1!==e.extensionsUsed.indexOf(this.name)&&"binary_glTF"===t&&(this._bin.readAsync(0,this._bin.byteLength).then(r,e=>s(e.message)),!0)}loadTextureBufferAsync(e,t,r){let s=e.textures[t],i=e.images[s.source];if(!i.extensions||!(this.name in i.extensions))return!1;let n=i.extensions[this.name],l=e.bufferViews[n.bufferView];return r((0,a.GLTFUtils).GetBufferFromBufferView(e,l,0,l.byteLength,o.EComponentType.UNSIGNED_BYTE)),!0}loadShaderStringAsync(e,t,r){let s=e.shaders[t];if(!s.extensions||!(this.name in s.extensions))return!1;let i=s.extensions[this.name],n=e.bufferViews[i.bufferView],l=(0,a.GLTFUtils).GetBufferFromBufferView(e,n,0,n.byteLength,o.EComponentType.UNSIGNED_BYTE);return setTimeout(()=>{r((0,a.GLTFUtils).DecodeBufferToText(l))}),!0}}(0,i.GLTFLoader).RegisterExtension(new n)},{"./glTFLoader.js":"7RXC9","./glTFLoaderUtils.js":"hTCOH","./glTFLoaderInterfaces.js":"eWSDw","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"7RXC9":[function(e,t,r){var s,i,a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"GLTFLoaderBase",()=>eu),a.export(r,"GLTFLoader",()=>ec),a.export(r,"GLTFLoaderExtension",()=>ed);var o=e("./glTFLoaderInterfaces.js"),n=e("@babylonjs/core/Maths/math.vector.js"),l=e("@babylonjs/core/Maths/math.color.js"),h=e("@babylonjs/core/Misc/tools.js"),u=e("@babylonjs/core/Cameras/camera.js"),c=e("@babylonjs/core/Cameras/freeCamera.js"),d=e("@babylonjs/core/Animations/animation.js"),p=e("@babylonjs/core/Bones/bone.js"),m=e("@babylonjs/core/Bones/skeleton.js"),f=e("@babylonjs/core/Materials/effect.js"),_=e("@babylonjs/core/Materials/material.js"),g=e("@babylonjs/core/Materials/multiMaterial.js"),y=e("@babylonjs/core/Materials/standardMaterial.js"),x=e("@babylonjs/core/Materials/shaderMaterial.js"),b=e("@babylonjs/core/Materials/Textures/texture.js"),T=e("@babylonjs/core/Meshes/mesh.vertexData.js"),v=e("@babylonjs/core/Buffers/buffer.js"),A=e("@babylonjs/core/Meshes/geometry.js"),j=e("@babylonjs/core/Meshes/subMesh.js"),E=e("@babylonjs/core/Meshes/abstractMesh.js"),S=e("@babylonjs/core/Meshes/mesh.js"),P=e("@babylonjs/core/Lights/hemisphericLight.js"),M=e("@babylonjs/core/Lights/directionalLight.js"),C=e("@babylonjs/core/Lights/pointLight.js"),R=e("@babylonjs/core/Lights/spotLight.js"),F=e("./glTFLoaderUtils.js"),I=e("../glTFFileLoader.js"),w=e("@babylonjs/core/Engines/constants.js");(s=i||(i={}))[s.IDENTIFIER=1]="IDENTIFIER",s[s.UNKNOWN=2]="UNKNOWN",s[s.END_OF_INPUT=3]="END_OF_INPUT";class L{constructor(e){this._pos=0,this.currentToken=i.UNKNOWN,this.currentIdentifier="",this.currentString="",this.isLetterOrDigitPattern=/^[a-zA-Z0-9]+$/,this._toParse=e,this._maxPos=e.length}getNextToken(){if(this.isEnd())return i.END_OF_INPUT;if(this.currentString=this.read(),this.currentToken=i.UNKNOWN,"_"===this.currentString||this.isLetterOrDigitPattern.test(this.currentString))for(this.currentToken=i.IDENTIFIER,this.currentIdentifier=this.currentString;!this.isEnd()&&(this.isLetterOrDigitPattern.test(this.currentString=this.peek())||"_"===this.currentString);)this.currentIdentifier+=this.currentString,this.forward();return this.currentToken}peek(){return this._toParse[this._pos]}read(){return this._toParse[this._pos++]}forward(){this._pos++}isEnd(){return this._pos>=this._maxPos}}let O=["MODEL","VIEW","PROJECTION","MODELVIEW","MODELVIEWPROJECTION","JOINTMATRIX"],B=["world","view","projection","worldView","worldViewProjection","mBones"],D=["translation","rotation","scale"],N=["position","rotationQuaternion","scaling"],k=(e,t)=>{for(let r in e){let s=e[r];t.buffers[r]=s,t.buffersCount++}},G=(e,t)=>{for(let r in e){let s=e[r];t.shaders[r]=s,t.shaderscount++}},U=(e,t,r)=>{for(let s in e){let i=e[s];r[t][s]=i}},H=e=>{if(e)for(let t=0;t<e.length/2;t++)e[2*t+1]=1-e[2*t+1]},V=e=>{if("NORMAL"===e.semantic)return"normal";if("POSITION"===e.semantic)return"position";if("JOINT"===e.semantic)return"matricesIndices";if("WEIGHT"===e.semantic)return"matricesWeights";if("COLOR"===e.semantic)return"color";if(e.semantic&&-1!==e.semantic.indexOf("TEXCOORD_")){let t=Number(e.semantic.split("_")[1]);return"uv"+(0===t?"":t+1)}return null},X=e=>{for(let t in e.animations){let r=e.animations[t];if(!r.channels||!r.samplers)continue;let s=null;for(let i=0;i<r.channels.length;i++){let a=r.channels[i],o=r.samplers[a.sampler];if(!o)continue;let l=null,u=null;r.parameters?(l=r.parameters[o.input],u=r.parameters[o.output]):(l=o.input,u=o.output);let c=(0,F.GLTFUtils).GetBufferFromAccessor(e,e.accessors[l]),m=(0,F.GLTFUtils).GetBufferFromAccessor(e,e.accessors[u]),f=a.target.id,_=e.scene.getNodeById(f);if(null===_&&(_=e.scene.getNodeByName(f)),null===_){(0,h.Tools).Warn("Creating animation named "+t+". But cannot find node named "+f+" to attach to");continue}let g=_ instanceof p.Bone,y=a.target.path,x=D.indexOf(y);-1!==x&&(y=N[x]);let b=d.Animation.ANIMATIONTYPE_MATRIX;g||("rotationQuaternion"===y?(b=d.Animation.ANIMATIONTYPE_QUATERNION,_.rotationQuaternion=new n.Quaternion):b=d.Animation.ANIMATIONTYPE_VECTOR3);let T=null,v=[],A=0,j=!1;g&&s&&s.getKeys().length===c.length&&(T=s,j=!0),j||(e.scene._blockEntityCollection=!!e.assetContainer,T=new d.Animation(t,g?"_matrix":y,1,b,d.Animation.ANIMATIONLOOPMODE_CYCLE),e.scene._blockEntityCollection=!1);for(let e=0;e<c.length;e++){let t=null;if("rotationQuaternion"===y?(t=(0,n.Quaternion).FromArray([m[A],m[A+1],m[A+2],m[A+3]]),A+=4):(t=(0,n.Vector3).FromArray([m[A],m[A+1],m[A+2]]),A+=3),g){let r=_,i=(0,n.Vector3).Zero(),a=new n.Quaternion,o=(0,n.Vector3).Zero(),l=r.getBaseMatrix();j&&s&&(l=s.getKeys()[e].value),l.decompose(o,a,i),"position"===y?i=t:"rotationQuaternion"===y?a=t:o=t,t=(0,n.Matrix).Compose(o,a,i)}j?s&&(s.getKeys()[e].value=t):v.push({frame:c[e],value:t})}!j&&T&&(T.setKeys(v),_.animations.push(T)),s=T,e.scene.stopAnimation(_),e.scene.beginAnimation(_,0,c[c.length-1],!0,1)}}},W=e=>{let t=null;if(e.translation||e.rotation||e.scale){let r=(0,n.Vector3).FromArray(e.scale||[1,1,1]),s=(0,n.Quaternion).FromArray(e.rotation||[0,0,0,1]),i=(0,n.Vector3).FromArray(e.translation||[0,0,0]);t=(0,n.Matrix).Compose(r,s,i)}else t=(0,n.Matrix).FromArray(e.matrix);return t},Y=(e,t,r,s)=>{for(let e=0;e<s.bones.length;e++)if(s.bones[e].name===r)return s.bones[e];let i=e.nodes;for(let a in i){let o=i[a];if(!o.jointName)continue;let n=o.children;for(let i=0;i<n.length;i++){let l=e.nodes[n[i]];if(l.jointName&&l.jointName===r){let r=W(o),i=new p.Bone(o.name||"",s,Y(e,t,o.jointName,s),r);return i.id=a,i}}}return null},z=(e,t)=>{for(let r=0;r<e.length;r++){let s=e[r];for(let e=0;e<s.node.children.length;e++)if(s.node.children[e]===t)return s.bone}return null},$=(e,t)=>{let r=e.nodes,s=r[t];if(s)return{node:s,id:t};for(let e in r)if((s=r[e]).jointName===t)return{node:s,id:e};return null},q=(e,t)=>{for(let r=0;r<e.jointNames.length;r++)if(e.jointNames[r]===t)return!0;return!1},K=(e,t,r,s)=>{for(let i in e.nodes){let a=e.nodes[i];if(!a.jointName||q(r,a.jointName))continue;let o=W(a),n=new p.Bone(a.name||"",t,null,o);n.id=i,s.push({bone:n,node:a,id:i})}for(let e=0;e<s.length;e++){let t=s[e],r=t.node.children;for(let e=0;e<r.length;e++){let i=null;for(let t=0;t<s.length;t++)if(s[t].id===r[e]){i=s[t];break}i&&(i.bone._parent=t.bone,t.bone.children.push(i.bone))}}},Q=(e,t,r,s)=>{if(s||(s=new m.Skeleton(t.name||"","",e.scene)),!t.babylonSkeleton)return s;let i=[],a=[];K(e,s,t,i),s.bones=[];for(let r=0;r<t.jointNames.length;r++){let o=$(e,t.jointNames[r]);if(!o)continue;let n=o.node;if(!n){(0,h.Tools).Warn("Joint named "+t.jointNames[r]+" does not exist");continue}let l=o.id,u=e.scene.getBoneById(l);if(u){s.bones.push(u);continue}let c=!1,d=null;for(let i=0;i<r;i++){let r=$(e,t.jointNames[i]);if(!r)continue;let a=r.node;if(!a){(0,h.Tools).Warn("Joint named "+t.jointNames[i]+" does not exist when looking for parent");continue}let o=a.children;if(o){c=!1;for(let r=0;r<o.length;r++)if(o[r]===l){d=Y(e,t,t.jointNames[i],s),c=!0;break}if(c)break}}let m=W(n);!d&&i.length>0&&(d=z(i,l))&&-1===a.indexOf(d)&&a.push(d),new p.Bone(n.jointName||"",s,d,m).id=l}let o=s.bones;s.bones=[];for(let r=0;r<t.jointNames.length;r++){let i=$(e,t.jointNames[r]);if(i){for(let e=0;e<o.length;e++)if(o[e].id===i.id){s.bones.push(o[e]);break}}}s.prepare();for(let e=0;e<a.length;e++)s.bones.push(a[e]);return s},Z=(e,t,r,s,i)=>{let a;if(i||(e.scene._blockEntityCollection=!!e.assetContainer,(i=new S.Mesh(t.name||"",e.scene))._parentContainer=e.assetContainer,e.scene._blockEntityCollection=!1,i.id=s),!t.babylonNode)return i;let o=[],n=null,l=[],h=[],u=[],c=[];for(let t=0;t<r.length;t++){let s=r[t],i=e.meshes[s];if(i)for(let t=0;t<i.primitives.length;t++){let r=new T.VertexData,s=i.primitives[t];s.mode;let a=s.attributes,d=null,p=null;for(let t in a)if(d=e.accessors[a[t]],p=(0,F.GLTFUtils).GetBufferFromAccessor(e,d),"NORMAL"===t)r.normals=new Float32Array(p.length),r.normals.set(p);else if("POSITION"===t){if(I.GLTFFileLoader.HomogeneousCoordinates){r.positions=new Float32Array(p.length-p.length/4);for(let e=0;e<p.length;e+=4)r.positions[e]=p[e],r.positions[e+1]=p[e+1],r.positions[e+2]=p[e+2]}else r.positions=new Float32Array(p.length),r.positions.set(p);h.push(r.positions.length)}else if(-1!==t.indexOf("TEXCOORD_")){let e=Number(t.split("_")[1]),s=v.VertexBuffer.UVKind+(0===e?"":e+1),i=new Float32Array(p.length);i.set(p),H(i),r.set(i,s)}else"JOINT"===t?(r.matricesIndices=new Float32Array(p.length),r.matricesIndices.set(p)):"WEIGHT"===t?(r.matricesWeights=new Float32Array(p.length),r.matricesWeights.set(p)):"COLOR"===t&&(r.colors=new Float32Array(p.length),r.colors.set(p));if(d=e.accessors[s.indices])p=(0,F.GLTFUtils).GetBufferFromAccessor(e,d),r.indices=new Int32Array(p.length),r.indices.set(p),c.push(r.indices.length);else{let e=[];for(let t=0;t<r.positions.length/3;t++)e.push(t);r.indices=new Int32Array(e),c.push(r.indices.length)}n?n.merge(r):n=r;let m=e.scene.getMaterialById(s.material);o.push(null===m?(0,F.GLTFUtils).GetDefaultMaterial(e.scene):m),l.push(0===l.length?0:l[l.length-1]+h[h.length-2]),u.push(0===u.length?0:u[u.length-1]+c[c.length-2])}}e.scene._blockEntityCollection=!!e.assetContainer,o.length>1?(a=new g.MultiMaterial("multimat"+s,e.scene)).subMaterials=o:a=new y.StandardMaterial("multimat"+s,e.scene),1===o.length&&(a=o[0]),a._parentContainer=e.assetContainer,i.material||(i.material=a),new A.Geometry(s,e.scene,n,!1,i),i.computeWorldMatrix(!0),e.scene._blockEntityCollection=!1,i.subMeshes=[];let d=0;for(let t=0;t<r.length;t++){let s=r[t],a=e.meshes[s];if(a)for(let e=0;e<a.primitives.length;e++)a.primitives[e].mode,(0,j.SubMesh).AddToMesh(d,l[d],h[d],u[d],c[d],i,i,!0),d++}return i},J=(e,t,r,s)=>{e.position&&(e.position=t),(e.rotationQuaternion||e.rotation)&&(e.rotationQuaternion=r),e.scaling&&(e.scaling=s)},ee=(e,t)=>{if(t.matrix){let r=new n.Vector3(0,0,0),s=new n.Quaternion,i=new n.Vector3(0,0,0);(0,n.Matrix).FromArray(t.matrix).decompose(i,s,r),J(e,r,s,i)}else t.translation&&t.rotation&&t.scale&&J(e,(0,n.Vector3).FromArray(t.translation),(0,n.Quaternion).FromArray(t.rotation),(0,n.Vector3).FromArray(t.scale));e.computeWorldMatrix(!0)},et=(e,t,r)=>{let s=null;if(e.importOnlyMeshes&&(t.skin||t.meshes)&&e.importMeshesNames&&e.importMeshesNames.length>0&&-1===e.importMeshesNames.indexOf(t.name||""))return null;if(t.skin){if(t.meshes){let i=e.skins[t.skin],a=Z(e,t,t.meshes,r,t.babylonNode);a.skeleton=e.scene.getLastSkeletonById(t.skin),null!==a.skeleton||(a.skeleton=Q(e,i,a,i.babylonSkeleton),i.babylonSkeleton||(i.babylonSkeleton=a.skeleton)),s=a}}else if(t.meshes)s=Z(e,t,t.mesh?[t.mesh]:t.meshes,r,t.babylonNode);else if(!t.light||t.babylonNode||e.importOnlyMeshes){if(t.camera&&!t.babylonNode&&!e.importOnlyMeshes){let r=e.cameras[t.camera];if(r){if(e.scene._blockEntityCollection=!!e.assetContainer,"orthographic"===r.type){let r=new c.FreeCamera(t.camera,(0,n.Vector3).Zero(),e.scene,!1);r.name=t.name||"",r.mode=u.Camera.ORTHOGRAPHIC_CAMERA,r.attachControl(),s=r,r._parentContainer=e.assetContainer}else if("perspective"===r.type){let i=r[r.type],a=new c.FreeCamera(t.camera,(0,n.Vector3).Zero(),e.scene,!1);a.name=t.name||"",a.attachControl(),i.aspectRatio||(i.aspectRatio=e.scene.getEngine().getRenderWidth()/e.scene.getEngine().getRenderHeight()),i.znear&&i.zfar&&(a.maxZ=i.zfar,a.minZ=i.znear),s=a,a._parentContainer=e.assetContainer}e.scene._blockEntityCollection=!1}}}else{let r=e.lights[t.light];if(r){if("ambient"===r.type){let i=r[r.type],a=new P.HemisphericLight(t.light,(0,n.Vector3).Zero(),e.scene);a.name=t.name||"",i.color&&(a.diffuse=(0,l.Color3).FromArray(i.color)),s=a}else if("directional"===r.type){let i=r[r.type],a=new M.DirectionalLight(t.light,(0,n.Vector3).Zero(),e.scene);a.name=t.name||"",i.color&&(a.diffuse=(0,l.Color3).FromArray(i.color)),s=a}else if("point"===r.type){let i=r[r.type],a=new C.PointLight(t.light,(0,n.Vector3).Zero(),e.scene);a.name=t.name||"",i.color&&(a.diffuse=(0,l.Color3).FromArray(i.color)),s=a}else if("spot"===r.type){let i=r[r.type],a=new R.SpotLight(t.light,(0,n.Vector3).Zero(),(0,n.Vector3).Zero(),0,0,e.scene);a.name=t.name||"",i.color&&(a.diffuse=(0,l.Color3).FromArray(i.color)),i.fallOfAngle&&(a.angle=i.fallOfAngle),i.fallOffExponent&&(a.exponent=i.fallOffExponent),s=a}}}if(!t.jointName){if(t.babylonNode)return t.babylonNode;if(null===s){e.scene._blockEntityCollection=!!e.assetContainer;let r=new S.Mesh(t.name||"",e.scene);r._parentContainer=e.assetContainer,e.scene._blockEntityCollection=!1,t.babylonNode=r,s=r}}if(null!==s){if(t.matrix&&s instanceof S.Mesh)ee(s,t);else{let e=t.translation||[0,0,0],r=t.rotation||[0,0,0,1],i=t.scale||[1,1,1];J(s,(0,n.Vector3).FromArray(e),(0,n.Quaternion).FromArray(r),(0,n.Vector3).FromArray(i))}s.updateCache(!0),t.babylonNode=s}return s},er=(e,t,r,s=!1)=>{let i=e.nodes[t],a=null;if(s=!e.importOnlyMeshes||!!s||!e.importMeshesNames||-1!==e.importMeshesNames.indexOf(i.name||"")||0===e.importMeshesNames.length,!i.jointName&&s&&null!==(a=et(e,i,t))&&(a.id=t,a.parent=r),i.children)for(let t=0;t<i.children.length;t++)er(e,i.children[t],a,s)},es=e=>{let t=e.currentScene;if(t)for(let r=0;r<t.nodes.length;r++)er(e,t.nodes[r],null);else for(let r in e.scenes){t=e.scenes[r];for(let r=0;r<t.nodes.length;r++)er(e,t.nodes[r],null)}X(e);for(let t=0;t<e.scene.skeletons.length;t++){let r=e.scene.skeletons[t];e.scene.beginAnimation(r,0,Number.MAX_VALUE,!0,1)}},ei=(e,t,r,s,i,a,n)=>{let l=a.values||i.parameters;for(let n in r){let h=r[n],u=h.type;if(u===o.EParameterType.FLOAT_MAT2||u===o.EParameterType.FLOAT_MAT3||u===o.EParameterType.FLOAT_MAT4){if(!h.semantic||h.source||h.node){if(h.semantic&&(h.source||h.node)){let e=t.scene.getNodeByName(h.source||h.node||"");if(null===e&&(e=t.scene.getNodeById(h.source||h.node||"")),null===e)continue;(0,F.GLTFUtils).SetMatrix(t.scene,e,h,n,s.getEffect())}}else(0,F.GLTFUtils).SetMatrix(t.scene,e,h,n,s.getEffect())}else{let e=l[i.uniforms[n]];if(!e)continue;if(u===o.EParameterType.SAMPLER_2D){let r=t.textures[a.values?e:h.value].babylonTexture;if(null==r)continue;s.getEffect().setTexture(n,r)}else(0,F.GLTFUtils).SetUniform(s.getEffect(),n,e,u)}}n(s)},ea=(e,t,r,s,i)=>{let a=s.values||r.parameters,n=r.uniforms;for(let r in i){let l=i[r],h=l.type,u=a[n[r]];if(void 0===u&&(u=l.value),!u)continue;let c=e=>r=>{l.value&&e&&(t.setTexture(e,r),delete i[e])};h===o.EParameterType.SAMPLER_2D?ed.LoadTextureAsync(e,s.values?u:l.value,c(r),()=>c(null)):l.value&&(0,F.GLTFUtils).SetUniform(t,r,s.values?u:l.value,h)&&delete i[r]}},eo=(e,t,r)=>(s,i)=>{t.dispose(!0),r("Cannot compile program named "+e.name+". Error: "+i+". Default material will be applied")},en=(e,t,r,s,i,a)=>o=>{ea(e,t,r,s,i),t.onBind=o=>{ei(o,e,i,t,r,s,a)}},el=(e,t,r)=>{for(let s in t.uniforms){let i=t.uniforms[s],a=t.parameters[i];if(e.currentIdentifier===s&&a.semantic&&!a.source&&!a.node){let e=O.indexOf(a.semantic);if(-1!==e)return delete r[s],B[e]}}return e.currentIdentifier},eh=e=>{for(let t in e.materials)ed.LoadMaterialAsync(e,t,()=>{},()=>{})};class eu{static CreateRuntime(e,t,r){let s={extensions:{},accessors:{},buffers:{},bufferViews:{},meshes:{},lights:{},cameras:{},nodes:{},images:{},textures:{},shaders:{},programs:{},samplers:{},techniques:{},materials:{},animations:{},skins:{},extensionsUsed:[],scenes:{},buffersCount:0,shaderscount:0,scene:t,rootUrl:r,loadedBufferCount:0,loadedBufferViews:{},loadedShaderCount:0,importOnlyMeshes:!1,dummyNodes:[],assetContainer:null};return e.extensions&&U(e.extensions,"extensions",s),e.extensionsUsed&&U(e.extensionsUsed,"extensionsUsed",s),e.buffers&&k(e.buffers,s),e.bufferViews&&U(e.bufferViews,"bufferViews",s),e.accessors&&U(e.accessors,"accessors",s),e.meshes&&U(e.meshes,"meshes",s),e.lights&&U(e.lights,"lights",s),e.cameras&&U(e.cameras,"cameras",s),e.nodes&&U(e.nodes,"nodes",s),e.images&&U(e.images,"images",s),e.textures&&U(e.textures,"textures",s),e.shaders&&G(e.shaders,s),e.programs&&U(e.programs,"programs",s),e.samplers&&U(e.samplers,"samplers",s),e.techniques&&U(e.techniques,"techniques",s),e.materials&&U(e.materials,"materials",s),e.animations&&U(e.animations,"animations",s),e.skins&&U(e.skins,"skins",s),e.scenes&&(s.scenes=e.scenes),e.scene&&e.scenes&&(s.currentScene=e.scenes[e.scene]),s}static LoadBufferAsync(e,t,r,s,i){let a=e.buffers[t];(0,h.Tools).IsBase64(a.uri)?setTimeout(()=>r(new Uint8Array((0,h.Tools).DecodeBase64(a.uri)))):(0,h.Tools).LoadFile(e.rootUrl+a.uri,e=>r(new Uint8Array(e)),i,void 0,!0,e=>{e&&s(e.status+" "+e.statusText)})}static LoadTextureBufferAsync(e,t,r,s){let i=e.textures[t];if(!i||!i.source){s("");return}if(i.babylonTexture){r(null);return}let a=e.images[i.source];(0,h.Tools).IsBase64(a.uri)?setTimeout(()=>r(new Uint8Array((0,h.Tools).DecodeBase64(a.uri)))):(0,h.Tools).LoadFile(e.rootUrl+a.uri,e=>r(new Uint8Array(e)),void 0,void 0,!0,e=>{e&&s(e.status+" "+e.statusText)})}static CreateTextureAsync(e,t,r,s){let i=e.textures[t];if(i.babylonTexture){s(i.babylonTexture);return}let a=e.samplers[i.sampler],n=a.minFilter===o.ETextureFilterType.NEAREST_MIPMAP_NEAREST||a.minFilter===o.ETextureFilterType.NEAREST_MIPMAP_LINEAR||a.minFilter===o.ETextureFilterType.LINEAR_MIPMAP_NEAREST||a.minFilter===o.ETextureFilterType.LINEAR_MIPMAP_LINEAR,l=b.Texture.BILINEAR_SAMPLINGMODE,h=null==r?new Blob:new Blob([r]),u=URL.createObjectURL(h),c=()=>URL.revokeObjectURL(u),d=new b.Texture(u,e.scene,!n,!0,l,c,c);void 0!==a.wrapS&&(d.wrapU=(0,F.GLTFUtils).GetWrapMode(a.wrapS)),void 0!==a.wrapT&&(d.wrapV=(0,F.GLTFUtils).GetWrapMode(a.wrapT)),d.name=t,i.babylonTexture=d,s(d)}static LoadShaderStringAsync(e,t,r,s){let i=e.shaders[t];if((0,h.Tools).IsBase64(i.uri)){let e=atob(i.uri.split(",")[1]);r&&r(e)}else(0,h.Tools).LoadFile(e.rootUrl+i.uri,r,void 0,void 0,!1,e=>{e&&s&&s(e.status+" "+e.statusText)})}static LoadMaterialAsync(e,t,r,s){let a=e.materials[t];if(!a.technique){s&&s("No technique found.");return}let n=e.techniques[a.technique];if(!n){e.scene._blockEntityCollection=!!e.assetContainer;let s=new y.StandardMaterial(t,e.scene);s._parentContainer=e.assetContainer,e.scene._blockEntityCollection=!1,s.diffuseColor=new l.Color3(.5,.5,.5),s.sideOrientation=_.Material.CounterClockWiseSideOrientation,r(s);return}let h=e.programs[n.program],u=n.states,c=f.Effect.ShadersStore[h.vertexShader+"VertexShader"],d=f.Effect.ShadersStore[h.fragmentShader+"PixelShader"],p="",m="",g=new L(c),b=new L(d),T={},v=[],A=[],j=[];for(let e in n.uniforms){let t=n.uniforms[e],r=n.parameters[t];if(T[e]=r,!r.semantic||r.node||r.source)r.type===o.EParameterType.SAMPLER_2D?j.push(e):v.push(e);else{let t=O.indexOf(r.semantic);-1!==t?(v.push(B[t]),delete T[e]):v.push(e)}}for(let e in n.attributes){let t=n.attributes[e],r=n.parameters[t];if(r.semantic){let e=V(r);e&&A.push(e)}}for(;!g.isEnd()&&g.getNextToken();){if(g.currentToken!==i.IDENTIFIER){p+=g.currentString;continue}let e=!1;for(let t in n.attributes){let r=n.attributes[t],s=n.parameters[r];if(g.currentIdentifier===t&&s.semantic){p+=V(s),e=!0;break}}e||(p+=el(g,n,T))}for(;!b.isEnd()&&b.getNextToken();){if(b.currentToken!==i.IDENTIFIER){m+=b.currentString;continue}m+=el(b,n,T)}let E={vertex:h.vertexShader+t,fragment:h.fragmentShader+t},S={attributes:A,uniforms:v,samplers:j,needAlphaBlending:u&&u.enable&&-1!==u.enable.indexOf(3042)};f.Effect.ShadersStore[h.vertexShader+t+"VertexShader"]=p,f.Effect.ShadersStore[h.fragmentShader+t+"PixelShader"]=m;let P=new x.ShaderMaterial(t,e.scene,E,S);if(P.onError=eo(h,P,s),P.onCompiled=en(e,P,n,a,T,r),P.sideOrientation=_.Material.CounterClockWiseSideOrientation,u&&u.functions){let e=u.functions;e.cullFace&&e.cullFace[0]!==o.ECullingType.BACK&&(P.backFaceCulling=!1);let t=e.blendFuncSeparate;t&&(t[0]===o.EBlendingFunction.SRC_ALPHA&&t[1]===o.EBlendingFunction.ONE_MINUS_SRC_ALPHA&&t[2]===o.EBlendingFunction.ONE&&t[3]===o.EBlendingFunction.ONE?P.alphaMode=w.Constants.ALPHA_COMBINE:t[0]===o.EBlendingFunction.ONE&&t[1]===o.EBlendingFunction.ONE&&t[2]===o.EBlendingFunction.ZERO&&t[3]===o.EBlendingFunction.ONE?P.alphaMode=w.Constants.ALPHA_ONEONE:t[0]===o.EBlendingFunction.SRC_ALPHA&&t[1]===o.EBlendingFunction.ONE&&t[2]===o.EBlendingFunction.ZERO&&t[3]===o.EBlendingFunction.ONE?P.alphaMode=w.Constants.ALPHA_ADD:t[0]===o.EBlendingFunction.ZERO&&t[1]===o.EBlendingFunction.ONE_MINUS_SRC_COLOR&&t[2]===o.EBlendingFunction.ONE&&t[3]===o.EBlendingFunction.ONE?P.alphaMode=w.Constants.ALPHA_SUBTRACT:t[0]===o.EBlendingFunction.DST_COLOR&&t[1]===o.EBlendingFunction.ZERO&&t[2]===o.EBlendingFunction.ONE&&t[3]===o.EBlendingFunction.ONE?P.alphaMode=w.Constants.ALPHA_MULTIPLY:t[0]===o.EBlendingFunction.SRC_ALPHA&&t[1]===o.EBlendingFunction.ONE_MINUS_SRC_COLOR&&t[2]===o.EBlendingFunction.ONE&&t[3]===o.EBlendingFunction.ONE&&(P.alphaMode=w.Constants.ALPHA_MAXIMIZED))}}}class ec{static RegisterExtension(e){if(ec.Extensions[e.name]){(0,h.Tools).Error('Tool with the same name "'+e.name+'" already exists');return}ec.Extensions[e.name]=e}dispose(){}_importMeshAsync(e,t,r,s,i,a,o,n){return t.useRightHandedSystem=!0,ed.LoadRuntimeAsync(t,r,s,t=>{t.assetContainer=i,t.importOnlyMeshes=!0,""===e?t.importMeshesNames=[]:"string"==typeof e?t.importMeshesNames=[e]:!e||e instanceof Array?(t.importMeshesNames=[],(0,h.Tools).Warn("Argument meshesNames must be of type string or string[]")):t.importMeshesNames=[e],this._createNodes(t);let r=[],s=[];for(let e in t.nodes){let s=t.nodes[e];s.babylonNode instanceof E.AbstractMesh&&r.push(s.babylonNode)}for(let e in t.skins){let r=t.skins[e];r.babylonSkeleton instanceof m.Skeleton&&s.push(r.babylonSkeleton)}this._loadBuffersAsync(t,()=>{this._loadShadersAsync(t,()=>{eh(t),es(t),!I.GLTFFileLoader.IncrementalLoading&&a&&a(r,s)})}),I.GLTFFileLoader.IncrementalLoading&&a&&a(r,s)},n),!0}importMeshAsync(e,t,r,s,i,a){return new Promise((o,n)=>{this._importMeshAsync(e,t,s,i,r,(e,t)=>{o({meshes:e,particleSystems:[],skeletons:t,animationGroups:[],lights:[],transformNodes:[],geometries:[]})},a,e=>{n(Error(e))})})}_loadAsync(e,t,r,s,i,a){e.useRightHandedSystem=!0,ed.LoadRuntimeAsync(e,t,r,e=>{ed.LoadRuntimeExtensionsAsync(e,()=>{this._createNodes(e),this._loadBuffersAsync(e,()=>{this._loadShadersAsync(e,()=>{eh(e),es(e),I.GLTFFileLoader.IncrementalLoading||s()})}),I.GLTFFileLoader.IncrementalLoading&&s()},a)},a)}loadAsync(e,t,r,s){return new Promise((i,a)=>{this._loadAsync(e,t,r,()=>{i()},s,e=>{a(Error(e))})})}_loadShadersAsync(e,t){let r=!1,s=(r,s)=>{ed.LoadShaderStringAsync(e,r,i=>{i instanceof ArrayBuffer||(e.loadedShaderCount++,i&&(f.Effect.ShadersStore[r+(s.type===o.EShaderType.VERTEX?"VertexShader":"PixelShader")]=i),e.loadedShaderCount===e.shaderscount&&t())},()=>{(0,h.Tools).Error("Error when loading shader program named "+r+" located at "+s.uri)})};for(let t in e.shaders){r=!0;let i=e.shaders[t];i?s.bind(this,t,i)():(0,h.Tools).Error("No shader named: "+t)}r||t()}_loadBuffersAsync(e,t){let r=!1,s=(r,s)=>{ed.LoadBufferAsync(e,r,i=>{e.loadedBufferCount++,i&&(i.byteLength!=e.buffers[r].byteLength&&(0,h.Tools).Error("Buffer named "+r+" is length "+i.byteLength+". Expected: "+s.byteLength),e.loadedBufferViews[r]=i),e.loadedBufferCount===e.buffersCount&&t()},()=>{(0,h.Tools).Error("Error when loading buffer named "+r+" located at "+s.uri)})};for(let t in e.buffers){r=!0;let i=e.buffers[t];i?s.bind(this,t,i)():(0,h.Tools).Error("No buffer named: "+t)}r||t()}_createNodes(e){let t=e.currentScene;if(t)for(let r=0;r<t.nodes.length;r++)er(e,t.nodes[r],null);else for(let r in e.scenes){t=e.scenes[r];for(let r=0;r<t.nodes.length;r++)er(e,t.nodes[r],null)}}}ec.Extensions={};class ed{constructor(e){this._name=e}get name(){return this._name}loadRuntimeAsync(e,t,r,s,i){return!1}loadRuntimeExtensionsAsync(e,t,r){return!1}loadBufferAsync(e,t,r,s,i){return!1}loadTextureBufferAsync(e,t,r,s){return!1}createTextureAsync(e,t,r,s,i){return!1}loadShaderStringAsync(e,t,r,s){return!1}loadMaterialAsync(e,t,r,s){return!1}static LoadRuntimeAsync(e,t,r,s,i){ed._ApplyExtensions(a=>a.loadRuntimeAsync(e,t,r,s,i),()=>{setTimeout(()=>{s&&s(eu.CreateRuntime(t.json,e,r))})})}static LoadRuntimeExtensionsAsync(e,t,r){ed._ApplyExtensions(s=>s.loadRuntimeExtensionsAsync(e,t,r),()=>{setTimeout(()=>{t()})})}static LoadBufferAsync(e,t,r,s,i){ed._ApplyExtensions(a=>a.loadBufferAsync(e,t,r,s,i),()=>{eu.LoadBufferAsync(e,t,r,s,i)})}static LoadTextureAsync(e,t,r,s){ed._LoadTextureBufferAsync(e,t,i=>{i&&ed._CreateTextureAsync(e,t,i,r,s)},s)}static LoadShaderStringAsync(e,t,r,s){ed._ApplyExtensions(i=>i.loadShaderStringAsync(e,t,r,s),()=>{eu.LoadShaderStringAsync(e,t,r,s)})}static LoadMaterialAsync(e,t,r,s){ed._ApplyExtensions(i=>i.loadMaterialAsync(e,t,r,s),()=>{eu.LoadMaterialAsync(e,t,r,s)})}static _LoadTextureBufferAsync(e,t,r,s){ed._ApplyExtensions(i=>i.loadTextureBufferAsync(e,t,r,s),()=>{eu.LoadTextureBufferAsync(e,t,r,s)})}static _CreateTextureAsync(e,t,r,s,i){ed._ApplyExtensions(a=>a.createTextureAsync(e,t,r,s,i),()=>{eu.CreateTextureAsync(e,t,r,s)})}static _ApplyExtensions(e,t){for(let t in ec.Extensions)if(e(ec.Extensions[t]))return;t()}}I.GLTFFileLoader._CreateGLTF1Loader=()=>new ec},{"./glTFLoaderInterfaces.js":"eWSDw","@babylonjs/core/Maths/math.vector.js":"h33gd","@babylonjs/core/Maths/math.color.js":"78my4","@babylonjs/core/Misc/tools.js":"ieufJ","@babylonjs/core/Cameras/camera.js":"467SK","@babylonjs/core/Cameras/freeCamera.js":"5Dwi7","@babylonjs/core/Animations/animation.js":"aeJ0l","@babylonjs/core/Bones/bone.js":"4de78","@babylonjs/core/Bones/skeleton.js":"gq1Mh","@babylonjs/core/Materials/effect.js":"7Vmut","@babylonjs/core/Materials/material.js":"b0eUV","@babylonjs/core/Materials/multiMaterial.js":"iPjNC","@babylonjs/core/Materials/standardMaterial.js":"9hjVc","@babylonjs/core/Materials/shaderMaterial.js":"lH6q5","@babylonjs/core/Materials/Textures/texture.js":"bYxw8","@babylonjs/core/Meshes/mesh.vertexData.js":"apU8X","@babylonjs/core/Buffers/buffer.js":"aDZlT","@babylonjs/core/Meshes/geometry.js":"lnjEm","@babylonjs/core/Meshes/subMesh.js":"dyyBT","@babylonjs/core/Meshes/abstractMesh.js":"jf0Op","@babylonjs/core/Meshes/mesh.js":"9vBao","@babylonjs/core/Lights/hemisphericLight.js":"3ER0R","@babylonjs/core/Lights/directionalLight.js":"ed05w","@babylonjs/core/Lights/pointLight.js":"iBNs0","@babylonjs/core/Lights/spotLight.js":"kOHa2","./glTFLoaderUtils.js":"hTCOH","../glTFFileLoader.js":"GX9kb","@babylonjs/core/Engines/constants.js":"es9Cn","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],eWSDw:[function(e,t,r){var s,i,a,o,n,l,h,u,c,d,p,m,f,_,g,y,x=e("@parcel/transformer-js/src/esmodule-helpers.js");x.defineInteropFlag(r),x.export(r,"EComponentType",()=>c),x.export(r,"EShaderType",()=>d),x.export(r,"EParameterType",()=>p),x.export(r,"ETextureWrapMode",()=>m),x.export(r,"ETextureFilterType",()=>f),x.export(r,"ETextureFormat",()=>_),x.export(r,"ECullingType",()=>g),x.export(r,"EBlendingFunction",()=>y),(s=c||(c={}))[s.BYTE=5120]="BYTE",s[s.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",s[s.SHORT=5122]="SHORT",s[s.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",s[s.FLOAT=5126]="FLOAT",(i=d||(d={}))[i.FRAGMENT=35632]="FRAGMENT",i[i.VERTEX=35633]="VERTEX",(a=p||(p={}))[a.BYTE=5120]="BYTE",a[a.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",a[a.SHORT=5122]="SHORT",a[a.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",a[a.INT=5124]="INT",a[a.UNSIGNED_INT=5125]="UNSIGNED_INT",a[a.FLOAT=5126]="FLOAT",a[a.FLOAT_VEC2=35664]="FLOAT_VEC2",a[a.FLOAT_VEC3=35665]="FLOAT_VEC3",a[a.FLOAT_VEC4=35666]="FLOAT_VEC4",a[a.INT_VEC2=35667]="INT_VEC2",a[a.INT_VEC3=35668]="INT_VEC3",a[a.INT_VEC4=35669]="INT_VEC4",a[a.BOOL=35670]="BOOL",a[a.BOOL_VEC2=35671]="BOOL_VEC2",a[a.BOOL_VEC3=35672]="BOOL_VEC3",a[a.BOOL_VEC4=35673]="BOOL_VEC4",a[a.FLOAT_MAT2=35674]="FLOAT_MAT2",a[a.FLOAT_MAT3=35675]="FLOAT_MAT3",a[a.FLOAT_MAT4=35676]="FLOAT_MAT4",a[a.SAMPLER_2D=35678]="SAMPLER_2D",(o=m||(m={}))[o.CLAMP_TO_EDGE=33071]="CLAMP_TO_EDGE",o[o.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",o[o.REPEAT=10497]="REPEAT",(n=f||(f={}))[n.NEAREST=9728]="NEAREST",n[n.LINEAR=9728]="LINEAR",n[n.NEAREST_MIPMAP_NEAREST=9984]="NEAREST_MIPMAP_NEAREST",n[n.LINEAR_MIPMAP_NEAREST=9985]="LINEAR_MIPMAP_NEAREST",n[n.NEAREST_MIPMAP_LINEAR=9986]="NEAREST_MIPMAP_LINEAR",n[n.LINEAR_MIPMAP_LINEAR=9987]="LINEAR_MIPMAP_LINEAR",(l=_||(_={}))[l.ALPHA=6406]="ALPHA",l[l.RGB=6407]="RGB",l[l.RGBA=6408]="RGBA",l[l.LUMINANCE=6409]="LUMINANCE",l[l.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",(h=g||(g={}))[h.FRONT=1028]="FRONT",h[h.BACK=1029]="BACK",h[h.FRONT_AND_BACK=1032]="FRONT_AND_BACK",(u=y||(y={}))[u.ZERO=0]="ZERO",u[u.ONE=1]="ONE",u[u.SRC_COLOR=768]="SRC_COLOR",u[u.ONE_MINUS_SRC_COLOR=769]="ONE_MINUS_SRC_COLOR",u[u.DST_COLOR=774]="DST_COLOR",u[u.ONE_MINUS_DST_COLOR=775]="ONE_MINUS_DST_COLOR",u[u.SRC_ALPHA=770]="SRC_ALPHA",u[u.ONE_MINUS_SRC_ALPHA=771]="ONE_MINUS_SRC_ALPHA",u[u.DST_ALPHA=772]="DST_ALPHA",u[u.ONE_MINUS_DST_ALPHA=773]="ONE_MINUS_DST_ALPHA",u[u.CONSTANT_COLOR=32769]="CONSTANT_COLOR",u[u.ONE_MINUS_CONSTANT_COLOR=32770]="ONE_MINUS_CONSTANT_COLOR",u[u.CONSTANT_ALPHA=32771]="CONSTANT_ALPHA",u[u.ONE_MINUS_CONSTANT_ALPHA=32772]="ONE_MINUS_CONSTANT_ALPHA",u[u.SRC_ALPHA_SATURATE=776]="SRC_ALPHA_SATURATE"},{"@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],hTCOH:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"GLTFUtils",()=>u);var i=e("./glTFLoaderInterfaces.js"),a=e("@babylonjs/core/Maths/math.vector.js"),o=e("@babylonjs/core/Maths/math.color.js"),n=e("@babylonjs/core/Materials/effect.js"),l=e("@babylonjs/core/Materials/shaderMaterial.js"),h=e("@babylonjs/core/Materials/Textures/texture.js");class u{static SetMatrix(e,t,r,s,o){let n=null;if("MODEL"===r.semantic?n=t.getWorldMatrix():"PROJECTION"===r.semantic?n=e.getProjectionMatrix():"VIEW"===r.semantic?n=e.getViewMatrix():"MODELVIEWINVERSETRANSPOSE"===r.semantic?n=(0,a.Matrix).Transpose(t.getWorldMatrix().multiply(e.getViewMatrix()).invert()):"MODELVIEW"===r.semantic?n=t.getWorldMatrix().multiply(e.getViewMatrix()):"MODELVIEWPROJECTION"===r.semantic?n=t.getWorldMatrix().multiply(e.getTransformMatrix()):"MODELINVERSE"===r.semantic?n=t.getWorldMatrix().invert():"VIEWINVERSE"===r.semantic?n=e.getViewMatrix().invert():"PROJECTIONINVERSE"===r.semantic?n=e.getProjectionMatrix().invert():"MODELVIEWINVERSE"===r.semantic?n=t.getWorldMatrix().multiply(e.getViewMatrix()).invert():"MODELVIEWPROJECTIONINVERSE"===r.semantic?n=t.getWorldMatrix().multiply(e.getTransformMatrix()).invert():"MODELINVERSETRANSPOSE"===r.semantic&&(n=(0,a.Matrix).Transpose(t.getWorldMatrix().invert())),n)switch(r.type){case i.EParameterType.FLOAT_MAT2:o.setMatrix2x2(s,(0,a.Matrix).GetAsMatrix2x2(n));break;case i.EParameterType.FLOAT_MAT3:o.setMatrix3x3(s,(0,a.Matrix).GetAsMatrix3x3(n));break;case i.EParameterType.FLOAT_MAT4:o.setMatrix(s,n)}}static SetUniform(e,t,r,s){switch(s){case i.EParameterType.FLOAT:return e.setFloat(t,r),!0;case i.EParameterType.FLOAT_VEC2:return e.setVector2(t,(0,a.Vector2).FromArray(r)),!0;case i.EParameterType.FLOAT_VEC3:return e.setVector3(t,(0,a.Vector3).FromArray(r)),!0;case i.EParameterType.FLOAT_VEC4:return e.setVector4(t,(0,a.Vector4).FromArray(r)),!0;default:return!1}}static GetWrapMode(e){switch(e){case i.ETextureWrapMode.CLAMP_TO_EDGE:return h.Texture.CLAMP_ADDRESSMODE;case i.ETextureWrapMode.MIRRORED_REPEAT:return h.Texture.MIRROR_ADDRESSMODE;case i.ETextureWrapMode.REPEAT:default:return h.Texture.WRAP_ADDRESSMODE}}static GetByteStrideFromType(e){switch(e.type){case"VEC2":return 2;case"VEC3":return 3;case"VEC4":case"MAT2":return 4;case"MAT3":return 9;case"MAT4":return 16;default:return 1}}static GetTextureFilterMode(e){switch(e){case i.ETextureFilterType.LINEAR:case i.ETextureFilterType.LINEAR_MIPMAP_NEAREST:case i.ETextureFilterType.LINEAR_MIPMAP_LINEAR:return h.Texture.TRILINEAR_SAMPLINGMODE;case i.ETextureFilterType.NEAREST:case i.ETextureFilterType.NEAREST_MIPMAP_NEAREST:return h.Texture.NEAREST_SAMPLINGMODE;default:return h.Texture.BILINEAR_SAMPLINGMODE}}static GetBufferFromBufferView(e,t,r,s,a){r=t.byteOffset+r;let o=e.loadedBufferViews[t.buffer];if(r+s>o.byteLength)throw Error("Buffer access is out of range");let n=o.buffer;switch(r+=o.byteOffset,a){case i.EComponentType.BYTE:return new Int8Array(n,r,s);case i.EComponentType.UNSIGNED_BYTE:return new Uint8Array(n,r,s);case i.EComponentType.SHORT:return new Int16Array(n,r,s);case i.EComponentType.UNSIGNED_SHORT:return new Uint16Array(n,r,s);default:return new Float32Array(n,r,s)}}static GetBufferFromAccessor(e,t){let r=e.bufferViews[t.bufferView],s=t.count*u.GetByteStrideFromType(t);return u.GetBufferFromBufferView(e,r,t.byteOffset,s,t.componentType)}static DecodeBufferToText(e){let t="",r=e.byteLength;for(let s=0;s<r;++s)t+=String.fromCharCode(e[s]);return t}static GetDefaultMaterial(e){return u._DefaultMaterial||(n.Effect.ShadersStore.GLTFDefaultMaterialVertexShader="precision highp float;\n\nuniform mat4 worldView;\nuniform mat4 projection;\n\nattribute vec3 position;\n\nvoid main(void)\n{\n    gl_Position = projection * worldView * vec4(position, 1.0);\n}",n.Effect.ShadersStore.GLTFDefaultMaterialPixelShader="precision highp float;\n\nuniform vec4 u_emission;\n\nvoid main(void)\n{\n    gl_FragColor = u_emission;\n}",u._DefaultMaterial=new l.ShaderMaterial("GLTFDefaultMaterial",e,{vertex:"GLTFDefaultMaterial",fragment:"GLTFDefaultMaterial"},{attributes:["position"],uniforms:["worldView","projection","u_emission"],samplers:[],needAlphaBlending:!1}),u._DefaultMaterial.setColor4("u_emission",new o.Color4(.5,.5,.5,1))),u._DefaultMaterial}}u._DefaultMaterial=null},{"./glTFLoaderInterfaces.js":"eWSDw","@babylonjs/core/Maths/math.vector.js":"h33gd","@babylonjs/core/Maths/math.color.js":"78my4","@babylonjs/core/Materials/effect.js":"7Vmut","@babylonjs/core/Materials/shaderMaterial.js":"lH6q5","@babylonjs/core/Materials/Textures/texture.js":"bYxw8","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],hbxDH:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"GLTFMaterialsCommonExtension",()=>m);var i=e("./glTFLoader.js"),a=e("@babylonjs/core/Maths/math.vector.js"),o=e("@babylonjs/core/Maths/math.color.js"),n=e("@babylonjs/core/Misc/tools.js"),l=e("@babylonjs/core/Materials/material.js"),h=e("@babylonjs/core/Materials/standardMaterial.js"),u=e("@babylonjs/core/Lights/hemisphericLight.js"),c=e("@babylonjs/core/Lights/directionalLight.js"),d=e("@babylonjs/core/Lights/pointLight.js"),p=e("@babylonjs/core/Lights/spotLight.js");class m extends i.GLTFLoaderExtension{constructor(){super("KHR_materials_common")}loadRuntimeExtensionsAsync(e){if(!e.extensions)return!1;let t=e.extensions[this.name];if(!t)return!1;let r=t.lights;if(r)for(let t in r){let s=r[t];switch(s.type){case"ambient":{let t=new u.HemisphericLight(s.name,new a.Vector3(0,1,0),e.scene),r=s.ambient;r&&(t.diffuse=(0,o.Color3).FromArray(r.color||[1,1,1]));break}case"point":{let t=new d.PointLight(s.name,new a.Vector3(10,10,10),e.scene),r=s.point;r&&(t.diffuse=(0,o.Color3).FromArray(r.color||[1,1,1]));break}case"directional":{let t=new c.DirectionalLight(s.name,new a.Vector3(0,-1,0),e.scene),r=s.directional;r&&(t.diffuse=(0,o.Color3).FromArray(r.color||[1,1,1]));break}case"spot":{let t=s.spot;t&&(new p.SpotLight(s.name,new a.Vector3(0,10,0),new a.Vector3(0,-1,0),t.fallOffAngle||Math.PI,t.fallOffExponent||0,e.scene).diffuse=(0,o.Color3).FromArray(t.color||[1,1,1]));break}default:(0,n.Tools).Warn('GLTF Material Common extension: light type "'+s.type+"” not supported")}}return!1}loadMaterialAsync(e,t,r,s){let i=e.materials[t];if(!i||!i.extensions)return!1;let a=i.extensions[this.name];if(!a)return!1;let n=new h.StandardMaterial(t,e.scene);return n.sideOrientation=l.Material.CounterClockWiseSideOrientation,"CONSTANT"===a.technique&&(n.disableLighting=!0),n.backFaceCulling=void 0!==a.doubleSided&&!a.doubleSided,n.alpha=void 0===a.values.transparency?1:a.values.transparency,n.specularPower=void 0===a.values.shininess?0:a.values.shininess,"string"==typeof a.values.ambient?this._loadTexture(e,a.values.ambient,n,"ambientTexture",s):n.ambientColor=(0,o.Color3).FromArray(a.values.ambient||[0,0,0]),"string"==typeof a.values.diffuse?this._loadTexture(e,a.values.diffuse,n,"diffuseTexture",s):n.diffuseColor=(0,o.Color3).FromArray(a.values.diffuse||[0,0,0]),"string"==typeof a.values.emission?this._loadTexture(e,a.values.emission,n,"emissiveTexture",s):n.emissiveColor=(0,o.Color3).FromArray(a.values.emission||[0,0,0]),"string"==typeof a.values.specular?this._loadTexture(e,a.values.specular,n,"specularTexture",s):n.specularColor=(0,o.Color3).FromArray(a.values.specular||[0,0,0]),!0}_loadTexture(e,t,r,s,a){(0,i.GLTFLoaderBase).LoadTextureBufferAsync(e,t,a=>{(0,i.GLTFLoaderBase).CreateTextureAsync(e,t,a,e=>r[s]=e)},a)}}(0,i.GLTFLoader).RegisterExtension(new m)},{"./glTFLoader.js":"7RXC9","@babylonjs/core/Maths/math.vector.js":"h33gd","@babylonjs/core/Maths/math.color.js":"78my4","@babylonjs/core/Misc/tools.js":"ieufJ","@babylonjs/core/Materials/material.js":"b0eUV","@babylonjs/core/Materials/standardMaterial.js":"9hjVc","@babylonjs/core/Lights/hemisphericLight.js":"3ER0R","@babylonjs/core/Lights/directionalLight.js":"ed05w","@babylonjs/core/Lights/pointLight.js":"iBNs0","@babylonjs/core/Lights/spotLight.js":"kOHa2","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],h2sWA:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r);var i=e("./glTFLoader.js");s.exportAll(i,r);var a=e("./glTFLoaderExtension.js");s.exportAll(a,r);var o=e("./glTFLoaderInterfaces.js");s.exportAll(o,r);var n=e("./Extensions/index.js");s.exportAll(n,r)},{"./glTFLoader.js":"lHQW2","./glTFLoaderExtension.js":"8nluN","./glTFLoaderInterfaces.js":"RWLbc","./Extensions/index.js":"eRnTs","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],lHQW2:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"ArrayItem",()=>C),s.export(r,"GLTFLoader",()=>R);var i=e("@babylonjs/core/Misc/deferred.js"),a=e("@babylonjs/core/Maths/math.vector.js"),o=e("@babylonjs/core/Maths/math.color.js"),n=e("@babylonjs/core/Misc/tools.js"),l=e("@babylonjs/core/Cameras/camera.js"),h=e("@babylonjs/core/Cameras/freeCamera.js"),u=e("@babylonjs/core/Animations/animationKey.js"),c=e("@babylonjs/core/Animations/animationGroup.js"),d=e("@babylonjs/core/Bones/bone.js"),p=e("@babylonjs/core/Bones/skeleton.js"),m=e("@babylonjs/core/Materials/material.js"),f=e("@babylonjs/core/Materials/PBR/pbrMaterial.js"),_=e("@babylonjs/core/Materials/Textures/texture.js"),g=e("@babylonjs/core/Meshes/transformNode.js"),y=e("@babylonjs/core/Buffers/buffer.js"),x=e("@babylonjs/core/Meshes/geometry.js"),b=e("@babylonjs/core/Meshes/abstractMesh.js"),T=e("@babylonjs/core/Meshes/mesh.js"),v=e("@babylonjs/core/Morph/morphTarget.js"),A=e("@babylonjs/core/Morph/morphTargetManager.js"),j=e("../glTFFileLoader.js"),E=e("@babylonjs/core/Misc/fileTools.js"),S=e("@babylonjs/core/Misc/logger.js"),P=e("@babylonjs/core/Culling/boundingInfo.js"),M=e("./glTFLoaderAnimation.js");class C{static Get(e,t,r){if(!t||void 0==r||!t[r])throw Error(`${e}: Failed to find index (${r})`);return t[r]}static TryGet(e,t){return e&&void 0!=t&&e[t]?e[t]:null}static Assign(e){if(e)for(let t=0;t<e.length;t++)e[t].index=t}}class R{static RegisterExtension(e,t){R.UnregisterExtension(e)&&(0,S.Logger).Warn(`Extension with the name '${e}' already exists`),R._RegisteredExtensions[e]={factory:t}}static UnregisterExtension(e){return!!R._RegisteredExtensions[e]&&(delete R._RegisteredExtensions[e],!0)}get gltf(){if(!this._gltf)throw Error("glTF JSON is not available");return this._gltf}get bin(){return this._bin}get parent(){return this._parent}get babylonScene(){if(!this._babylonScene)throw Error("Scene is not available");return this._babylonScene}get rootBabylonMesh(){return this._rootBabylonMesh}get rootUrl(){return this._rootUrl}constructor(e){this._completePromises=[],this._assetContainer=null,this._babylonLights=[],this._disableInstancedMesh=0,this._allMaterialsDirtyRequired=!1,this._extensions=[],this._disposed=!1,this._rootUrl=null,this._fileName=null,this._uniqueRootUrl=null,this._bin=null,this._rootBabylonMesh=null,this._defaultBabylonMaterialData={},this._postSceneLoadActions=[],this._parent=e}dispose(){this._disposed||(this._disposed=!0,this._completePromises.length=0,this._extensions.forEach(e=>e.dispose&&e.dispose()),this._extensions.length=0,this._gltf=null,this._bin=null,this._babylonScene=null,this._rootBabylonMesh=null,this._defaultBabylonMaterialData={},this._postSceneLoadActions.length=0,this._parent.dispose())}importMeshAsync(e,t,r,s,i,a,o=""){return Promise.resolve().then(()=>{this._babylonScene=t,this._assetContainer=r,this._loadData(s);let a=null;if(e){let t={};if(this._gltf.nodes)for(let e of this._gltf.nodes)e.name&&(t[e.name]=e.index);a=(e instanceof Array?e:[e]).map(e=>{let r=t[e];if(void 0===r)throw Error(`Failed to find node '${e}'`);return r})}return this._loadAsync(i,o,a,()=>({meshes:this._getMeshes(),particleSystems:[],skeletons:this._getSkeletons(),animationGroups:this._getAnimationGroups(),lights:this._babylonLights,transformNodes:this._getTransformNodes(),geometries:this._getGeometries()}))})}loadAsync(e,t,r,s,i=""){return Promise.resolve().then(()=>(this._babylonScene=e,this._loadData(t),this._loadAsync(r,i,null,()=>void 0)))}_loadAsync(e,t,r,s){return Promise.resolve().then(()=>{this._rootUrl=e,this._uniqueRootUrl=!e.startsWith("file:")&&t?e:`${e}${Date.now()}/`,this._fileName=t,this._allMaterialsDirtyRequired=!1,this._loadExtensions(),this._checkExtensions();let i=`${j.GLTFLoaderState[j.GLTFLoaderState.LOADING]} => ${j.GLTFLoaderState[j.GLTFLoaderState.READY]}`,a=`${j.GLTFLoaderState[j.GLTFLoaderState.LOADING]} => ${j.GLTFLoaderState[j.GLTFLoaderState.COMPLETE]}`;this._parent._startPerformanceCounter(i),this._parent._startPerformanceCounter(a),this._parent._setState(j.GLTFLoaderState.LOADING),this._extensionsOnLoading();let o=[],l=this._babylonScene.blockMaterialDirtyMechanism;if(this._babylonScene.blockMaterialDirtyMechanism=!0,!this.parent.loadOnlyMaterials){if(r)o.push(this.loadSceneAsync("/nodes",{nodes:r,index:-1}));else if(void 0!=this._gltf.scene||this._gltf.scenes&&this._gltf.scenes[0]){let e=C.Get("/scene",this._gltf.scenes,this._gltf.scene||0);o.push(this.loadSceneAsync(`/scenes/${e.index}`,e))}}if(!this.parent.skipMaterials&&this.parent.loadAllMaterials&&this._gltf.materials)for(let e=0;e<this._gltf.materials.length;++e){let t=this._gltf.materials[e],r="/materials/"+e,s=m.Material.TriangleFillMode;o.push(this._loadMaterialAsync(r,t,null,s,()=>{}))}return this._allMaterialsDirtyRequired?this._babylonScene.blockMaterialDirtyMechanism=l:this._babylonScene._forceBlockMaterialDirtyMechanism(l),this._parent.compileMaterials&&o.push(this._compileMaterialsAsync()),this._parent.compileShadowGenerators&&o.push(this._compileShadowGeneratorsAsync()),Promise.all(o).then(()=>(this._rootBabylonMesh&&this._rootBabylonMesh!==this._parent.customRootNode&&this._rootBabylonMesh.setEnabled(!0),this._extensionsOnReady(),this._parent._setState(j.GLTFLoaderState.READY),this._startAnimations(),s())).then(e=>(this._parent._endPerformanceCounter(i),(0,n.Tools).SetImmediate(()=>{this._disposed||Promise.all(this._completePromises).then(()=>{this._parent._endPerformanceCounter(a),this._parent._setState(j.GLTFLoaderState.COMPLETE),this._parent.onCompleteObservable.notifyObservers(void 0),this._parent.onCompleteObservable.clear(),this.dispose()},e=>{this._parent.onErrorObservable.notifyObservers(e),this._parent.onErrorObservable.clear(),this.dispose()})}),e))}).catch(e=>{throw this._disposed||(this._parent.onErrorObservable.notifyObservers(e),this._parent.onErrorObservable.clear(),this.dispose()),e})}_loadData(e){if(this._gltf=e.json,this._setupData(),e.bin){let t=this._gltf.buffers;if(t&&t[0]&&!t[0].uri){let r=t[0];(r.byteLength<e.bin.byteLength-3||r.byteLength>e.bin.byteLength)&&(0,S.Logger).Warn(`Binary buffer length (${r.byteLength}) from JSON does not match chunk length (${e.bin.byteLength})`),this._bin=e.bin}else(0,S.Logger).Warn("Unexpected BIN chunk")}}_setupData(){if(C.Assign(this._gltf.accessors),C.Assign(this._gltf.animations),C.Assign(this._gltf.buffers),C.Assign(this._gltf.bufferViews),C.Assign(this._gltf.cameras),C.Assign(this._gltf.images),C.Assign(this._gltf.materials),C.Assign(this._gltf.meshes),C.Assign(this._gltf.nodes),C.Assign(this._gltf.samplers),C.Assign(this._gltf.scenes),C.Assign(this._gltf.skins),C.Assign(this._gltf.textures),this._gltf.nodes){let e={};for(let t of this._gltf.nodes)if(t.children)for(let r of t.children)e[r]=t.index;let t=this._createRootNode();for(let r of this._gltf.nodes){let s=e[r.index];r.parent=void 0===s?t:this._gltf.nodes[s]}}}_loadExtensions(){for(let e in R._RegisteredExtensions){let t=R._RegisteredExtensions[e].factory(this);t.name!==e&&(0,S.Logger).Warn(`The name of the glTF loader extension instance does not match the registered name: ${t.name} !== ${e}`),this._extensions.push(t),this._parent.onExtensionLoadedObservable.notifyObservers(t)}this._extensions.sort((e,t)=>(e.order||Number.MAX_VALUE)-(t.order||Number.MAX_VALUE)),this._parent.onExtensionLoadedObservable.clear()}_checkExtensions(){if(this._gltf.extensionsRequired){for(let e of this._gltf.extensionsRequired)if(!this._extensions.some(t=>t.name===e&&t.enabled))throw Error(`Required extension ${e} is not available`)}}_createRootNode(){if(void 0!==this._parent.customRootNode)return this._rootBabylonMesh=this._parent.customRootNode,{_babylonTransformNode:null===this._rootBabylonMesh?void 0:this._rootBabylonMesh,index:-1};this._babylonScene._blockEntityCollection=!!this._assetContainer;let e=new T.Mesh("__root__",this._babylonScene);this._rootBabylonMesh=e,this._rootBabylonMesh._parentContainer=this._assetContainer,this._babylonScene._blockEntityCollection=!1,this._rootBabylonMesh.setEnabled(!1);let t={_babylonTransformNode:this._rootBabylonMesh,index:-1};switch(this._parent.coordinateSystemMode){case j.GLTFLoaderCoordinateSystemMode.AUTO:this._babylonScene.useRightHandedSystem||(t.rotation=[0,1,0,0],t.scale=[1,1,-1],R._LoadTransform(t,this._rootBabylonMesh));break;case j.GLTFLoaderCoordinateSystemMode.FORCE_RIGHT_HANDED:this._babylonScene.useRightHandedSystem=!0;break;default:throw Error(`Invalid coordinate system mode (${this._parent.coordinateSystemMode})`)}return this._parent.onMeshLoadedObservable.notifyObservers(e),t}loadSceneAsync(e,t){let r=this._extensionsLoadSceneAsync(e,t);if(r)return r;let s=[];if(this.logOpen(`${e} ${t.name||""}`),t.nodes)for(let r of t.nodes){let t=C.Get(`${e}/nodes/${r}`,this._gltf.nodes,r);s.push(this.loadNodeAsync(`/nodes/${t.index}`,t,e=>{e.parent=this._rootBabylonMesh}))}for(let e of this._postSceneLoadActions)e();return s.push(this._loadAnimationsAsync()),this.logClose(),Promise.all(s).then(()=>{})}_forEachPrimitive(e,t){if(e._primitiveBabylonMeshes)for(let r of e._primitiveBabylonMeshes)t(r)}_getGeometries(){let e=[],t=this._gltf.nodes;if(t)for(let r of t)this._forEachPrimitive(r,t=>{let r=t.geometry;r&&-1===e.indexOf(r)&&e.push(r)});return e}_getMeshes(){let e=[];this._rootBabylonMesh instanceof b.AbstractMesh&&e.push(this._rootBabylonMesh);let t=this._gltf.nodes;if(t)for(let r of t)this._forEachPrimitive(r,t=>{e.push(t)});return e}_getTransformNodes(){let e=[],t=this._gltf.nodes;if(t)for(let r of t)r._babylonTransformNode&&"TransformNode"===r._babylonTransformNode.getClassName()&&e.push(r._babylonTransformNode),r._babylonTransformNodeForSkin&&e.push(r._babylonTransformNodeForSkin);return e}_getSkeletons(){let e=[],t=this._gltf.skins;if(t)for(let r of t)r._data&&e.push(r._data.babylonSkeleton);return e}_getAnimationGroups(){let e=[],t=this._gltf.animations;if(t)for(let r of t)r._babylonAnimationGroup&&e.push(r._babylonAnimationGroup);return e}_startAnimations(){switch(this._parent.animationStartMode){case j.GLTFLoaderAnimationStartMode.NONE:break;case j.GLTFLoaderAnimationStartMode.FIRST:{let e=this._getAnimationGroups();0!==e.length&&e[0].start(!0);break}case j.GLTFLoaderAnimationStartMode.ALL:for(let e of this._getAnimationGroups())e.start(!0);break;default:(0,S.Logger).Error(`Invalid animation start mode (${this._parent.animationStartMode})`);return}}loadNodeAsync(e,t,r=()=>{}){let s=this._extensionsLoadNodeAsync(e,t,r);if(s)return s;if(t._babylonTransformNode)throw Error(`${e}: Invalid recursive node hierarchy`);let i=[];this.logOpen(`${e} ${t.name||""}`);let a=s=>{if(R.AddPointerMetadata(s,e),R._LoadTransform(t,s),void 0!=t.camera){let r=C.Get(`${e}/camera`,this._gltf.cameras,t.camera);i.push(this.loadCameraAsync(`/cameras/${r.index}`,r,e=>{e.parent=s}))}if(t.children)for(let r of t.children){let t=C.Get(`${e}/children/${r}`,this._gltf.nodes,r);i.push(this.loadNodeAsync(`/nodes/${t.index}`,t,e=>{e.parent=s}))}r(s)};if(void 0==t.mesh||void 0!=t.skin){let e=t.name||`node${t.index}`;this._babylonScene._blockEntityCollection=!!this._assetContainer;let r=new g.TransformNode(e,this._babylonScene);r._parentContainer=this._assetContainer,this._babylonScene._blockEntityCollection=!1,void 0==t.mesh?t._babylonTransformNode=r:t._babylonTransformNodeForSkin=r,a(r)}if(void 0!=t.mesh){if(void 0==t.skin){let r=C.Get(`${e}/mesh`,this._gltf.meshes,t.mesh);i.push(this._loadMeshAsync(`/meshes/${r.index}`,t,r,a))}else{let r=C.Get(`${e}/mesh`,this._gltf.meshes,t.mesh);i.push(this._loadMeshAsync(`/meshes/${r.index}`,t,r,r=>{let s=t._babylonTransformNodeForSkin;r.metadata=function e(...t){let r=e=>e&&"object"==typeof e;return t.reduce((t,s)=>(Object.keys(s).forEach(i=>{let a=t[i],o=s[i];Array.isArray(a)&&Array.isArray(o)?t[i]=a.concat(...o):r(a)&&r(o)?t[i]=e(a,o):t[i]=o}),t),{})}(s.metadata,r.metadata||{});let a=C.Get(`${e}/skin`,this._gltf.skins,t.skin);i.push(this._loadSkinAsync(`/skins/${a.index}`,t,a,e=>{this._forEachPrimitive(t,t=>{t.skeleton=e}),this._postSceneLoadActions.push(()=>{if(void 0!=a.skeleton){let e=C.Get(`/skins/${a.index}/skeleton`,this._gltf.nodes,a.skeleton).parent;t.index===e.index?r.parent=s.parent:r.parent=e._babylonTransformNode}else r.parent=this._rootBabylonMesh;this._parent.onSkinLoadedObservable.notifyObservers({node:s,skinnedNode:r})})}))}))}}return this.logClose(),Promise.all(i).then(()=>(this._forEachPrimitive(t,e=>{e.geometry&&e.geometry.useBoundingInfoFromGeometry?e._updateBoundingInfo():e.refreshBoundingInfo(!0)}),t._babylonTransformNode))}_loadMeshAsync(e,t,r,s){let i=r.primitives;if(!i||!i.length)throw Error(`${e}: Primitives are missing`);void 0==i[0].index&&C.Assign(i);let a=[];this.logOpen(`${e} ${r.name||""}`);let o=t.name||`node${t.index}`;if(1===i.length){let s=r.primitives[0];a.push(this._loadMeshPrimitiveAsync(`${e}/primitives/${s.index}`,o,t,r,s,e=>{t._babylonTransformNode=e,t._primitiveBabylonMeshes=[e]}))}else for(let s of(this._babylonScene._blockEntityCollection=!!this._assetContainer,t._babylonTransformNode=new g.TransformNode(o,this._babylonScene),t._babylonTransformNode._parentContainer=this._assetContainer,this._babylonScene._blockEntityCollection=!1,t._primitiveBabylonMeshes=[],i))a.push(this._loadMeshPrimitiveAsync(`${e}/primitives/${s.index}`,`${o}_primitive${s.index}`,t,r,s,e=>{e.parent=t._babylonTransformNode,t._primitiveBabylonMeshes.push(e)}));return s(t._babylonTransformNode),this.logClose(),Promise.all(a).then(()=>t._babylonTransformNode)}_loadMeshPrimitiveAsync(e,t,r,s,i,a){let o,n;let l=this._extensionsLoadMeshPrimitiveAsync(e,t,r,s,i,a);if(l)return l;this.logOpen(`${e}`);let h=0===this._disableInstancedMesh&&this._parent.createInstances&&void 0==r.skin&&!s.primitives[0].targets;if(h&&i._instanceData)this._babylonScene._blockEntityCollection=!!this._assetContainer,(o=i._instanceData.babylonSourceMesh.createInstance(t))._parentContainer=this._assetContainer,this._babylonScene._blockEntityCollection=!1,n=i._instanceData.promise;else{let a=[];this._babylonScene._blockEntityCollection=!!this._assetContainer;let l=new T.Mesh(t,this._babylonScene);l._parentContainer=this._assetContainer,this._babylonScene._blockEntityCollection=!1,l.overrideMaterialSideOrientation=this._babylonScene.useRightHandedSystem?m.Material.CounterClockWiseSideOrientation:m.Material.ClockWiseSideOrientation,this._createMorphTargets(e,r,s,i,l),a.push(this._loadVertexDataAsync(e,i,l).then(t=>this._loadMorphTargetsAsync(e,i,l,t).then(()=>{this._disposed||(this._babylonScene._blockEntityCollection=!!this._assetContainer,t.applyToMesh(l),t._parentContainer=this._assetContainer,this._babylonScene._blockEntityCollection=!1)})));let u=R._GetDrawMode(e,i.mode);if(void 0==i.material){let e=this._defaultBabylonMaterialData[u];e||(e=this._createDefaultMaterial("__GLTFLoader._default",u),this._parent.onMaterialLoadedObservable.notifyObservers(e),this._defaultBabylonMaterialData[u]=e),l.material=e}else if(!this.parent.skipMaterials){let t=C.Get(`${e}/material`,this._gltf.materials,i.material);a.push(this._loadMaterialAsync(`/materials/${t.index}`,t,l,u,e=>{l.material=e}))}n=Promise.all(a),h&&(i._instanceData={babylonSourceMesh:l,promise:n}),o=l}return R.AddPointerMetadata(o,e),this._parent.onMeshLoadedObservable.notifyObservers(o),a(o),this.logClose(),n.then(()=>o)}_loadVertexDataAsync(e,t,r){let s=this._extensionsLoadVertexDataAsync(e,t,r);if(s)return s;let i=t.attributes;if(!i)throw Error(`${e}: Attributes are missing`);let o=[],n=new x.Geometry(r.name,this._babylonScene);if(void 0==t.indices)r.isUnIndexed=!0;else{let r=C.Get(`${e}/indices`,this._gltf.accessors,t.indices);o.push(this._loadIndicesAccessorAsync(`/accessors/${r.index}`,r).then(e=>{n.setIndices(e)}))}let l=(t,s,l)=>{if(void 0==i[t])return;r._delayInfo=r._delayInfo||[],-1===r._delayInfo.indexOf(s)&&r._delayInfo.push(s);let h=C.Get(`${e}/attributes/${t}`,this._gltf.accessors,i[t]);o.push(this._loadVertexAccessorAsync(`/accessors/${h.index}`,h,s).then(e=>{if(e.getKind()===y.VertexBuffer.PositionKind&&!this.parent.alwaysComputeBoundingBox&&!r.skeleton&&h.min&&h.max){let e=(0,a.TmpVectors).Vector3[0].copyFromFloats(...h.min),t=(0,a.TmpVectors).Vector3[1].copyFromFloats(...h.max);if(h.normalized&&5126!==h.componentType){let r=1;switch(h.componentType){case 5120:r=127;break;case 5121:r=255;break;case 5122:r=32767;break;case 5123:r=65535}let s=1/r;e.scaleInPlace(s),t.scaleInPlace(s)}n._boundingInfo=new P.BoundingInfo(e,t),n.useBoundingInfoFromGeometry=!0}n.setVerticesBuffer(e,h.count)})),s==y.VertexBuffer.MatricesIndicesExtraKind&&(r.numBoneInfluencers=8),l&&l(h)};return l("POSITION",y.VertexBuffer.PositionKind),l("NORMAL",y.VertexBuffer.NormalKind),l("TANGENT",y.VertexBuffer.TangentKind),l("TEXCOORD_0",y.VertexBuffer.UVKind),l("TEXCOORD_1",y.VertexBuffer.UV2Kind),l("TEXCOORD_2",y.VertexBuffer.UV3Kind),l("TEXCOORD_3",y.VertexBuffer.UV4Kind),l("TEXCOORD_4",y.VertexBuffer.UV5Kind),l("TEXCOORD_5",y.VertexBuffer.UV6Kind),l("JOINTS_0",y.VertexBuffer.MatricesIndicesKind),l("WEIGHTS_0",y.VertexBuffer.MatricesWeightsKind),l("JOINTS_1",y.VertexBuffer.MatricesIndicesExtraKind),l("WEIGHTS_1",y.VertexBuffer.MatricesWeightsExtraKind),l("COLOR_0",y.VertexBuffer.ColorKind,e=>{"VEC4"===e.type&&(r.hasVertexAlpha=!0)}),Promise.all(o).then(()=>n)}_createMorphTargets(e,t,r,s,i){if(!s.targets)return;if(void 0==t._numMorphTargets)t._numMorphTargets=s.targets.length;else if(s.targets.length!==t._numMorphTargets)throw Error(`${e}: Primitives do not have the same number of targets`);let a=r.extras?r.extras.targetNames:null;this._babylonScene._blockEntityCollection=!!this._assetContainer,i.morphTargetManager=new A.MorphTargetManager(this._babylonScene),i.morphTargetManager._parentContainer=this._assetContainer,this._babylonScene._blockEntityCollection=!1,i.morphTargetManager.areUpdatesFrozen=!0;for(let e=0;e<s.targets.length;e++){let s=t.weights?t.weights[e]:r.weights?r.weights[e]:0,o=a?a[e]:`morphTarget${e}`;i.morphTargetManager.addTarget(new v.MorphTarget(o,s,i.getScene()))}}_loadMorphTargetsAsync(e,t,r,s){if(!t.targets)return Promise.resolve();let i=[],a=r.morphTargetManager;for(let r=0;r<a.numTargets;r++){let o=a.getTarget(r);i.push(this._loadMorphTargetVertexDataAsync(`${e}/targets/${r}`,s,t.targets[r],o))}return Promise.all(i).then(()=>{a.areUpdatesFrozen=!1})}_loadMorphTargetVertexDataAsync(e,t,r,s){let i=[],a=(s,a,o)=>{if(void 0==r[s])return;let n=t.getVertexBuffer(a);if(!n)return;let l=C.Get(`${e}/${s}`,this._gltf.accessors,r[s]);i.push(this._loadFloatAccessorAsync(`/accessors/${l.index}`,l).then(e=>{o(n,e)}))};return a("POSITION",y.VertexBuffer.PositionKind,(e,t)=>{let r=new Float32Array(t.length);e.forEach(t.length,(e,s)=>{r[s]=t[s]+e}),s.setPositions(r)}),a("NORMAL",y.VertexBuffer.NormalKind,(e,t)=>{let r=new Float32Array(t.length);e.forEach(r.length,(e,s)=>{r[s]=t[s]+e}),s.setNormals(r)}),a("TANGENT",y.VertexBuffer.TangentKind,(e,t)=>{let r=new Float32Array(t.length/3*4),i=0;e.forEach(t.length/3*4,(e,s)=>{(s+1)%4!=0&&(r[i]=t[i]+e,i++)}),s.setTangents(r)}),Promise.all(i).then(()=>{})}static _LoadTransform(e,t){if(void 0!=e.skin)return;let r=(0,a.Vector3).Zero(),s=(0,a.Quaternion).Identity(),i=(0,a.Vector3).One();e.matrix?(0,a.Matrix).FromArray(e.matrix).decompose(i,s,r):(e.translation&&(r=(0,a.Vector3).FromArray(e.translation)),e.rotation&&(s=(0,a.Quaternion).FromArray(e.rotation)),e.scale&&(i=(0,a.Vector3).FromArray(e.scale))),t.position=r,t.rotationQuaternion=s,t.scaling=i}_loadSkinAsync(e,t,r,s){let i=this._extensionsLoadSkinAsync(e,t,r);if(i)return i;if(r._data)return s(r._data.babylonSkeleton),r._data.promise;let a=`skeleton${r.index}`;this._babylonScene._blockEntityCollection=!!this._assetContainer;let o=new p.Skeleton(r.name||a,a,this._babylonScene);o._parentContainer=this._assetContainer,this._babylonScene._blockEntityCollection=!1,this._loadBones(e,r,o);let n=this._loadSkinInverseBindMatricesDataAsync(e,r).then(e=>{this._updateBoneMatrices(o,e)});return r._data={babylonSkeleton:o,promise:n},s(o),n}_loadBones(e,t,r){if(void 0==t.skeleton||this._parent.alwaysComputeSkeletonRootNode){let r=this._findSkeletonRootNode(`${e}/joints`,t.joints);if(r){if(void 0===t.skeleton)t.skeleton=r.index;else{let s=C.Get(`${e}/skeleton`,this._gltf.nodes,t.skeleton);s===r||((e,t)=>{for(;t.parent;t=t.parent)if(t.parent===e)return!0;return!1})(s,r)||((0,S.Logger).Warn(`${e}/skeleton: Overriding with nearest common ancestor as skeleton node is not a common root`),t.skeleton=r.index)}}else(0,S.Logger).Warn(`${e}: Failed to find common root`)}let s={};for(let i of t.joints){let a=C.Get(`${e}/joints/${i}`,this._gltf.nodes,i);this._loadBone(a,t,r,s)}}_findSkeletonRootNode(e,t){if(0===t.length)return null;let r={};for(let s of t){let t=[],i=C.Get(`${e}/${s}`,this._gltf.nodes,s);for(;-1!==i.index;)t.unshift(i),i=i.parent;r[s]=t}let s=null;for(let e=0;;++e){let i=r[t[0]];if(e>=i.length)return s;let a=i[e];for(let o=1;o<t.length;++o)if(e>=(i=r[t[o]]).length||a!==i[e])return s;s=a}}_loadBone(e,t,r,s){let i=s[e.index];if(i)return i;let a=null;e.index!==t.skeleton&&(e.parent&&-1!==e.parent.index?a=this._loadBone(e.parent,t,r,s):void 0!==t.skeleton&&(0,S.Logger).Warn(`/skins/${t.index}/skeleton: Skeleton node is not a common root`));let o=t.joints.indexOf(e.index);return i=new d.Bone(e.name||`joint${e.index}`,r,a,this._getNodeMatrix(e),null,null,o),s[e.index]=i,this._postSceneLoadActions.push(()=>{i.linkTransformNode(e._babylonTransformNode)}),i}_loadSkinInverseBindMatricesDataAsync(e,t){if(void 0==t.inverseBindMatrices)return Promise.resolve(null);let r=C.Get(`${e}/inverseBindMatrices`,this._gltf.accessors,t.inverseBindMatrices);return this._loadFloatAccessorAsync(`/accessors/${r.index}`,r)}_updateBoneMatrices(e,t){for(let r of e.bones){let e=(0,a.Matrix).Identity(),s=r._index;t&&-1!==s&&((0,a.Matrix).FromArrayToRef(t,16*s,e),e.invertToRef(e));let i=r.getParent();i&&e.multiplyToRef(i.getAbsoluteInverseBindMatrix(),e),r.updateMatrix(e,!1,!1),r._updateAbsoluteBindMatrices(void 0,!1)}}_getNodeMatrix(e){return e.matrix?(0,a.Matrix).FromArray(e.matrix):(0,a.Matrix).Compose(e.scale?(0,a.Vector3).FromArray(e.scale):(0,a.Vector3).One(),e.rotation?(0,a.Quaternion).FromArray(e.rotation):(0,a.Quaternion).Identity(),e.translation?(0,a.Vector3).FromArray(e.translation):(0,a.Vector3).Zero())}loadCameraAsync(e,t,r=()=>{}){let s=this._extensionsLoadCameraAsync(e,t,r);if(s)return s;this.logOpen(`${e} ${t.name||""}`),this._babylonScene._blockEntityCollection=!!this._assetContainer;let i=new h.FreeCamera(t.name||`camera${t.index}`,(0,a.Vector3).Zero(),this._babylonScene,!1);switch(i._parentContainer=this._assetContainer,this._babylonScene._blockEntityCollection=!1,i.ignoreParentScaling=!0,t._babylonCamera=i,i.rotation.set(0,Math.PI,0),t.type){case"perspective":{let r=t.perspective;if(!r)throw Error(`${e}: Camera perspective properties are missing`);i.fov=r.yfov,i.minZ=r.znear,i.maxZ=r.zfar||0;break}case"orthographic":if(!t.orthographic)throw Error(`${e}: Camera orthographic properties are missing`);i.mode=l.Camera.ORTHOGRAPHIC_CAMERA,i.orthoLeft=-t.orthographic.xmag,i.orthoRight=t.orthographic.xmag,i.orthoBottom=-t.orthographic.ymag,i.orthoTop=t.orthographic.ymag,i.minZ=t.orthographic.znear,i.maxZ=t.orthographic.zfar;break;default:throw Error(`${e}: Invalid camera type (${t.type})`)}return R.AddPointerMetadata(i,e),this._parent.onCameraLoadedObservable.notifyObservers(i),r(i),this.logClose(),Promise.all([]).then(()=>i)}_loadAnimationsAsync(){let e=this._gltf.animations;if(!e)return Promise.resolve();let t=[];for(let r=0;r<e.length;r++){let s=e[r];t.push(this.loadAnimationAsync(`/animations/${s.index}`,s).then(e=>{0===e.targetedAnimations.length&&e.dispose()}))}return Promise.all(t).then(()=>{})}loadAnimationAsync(e,t){let r=this._extensionsLoadAnimationAsync(e,t);if(r)return r;this._babylonScene._blockEntityCollection=!!this._assetContainer;let s=new c.AnimationGroup(t.name||`animation${t.index}`,this._babylonScene);s._parentContainer=this._assetContainer,this._babylonScene._blockEntityCollection=!1,t._babylonAnimationGroup=s;let i=[];for(let r of(C.Assign(t.channels),C.Assign(t.samplers),t.channels))i.push(this._loadAnimationChannelAsync(`${e}/channels/${r.index}`,e,t,r,(e,t)=>{e.animations=e.animations||[],e.animations.push(t),s.addTargetedAnimation(t,e)}));return Promise.all(i).then(()=>(s.normalize(0),s))}_loadAnimationChannelAsync(e,t,r,s,i){let a;let o=this._extensionsLoadAnimationChannelAsync(e,t,r,s,i);if(o)return o;if(void 0==s.target.node)return Promise.resolve();let n=C.Get(`${e}/target/node`,this._gltf.nodes,s.target.node);if("weights"===s.target.path&&!n._numMorphTargets||"weights"!==s.target.path&&!n._babylonTransformNode)return Promise.resolve();switch(s.target.path){case"translation":a=M.nodeAnimationData.translation;break;case"rotation":a=M.nodeAnimationData.rotation;break;case"scale":a=M.nodeAnimationData.scale;break;case"weights":a=M.nodeAnimationData.weights;break;default:throw Error(`${e}/target/path: Invalid value (${s.target.path})`)}let l={object:n,info:a};return this._loadAnimationChannelFromTargetInfoAsync(e,t,r,s,l,i)}_loadAnimationChannelFromTargetInfoAsync(e,t,r,s,i,a){let o=this.parent.targetFps,n=1/o,l=C.Get(`${e}/sampler`,r.samplers,s.sampler);return this._loadAnimationSamplerAsync(`${t}/samplers/${s.sampler}`,l).then(e=>{let t=0,l=i.object;for(let h of i.info){let i=h.getStride(l),c=e.input,d=e.output,p=Array(c.length),m=0;switch(e.interpolation){case"STEP":for(let e=0;e<c.length;e++){let t=h.getValue(l,d,m,1);m+=i,p[e]={frame:c[e]*o,value:t,interpolation:u.AnimationKeyInterpolation.STEP}}break;case"CUBICSPLINE":for(let e=0;e<c.length;e++){let t=h.getValue(l,d,m,n);m+=i;let r=h.getValue(l,d,m,1);m+=i;let s=h.getValue(l,d,m,n);m+=i,p[e]={frame:c[e]*o,inTangent:t,value:r,outTangent:s}}break;case"LINEAR":for(let e=0;e<c.length;e++){let t=h.getValue(l,d,m,1);m+=i,p[e]={frame:c[e]*o,value:t}}}if(m>0){let e=`${r.name||`animation${r.index}`}_channel${s.index}_${t}`;h.buildAnimations(l,e,o,p,(e,r)=>{++t,a(e,r)})}}})}_loadAnimationSamplerAsync(e,t){if(t._data)return t._data;let r=t.interpolation||"LINEAR";switch(r){case"STEP":case"LINEAR":case"CUBICSPLINE":break;default:throw Error(`${e}/interpolation: Invalid value (${t.interpolation})`)}let s=C.Get(`${e}/input`,this._gltf.accessors,t.input),i=C.Get(`${e}/output`,this._gltf.accessors,t.output);return t._data=Promise.all([this._loadFloatAccessorAsync(`/accessors/${s.index}`,s),this._loadFloatAccessorAsync(`/accessors/${i.index}`,i)]).then(([e,t])=>({input:e,interpolation:r,output:t})),t._data}loadBufferAsync(e,t,r,s){let i=this._extensionsLoadBufferAsync(e,t,r,s);if(i)return i;if(!t._data){if(t.uri)t._data=this.loadUriAsync(`${e}/uri`,t,t.uri);else{if(!this._bin)throw Error(`${e}: Uri is missing or the binary glTF is missing its binary chunk`);t._data=this._bin.readAsync(0,t.byteLength)}}return t._data.then(t=>{try{return new Uint8Array(t.buffer,t.byteOffset+r,s)}catch(t){throw Error(`${e}: ${t.message}`)}})}loadBufferViewAsync(e,t){let r=this._extensionsLoadBufferViewAsync(e,t);if(r)return r;if(t._data)return t._data;let s=C.Get(`${e}/buffer`,this._gltf.buffers,t.buffer);return t._data=this.loadBufferAsync(`/buffers/${s.index}`,s,t.byteOffset||0,t.byteLength),t._data}_loadAccessorAsync(e,t,r){if(t._data)return t._data;let s=R._GetNumComponents(e,t.type),i=s*(0,y.VertexBuffer).GetTypeByteLength(t.componentType),a=s*t.count;if(void 0==t.bufferView)t._data=Promise.resolve(new r(a));else{let o=C.Get(`${e}/bufferView`,this._gltf.bufferViews,t.bufferView);t._data=this.loadBufferViewAsync(`/bufferViews/${o.index}`,o).then(n=>{if(5126===t.componentType&&!t.normalized&&(!o.byteStride||o.byteStride===i))return R._GetTypedArray(e,t.componentType,n,t.byteOffset,a);{let e=new r(a);return(0,y.VertexBuffer).ForEach(n,t.byteOffset||0,o.byteStride||i,s,t.componentType,e.length,t.normalized||!1,(t,r)=>{e[r]=t}),e}})}if(t.sparse){let a=t.sparse;t._data=t._data.then(o=>{let n=C.Get(`${e}/sparse/indices/bufferView`,this._gltf.bufferViews,a.indices.bufferView),l=C.Get(`${e}/sparse/values/bufferView`,this._gltf.bufferViews,a.values.bufferView);return Promise.all([this.loadBufferViewAsync(`/bufferViews/${n.index}`,n),this.loadBufferViewAsync(`/bufferViews/${l.index}`,l)]).then(([n,l])=>{let h;let u=R._GetTypedArray(`${e}/sparse/indices`,a.indices.componentType,n,a.indices.byteOffset,a.count),c=s*a.count;if(5126!==t.componentType||t.normalized){let o=R._GetTypedArray(`${e}/sparse/values`,t.componentType,l,a.values.byteOffset,c);h=new r(c),(0,y.VertexBuffer).ForEach(o,0,i,s,t.componentType,h.length,t.normalized||!1,(e,t)=>{h[t]=e})}else h=R._GetTypedArray(`${e}/sparse/values`,t.componentType,l,a.values.byteOffset,c);let d=0;for(let e=0;e<u.length;e++){let t=u[e]*s;for(let e=0;e<s;e++)o[t++]=h[d++]}return o})})}return t._data}_loadFloatAccessorAsync(e,t){return this._loadAccessorAsync(e,t,Float32Array)}_loadIndicesAccessorAsync(e,t){if("SCALAR"!==t.type)throw Error(`${e}/type: Invalid value ${t.type}`);if(5121!==t.componentType&&5123!==t.componentType&&5125!==t.componentType)throw Error(`${e}/componentType: Invalid value ${t.componentType}`);if(t._data)return t._data;if(t.sparse){let r=R._GetTypedArrayConstructor(`${e}/componentType`,t.componentType);t._data=this._loadAccessorAsync(e,t,r)}else{let r=C.Get(`${e}/bufferView`,this._gltf.bufferViews,t.bufferView);t._data=this.loadBufferViewAsync(`/bufferViews/${r.index}`,r).then(r=>R._GetTypedArray(e,t.componentType,r,t.byteOffset,t.count))}return t._data}_loadVertexBufferViewAsync(e){if(e._babylonBuffer)return e._babylonBuffer;let t=this._babylonScene.getEngine();return e._babylonBuffer=this.loadBufferViewAsync(`/bufferViews/${e.index}`,e).then(e=>new y.Buffer(t,e,!1)),e._babylonBuffer}_loadVertexAccessorAsync(e,t,r){if(t._babylonVertexBuffer?.[r])return t._babylonVertexBuffer[r];t._babylonVertexBuffer||(t._babylonVertexBuffer={});let s=this._babylonScene.getEngine();if(t.sparse||void 0==t.bufferView)t._babylonVertexBuffer[r]=this._loadFloatAccessorAsync(e,t).then(e=>new y.VertexBuffer(s,e,r,!1));else if(r===y.VertexBuffer.MatricesIndicesKind||r===y.VertexBuffer.MatricesIndicesExtraKind)t._babylonVertexBuffer[r]=this._loadFloatAccessorAsync(e,t).then(e=>new y.VertexBuffer(s,e,r,!1));else{let i=C.Get(`${e}/bufferView`,this._gltf.bufferViews,t.bufferView);t._babylonVertexBuffer[r]=this._loadVertexBufferViewAsync(i).then(a=>{let o=R._GetNumComponents(e,t.type);return new y.VertexBuffer(s,a,r,!1,void 0,i.byteStride,void 0,t.byteOffset,o,t.componentType,t.normalized,!0,void 0,!0)})}return t._babylonVertexBuffer[r]}_loadMaterialMetallicRoughnessPropertiesAsync(e,t,r){if(!(r instanceof f.PBRMaterial))throw Error(`${e}: Material type not supported`);let s=[];return t&&(t.baseColorFactor?(r.albedoColor=(0,o.Color3).FromArray(t.baseColorFactor),r.alpha=t.baseColorFactor[3]):r.albedoColor=(0,o.Color3).White(),r.metallic=void 0==t.metallicFactor?1:t.metallicFactor,r.roughness=void 0==t.roughnessFactor?1:t.roughnessFactor,t.baseColorTexture&&s.push(this.loadTextureInfoAsync(`${e}/baseColorTexture`,t.baseColorTexture,e=>{e.name=`${r.name} (Base Color)`,r.albedoTexture=e})),t.metallicRoughnessTexture&&(t.metallicRoughnessTexture.nonColorData=!0,s.push(this.loadTextureInfoAsync(`${e}/metallicRoughnessTexture`,t.metallicRoughnessTexture,e=>{e.name=`${r.name} (Metallic Roughness)`,r.metallicTexture=e})),r.useMetallnessFromMetallicTextureBlue=!0,r.useRoughnessFromMetallicTextureGreen=!0,r.useRoughnessFromMetallicTextureAlpha=!1)),Promise.all(s).then(()=>{})}_loadMaterialAsync(e,t,r,s,i=()=>{}){let a=this._extensionsLoadMaterialAsync(e,t,r,s,i);if(a)return a;t._data=t._data||{};let o=t._data[s];if(!o){this.logOpen(`${e} ${t.name||""}`);let r=this.createMaterial(e,t,s);o={babylonMaterial:r,babylonMeshes:[],promise:this.loadMaterialPropertiesAsync(e,t,r)},t._data[s]=o,R.AddPointerMetadata(r,e),this._parent.onMaterialLoadedObservable.notifyObservers(r),this.logClose()}return r&&(o.babylonMeshes.push(r),r.onDisposeObservable.addOnce(()=>{let e=o.babylonMeshes.indexOf(r);-1!==e&&o.babylonMeshes.splice(e,1)})),i(o.babylonMaterial),o.promise.then(()=>o.babylonMaterial)}_createDefaultMaterial(e,t){this._babylonScene._blockEntityCollection=!!this._assetContainer;let r=new f.PBRMaterial(e,this._babylonScene);return r._parentContainer=this._assetContainer,this._babylonScene._blockEntityCollection=!1,r.fillMode=t,r.enableSpecularAntiAliasing=!0,r.useRadianceOverAlpha=!this._parent.transparencyAsCoverage,r.useSpecularOverAlpha=!this._parent.transparencyAsCoverage,r.transparencyMode=f.PBRMaterial.PBRMATERIAL_OPAQUE,r.metallic=1,r.roughness=1,r}createMaterial(e,t,r){let s=this._extensionsCreateMaterial(e,t,r);if(s)return s;let i=t.name||`material${t.index}`;return this._createDefaultMaterial(i,r)}loadMaterialPropertiesAsync(e,t,r){let s=this._extensionsLoadMaterialPropertiesAsync(e,t,r);if(s)return s;let i=[];return i.push(this.loadMaterialBasePropertiesAsync(e,t,r)),t.pbrMetallicRoughness&&i.push(this._loadMaterialMetallicRoughnessPropertiesAsync(`${e}/pbrMetallicRoughness`,t.pbrMetallicRoughness,r)),this.loadMaterialAlphaProperties(e,t,r),Promise.all(i).then(()=>{})}loadMaterialBasePropertiesAsync(e,t,r){if(!(r instanceof f.PBRMaterial))throw Error(`${e}: Material type not supported`);let s=[];return r.emissiveColor=t.emissiveFactor?(0,o.Color3).FromArray(t.emissiveFactor):new o.Color3(0,0,0),t.doubleSided&&(r.backFaceCulling=!1,r.twoSidedLighting=!0),t.normalTexture&&(t.normalTexture.nonColorData=!0,s.push(this.loadTextureInfoAsync(`${e}/normalTexture`,t.normalTexture,e=>{e.name=`${r.name} (Normal)`,r.bumpTexture=e})),r.invertNormalMapX=!this._babylonScene.useRightHandedSystem,r.invertNormalMapY=this._babylonScene.useRightHandedSystem,void 0!=t.normalTexture.scale&&r.bumpTexture&&(r.bumpTexture.level=t.normalTexture.scale),r.forceIrradianceInFragment=!0),t.occlusionTexture&&(t.occlusionTexture.nonColorData=!0,s.push(this.loadTextureInfoAsync(`${e}/occlusionTexture`,t.occlusionTexture,e=>{e.name=`${r.name} (Occlusion)`,r.ambientTexture=e})),r.useAmbientInGrayScale=!0,void 0!=t.occlusionTexture.strength&&(r.ambientTextureStrength=t.occlusionTexture.strength)),t.emissiveTexture&&s.push(this.loadTextureInfoAsync(`${e}/emissiveTexture`,t.emissiveTexture,e=>{e.name=`${r.name} (Emissive)`,r.emissiveTexture=e})),Promise.all(s).then(()=>{})}loadMaterialAlphaProperties(e,t,r){if(!(r instanceof f.PBRMaterial))throw Error(`${e}: Material type not supported`);switch(t.alphaMode||"OPAQUE"){case"OPAQUE":r.transparencyMode=f.PBRMaterial.PBRMATERIAL_OPAQUE,r.alpha=1;break;case"MASK":r.transparencyMode=f.PBRMaterial.PBRMATERIAL_ALPHATEST,r.alphaCutOff=void 0==t.alphaCutoff?.5:t.alphaCutoff,r.albedoTexture&&(r.albedoTexture.hasAlpha=!0);break;case"BLEND":r.transparencyMode=f.PBRMaterial.PBRMATERIAL_ALPHABLEND,r.albedoTexture&&(r.albedoTexture.hasAlpha=!0,r.useAlphaFromAlbedoTexture=!0);break;default:throw Error(`${e}/alphaMode: Invalid value (${t.alphaMode})`)}}loadTextureInfoAsync(e,t,r=()=>{}){let s=this._extensionsLoadTextureInfoAsync(e,t,r);if(s)return s;if(this.logOpen(`${e}`),t.texCoord>=6)throw Error(`${e}/texCoord: Invalid value (${t.texCoord})`);let i=C.Get(`${e}/index`,this._gltf.textures,t.index);i._textureInfo=t;let a=this._loadTextureAsync(`/textures/${t.index}`,i,s=>{s.coordinatesIndex=t.texCoord||0,R.AddPointerMetadata(s,e),this._parent.onTextureLoadedObservable.notifyObservers(s),r(s)});return this.logClose(),a}_loadTextureAsync(e,t,r=()=>{}){let s=this._extensionsLoadTextureAsync(e,t,r);if(s)return s;this.logOpen(`${e} ${t.name||""}`);let i=void 0==t.sampler?R.DefaultSampler:C.Get(`${e}/sampler`,this._gltf.samplers,t.sampler),a=C.Get(`${e}/source`,this._gltf.images,t.source),o=this._createTextureAsync(e,i,a,r,void 0,!t._textureInfo.nonColorData);return this.logClose(),o}_createTextureAsync(e,t,r,s=()=>{},a,o){let n=this._loadSampler(`/samplers/${t.index}`,t),l=[],h=new i.Deferred;this._babylonScene._blockEntityCollection=!!this._assetContainer;let u={noMipmap:n.noMipMaps,invertY:!1,samplingMode:n.samplingMode,onLoad:()=>{this._disposed||h.resolve()},onError:(t,r)=>{this._disposed||h.reject(Error(`${e}: ${r&&r.message?r.message:t||"Failed to load texture"}`))},mimeType:r.mimeType,loaderOptions:a,useSRGBBuffer:!!o&&this._parent.useSRGBBuffers},c=new _.Texture(null,this._babylonScene,u);return c._parentContainer=this._assetContainer,this._babylonScene._blockEntityCollection=!1,l.push(h.promise),l.push(this.loadImageAsync(`/images/${r.index}`,r).then(e=>{let t=r.uri||`${this._fileName}#image${r.index}`,s=`data:${this._uniqueRootUrl}${t}`;c.updateURL(s,e)})),c.wrapU=n.wrapU,c.wrapV=n.wrapV,s(c),Promise.all(l).then(()=>c)}_loadSampler(e,t){return t._data||(t._data={noMipMaps:9728===t.minFilter||9729===t.minFilter,samplingMode:R._GetTextureSamplingMode(e,t),wrapU:R._GetTextureWrapMode(`${e}/wrapS`,t.wrapS),wrapV:R._GetTextureWrapMode(`${e}/wrapT`,t.wrapT)}),t._data}loadImageAsync(e,t){if(!t._data){if(this.logOpen(`${e} ${t.name||""}`),t.uri)t._data=this.loadUriAsync(`${e}/uri`,t,t.uri);else{let r=C.Get(`${e}/bufferView`,this._gltf.bufferViews,t.bufferView);t._data=this.loadBufferViewAsync(`/bufferViews/${r.index}`,r)}this.logClose()}return t._data}loadUriAsync(e,t,r){let s=this._extensionsLoadUriAsync(e,t,r);if(s)return s;if(!R._ValidateUri(r))throw Error(`${e}: '${r}' is invalid`);if((0,E.IsBase64DataUrl)(r)){let t=new Uint8Array((0,E.DecodeBase64UrlToBinary)(r));return this.log(`${e}: Decoded ${r.substr(0,64)}... (${t.length} bytes)`),Promise.resolve(t)}return this.log(`${e}: Loading ${r}`),this._parent.preprocessUrlAsync(this._rootUrl+r).then(t=>new Promise((s,i)=>{this._parent._loadFile(this._babylonScene,t,t=>{this._disposed||(this.log(`${e}: Loaded ${r} (${t.byteLength} bytes)`),s(new Uint8Array(t)))},!0,t=>{i(new E.LoadFileError(`${e}: Failed to load '${r}'${t?": "+t.status+" "+t.statusText:""}`,t))})}))}static AddPointerMetadata(e,t){e.metadata=e.metadata||{};let r=e._internalMetadata=e._internalMetadata||{},s=r.gltf=r.gltf||{};(s.pointers=s.pointers||[]).push(t)}static _GetTextureWrapMode(e,t){switch(t=void 0==t?10497:t){case 33071:return _.Texture.CLAMP_ADDRESSMODE;case 33648:return _.Texture.MIRROR_ADDRESSMODE;case 10497:return _.Texture.WRAP_ADDRESSMODE;default:return(0,S.Logger).Warn(`${e}: Invalid value (${t})`),_.Texture.WRAP_ADDRESSMODE}}static _GetTextureSamplingMode(e,t){let r=void 0==t.magFilter?9729:t.magFilter,s=void 0==t.minFilter?9987:t.minFilter;if(9729===r)switch(s){case 9728:return _.Texture.LINEAR_NEAREST;case 9729:return _.Texture.LINEAR_LINEAR;case 9984:return _.Texture.LINEAR_NEAREST_MIPNEAREST;case 9985:return _.Texture.LINEAR_LINEAR_MIPNEAREST;case 9986:return _.Texture.LINEAR_NEAREST_MIPLINEAR;case 9987:return _.Texture.LINEAR_LINEAR_MIPLINEAR;default:return(0,S.Logger).Warn(`${e}/minFilter: Invalid value (${s})`),_.Texture.LINEAR_LINEAR_MIPLINEAR}else switch(9728!==r&&(0,S.Logger).Warn(`${e}/magFilter: Invalid value (${r})`),s){case 9728:return _.Texture.NEAREST_NEAREST;case 9729:return _.Texture.NEAREST_LINEAR;case 9984:return _.Texture.NEAREST_NEAREST_MIPNEAREST;case 9985:return _.Texture.NEAREST_LINEAR_MIPNEAREST;case 9986:return _.Texture.NEAREST_NEAREST_MIPLINEAR;case 9987:return _.Texture.NEAREST_LINEAR_MIPLINEAR;default:return(0,S.Logger).Warn(`${e}/minFilter: Invalid value (${s})`),_.Texture.NEAREST_NEAREST_MIPNEAREST}}static _GetTypedArrayConstructor(e,t){switch(t){case 5120:return Int8Array;case 5121:return Uint8Array;case 5122:return Int16Array;case 5123:return Uint16Array;case 5125:return Uint32Array;case 5126:return Float32Array;default:throw Error(`${e}: Invalid component type ${t}`)}}static _GetTypedArray(e,t,r,s,i){let a=r.buffer;s=r.byteOffset+(s||0);let o=R._GetTypedArrayConstructor(`${e}/componentType`,t),n=(0,y.VertexBuffer).GetTypeByteLength(t);return s%n!=0?((0,S.Logger).Warn(`${e}: Copying buffer as byte offset (${s}) is not a multiple of component type byte length (${n})`),new o(a.slice(s,s+i*n),0)):new o(a,s,i)}static _GetNumComponents(e,t){switch(t){case"SCALAR":return 1;case"VEC2":return 2;case"VEC3":return 3;case"VEC4":case"MAT2":return 4;case"MAT3":return 9;case"MAT4":return 16}throw Error(`${e}: Invalid type (${t})`)}static _ValidateUri(e){return(0,n.Tools).IsBase64(e)||-1===e.indexOf("..")}static _GetDrawMode(e,t){switch(void 0==t&&(t=4),t){case 0:return m.Material.PointListDrawMode;case 1:return m.Material.LineListDrawMode;case 2:return m.Material.LineLoopDrawMode;case 3:return m.Material.LineStripDrawMode;case 4:return m.Material.TriangleFillMode;case 5:return m.Material.TriangleStripDrawMode;case 6:return m.Material.TriangleFanDrawMode}throw Error(`${e}: Invalid mesh primitive mode (${t})`)}_compileMaterialsAsync(){this._parent._startPerformanceCounter("Compile materials");let e=[];if(this._gltf.materials){for(let t of this._gltf.materials)if(t._data)for(let r in t._data){let s=t._data[r];for(let t of s.babylonMeshes){t.computeWorldMatrix(!0);let r=s.babylonMaterial;e.push(r.forceCompilationAsync(t)),e.push(r.forceCompilationAsync(t,{useInstances:!0})),this._parent.useClipPlane&&(e.push(r.forceCompilationAsync(t,{clipPlane:!0})),e.push(r.forceCompilationAsync(t,{clipPlane:!0,useInstances:!0})))}}}return Promise.all(e).then(()=>{this._parent._endPerformanceCounter("Compile materials")})}_compileShadowGeneratorsAsync(){this._parent._startPerformanceCounter("Compile shadow generators");let e=[];for(let t of this._babylonScene.lights){let r=t.getShadowGenerator();r&&e.push(r.forceCompilationAsync())}return Promise.all(e).then(()=>{this._parent._endPerformanceCounter("Compile shadow generators")})}_forEachExtensions(e){for(let t of this._extensions)t.enabled&&e(t)}_applyExtensions(e,t,r){for(let s of this._extensions)if(s.enabled){let i=`${s.name}.${t}`;e._activeLoaderExtensionFunctions=e._activeLoaderExtensionFunctions||{};let a=e._activeLoaderExtensionFunctions;if(!a[i]){a[i]=!0;try{let e=r(s);if(e)return e}finally{delete a[i]}}}return null}_extensionsOnLoading(){this._forEachExtensions(e=>e.onLoading&&e.onLoading())}_extensionsOnReady(){this._forEachExtensions(e=>e.onReady&&e.onReady())}_extensionsLoadSceneAsync(e,t){return this._applyExtensions(t,"loadScene",r=>r.loadSceneAsync&&r.loadSceneAsync(e,t))}_extensionsLoadNodeAsync(e,t,r){return this._applyExtensions(t,"loadNode",s=>s.loadNodeAsync&&s.loadNodeAsync(e,t,r))}_extensionsLoadCameraAsync(e,t,r){return this._applyExtensions(t,"loadCamera",s=>s.loadCameraAsync&&s.loadCameraAsync(e,t,r))}_extensionsLoadVertexDataAsync(e,t,r){return this._applyExtensions(t,"loadVertexData",s=>s._loadVertexDataAsync&&s._loadVertexDataAsync(e,t,r))}_extensionsLoadMeshPrimitiveAsync(e,t,r,s,i,a){return this._applyExtensions(i,"loadMeshPrimitive",o=>o._loadMeshPrimitiveAsync&&o._loadMeshPrimitiveAsync(e,t,r,s,i,a))}_extensionsLoadMaterialAsync(e,t,r,s,i){return this._applyExtensions(t,"loadMaterial",a=>a._loadMaterialAsync&&a._loadMaterialAsync(e,t,r,s,i))}_extensionsCreateMaterial(e,t,r){return this._applyExtensions(t,"createMaterial",s=>s.createMaterial&&s.createMaterial(e,t,r))}_extensionsLoadMaterialPropertiesAsync(e,t,r){return this._applyExtensions(t,"loadMaterialProperties",s=>s.loadMaterialPropertiesAsync&&s.loadMaterialPropertiesAsync(e,t,r))}_extensionsLoadTextureInfoAsync(e,t,r){return this._applyExtensions(t,"loadTextureInfo",s=>s.loadTextureInfoAsync&&s.loadTextureInfoAsync(e,t,r))}_extensionsLoadTextureAsync(e,t,r){return this._applyExtensions(t,"loadTexture",s=>s._loadTextureAsync&&s._loadTextureAsync(e,t,r))}_extensionsLoadAnimationAsync(e,t){return this._applyExtensions(t,"loadAnimation",r=>r.loadAnimationAsync&&r.loadAnimationAsync(e,t))}_extensionsLoadAnimationChannelAsync(e,t,r,s,i){return this._applyExtensions(r,"loadAnimationChannel",a=>a._loadAnimationChannelAsync&&a._loadAnimationChannelAsync(e,t,r,s,i))}_extensionsLoadSkinAsync(e,t,r){return this._applyExtensions(r,"loadSkin",s=>s._loadSkinAsync&&s._loadSkinAsync(e,t,r))}_extensionsLoadUriAsync(e,t,r){return this._applyExtensions(t,"loadUri",s=>s._loadUriAsync&&s._loadUriAsync(e,t,r))}_extensionsLoadBufferViewAsync(e,t){return this._applyExtensions(t,"loadBufferView",r=>r.loadBufferViewAsync&&r.loadBufferViewAsync(e,t))}_extensionsLoadBufferAsync(e,t,r,s){return this._applyExtensions(t,"loadBuffer",i=>i.loadBufferAsync&&i.loadBufferAsync(e,t,r,s))}static LoadExtensionAsync(e,t,r,s){if(!t.extensions)return null;let i=t.extensions[r];return i?s(`${e}/extensions/${r}`,i):null}static LoadExtraAsync(e,t,r,s){if(!t.extras)return null;let i=t.extras[r];return i?s(`${e}/extras/${r}`,i):null}isExtensionUsed(e){return!!this._gltf.extensionsUsed&&-1!==this._gltf.extensionsUsed.indexOf(e)}logOpen(e){this._parent._logOpen(e)}logClose(){this._parent._logClose()}log(e){this._parent._log(e)}startPerformanceCounter(e){this._parent._startPerformanceCounter(e)}endPerformanceCounter(e){this._parent._endPerformanceCounter(e)}}R._RegisteredExtensions={},R.DefaultSampler={index:-1},j.GLTFFileLoader._CreateGLTF2Loader=e=>new R(e)},{"@babylonjs/core/Misc/deferred.js":"cceve","@babylonjs/core/Maths/math.vector.js":"h33gd","@babylonjs/core/Maths/math.color.js":"78my4","@babylonjs/core/Misc/tools.js":"ieufJ","@babylonjs/core/Cameras/camera.js":"467SK","@babylonjs/core/Cameras/freeCamera.js":"5Dwi7","@babylonjs/core/Animations/animationKey.js":"2xcni","@babylonjs/core/Animations/animationGroup.js":"ilhgI","@babylonjs/core/Bones/bone.js":"4de78","@babylonjs/core/Bones/skeleton.js":"gq1Mh","@babylonjs/core/Materials/material.js":"b0eUV","@babylonjs/core/Materials/PBR/pbrMaterial.js":"3wOWA","@babylonjs/core/Materials/Textures/texture.js":"bYxw8","@babylonjs/core/Meshes/transformNode.js":"3jk7X","@babylonjs/core/Buffers/buffer.js":"aDZlT","@babylonjs/core/Meshes/geometry.js":"lnjEm","@babylonjs/core/Meshes/abstractMesh.js":"jf0Op","@babylonjs/core/Meshes/mesh.js":"9vBao","@babylonjs/core/Morph/morphTarget.js":"cq84D","@babylonjs/core/Morph/morphTargetManager.js":"jwka7","../glTFFileLoader.js":"GX9kb","@babylonjs/core/Misc/fileTools.js":"cF4Gd","@babylonjs/core/Misc/logger.js":"5C8M2","@babylonjs/core/Culling/boundingInfo.js":"38KwI","./glTFLoaderAnimation.js":"3rmfu","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"3rmfu":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"getVector3",()=>o),s.export(r,"getQuaternion",()=>n),s.export(r,"getWeights",()=>l),s.export(r,"AnimationPropertyInfo",()=>h),s.export(r,"TransformNodeAnimationPropertyInfo",()=>u),s.export(r,"WeightAnimationPropertyInfo",()=>c),s.export(r,"nodeAnimationData",()=>d);var i=e("@babylonjs/core/Animations/animation.js"),a=e("@babylonjs/core/Maths/math.vector.js");function o(e,t,r,s){return(0,a.Vector3).FromArray(t,r).scaleInPlace(s)}function n(e,t,r,s){return(0,a.Quaternion).FromArray(t,r).scaleInPlace(s)}function l(e,t,r,s){let i=Array(e._numMorphTargets);for(let e=0;e<i.length;e++)i[e]=t[r++]*s;return i}class h{constructor(e,t,r,s){this.type=e,this.name=t,this.getValue=r,this.getStride=s}_buildAnimation(e,t,r){let s=new i.Animation(e,this.name,t,this.type);return s.setKeys(r),s}}class u extends h{buildAnimations(e,t,r,s,i){i(e._babylonTransformNode,this._buildAnimation(t,r,s))}}class c extends h{buildAnimations(e,t,r,s,a){if(e._numMorphTargets)for(let o=0;o<e._numMorphTargets;o++){let n=new i.Animation(`${t}_${o}`,this.name,r,this.type);if(n.setKeys(s.map(e=>({frame:e.frame,inTangent:e.inTangent?e.inTangent[o]:void 0,value:e.value[o],outTangent:e.outTangent?e.outTangent[o]:void 0,interpolation:e.interpolation}))),e._primitiveBabylonMeshes){for(let t of e._primitiveBabylonMeshes)if(t.morphTargetManager){let e=t.morphTargetManager.getTarget(o),r=n.clone();e.animations.push(r),a(e,r)}}}}}let d={translation:[new u(i.Animation.ANIMATIONTYPE_VECTOR3,"position",o,()=>3)],rotation:[new u(i.Animation.ANIMATIONTYPE_QUATERNION,"rotationQuaternion",n,()=>4)],scale:[new u(i.Animation.ANIMATIONTYPE_VECTOR3,"scaling",o,()=>3)],weights:[new c(i.Animation.ANIMATIONTYPE_FLOAT,"influence",l,e=>e._numMorphTargets)]}},{"@babylonjs/core/Animations/animation.js":"aeJ0l","@babylonjs/core/Maths/math.vector.js":"h33gd","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"8nluN":[function(e,t,r){e("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(r)},{"@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],RWLbc:[function(e,t,r){e("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(r)},{"@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],eRnTs:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r);var i=e("./EXT_lights_image_based.js");s.exportAll(i,r);var a=e("./EXT_mesh_gpu_instancing.js");s.exportAll(a,r);var o=e("./EXT_meshopt_compression.js");s.exportAll(o,r);var n=e("./EXT_texture_webp.js");s.exportAll(n,r);var l=e("./KHR_draco_mesh_compression.js");s.exportAll(l,r);var h=e("./KHR_lights_punctual.js");s.exportAll(h,r);var u=e("./KHR_materials_pbrSpecularGlossiness.js");s.exportAll(u,r);var c=e("./KHR_materials_unlit.js");s.exportAll(c,r);var d=e("./KHR_materials_clearcoat.js");s.exportAll(d,r);var p=e("./KHR_materials_iridescence.js");s.exportAll(p,r);var m=e("./KHR_materials_anisotropy.js");s.exportAll(m,r);var f=e("./KHR_materials_emissive_strength.js");s.exportAll(f,r);var _=e("./KHR_materials_sheen.js");s.exportAll(_,r);var g=e("./KHR_materials_specular.js");s.exportAll(g,r);var y=e("./KHR_materials_ior.js");s.exportAll(y,r);var x=e("./KHR_materials_variants.js");s.exportAll(x,r);var b=e("./KHR_materials_transmission.js");s.exportAll(b,r);var T=e("./KHR_materials_translucency.js");s.exportAll(T,r);var v=e("./KHR_materials_volume.js");s.exportAll(v,r);var A=e("./KHR_materials_dispersion.js");s.exportAll(A,r);var j=e("./KHR_mesh_quantization.js");s.exportAll(j,r);var E=e("./KHR_texture_basisu.js");s.exportAll(E,r);var S=e("./KHR_texture_transform.js");s.exportAll(S,r);var P=e("./KHR_xmp_json_ld.js");s.exportAll(P,r);var M=e("./KHR_animation_pointer.js");s.exportAll(M,r);var C=e("./MSFT_audio_emitter.js");s.exportAll(C,r);var R=e("./MSFT_lod.js");s.exportAll(R,r);var F=e("./MSFT_minecraftMesh.js");s.exportAll(F,r);var I=e("./MSFT_sRGBFactors.js");s.exportAll(I,r);var w=e("./KHR_interactivity.js");s.exportAll(w,r);var L=e("./ExtrasAsMetadata.js");s.exportAll(L,r)},{"./EXT_lights_image_based.js":"6pr0c","./EXT_mesh_gpu_instancing.js":"eK2PZ","./EXT_meshopt_compression.js":"jvEfZ","./EXT_texture_webp.js":"lh4C4","./KHR_draco_mesh_compression.js":"cvMeU","./KHR_lights_punctual.js":"jwdAu","./KHR_materials_pbrSpecularGlossiness.js":"koLT0","./KHR_materials_unlit.js":"49OYE","./KHR_materials_clearcoat.js":"fGYu8","./KHR_materials_iridescence.js":"a2HiQ","./KHR_materials_anisotropy.js":"8ab8j","./KHR_materials_emissive_strength.js":"cIp9S","./KHR_materials_sheen.js":"g5Rq3","./KHR_materials_specular.js":"1TONr","./KHR_materials_ior.js":"bnBX6","./KHR_materials_variants.js":"fb7Cl","./KHR_materials_transmission.js":"icJBJ","./KHR_materials_translucency.js":"2bI90","./KHR_materials_volume.js":"cQOgc","./KHR_materials_dispersion.js":"8W8DE","./KHR_mesh_quantization.js":"3N7Mu","./KHR_texture_basisu.js":"gy9Ea","./KHR_texture_transform.js":"a8Aai","./KHR_xmp_json_ld.js":"8ucaF","./KHR_animation_pointer.js":"d4S7R","./MSFT_audio_emitter.js":"br9T4","./MSFT_lod.js":"jiyCf","./MSFT_minecraftMesh.js":"bxMkM","./MSFT_sRGBFactors.js":"lyqob","./KHR_interactivity.js":"bNByP","./ExtrasAsMetadata.js":"4HJMs","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"6pr0c":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"EXT_lights_image_based",()=>u);var i=e("@babylonjs/core/Maths/math.scalar.js"),a=e("@babylonjs/core/Maths/sphericalPolynomial.js"),o=e("@babylonjs/core/Maths/math.vector.js"),n=e("@babylonjs/core/Materials/Textures/rawCubeTexture.js"),l=e("../glTFLoader.js");let h="EXT_lights_image_based";class u{constructor(e){this.name=h,this._loader=e,this.enabled=this._loader.isExtensionUsed(h)}dispose(){this._loader=null,delete this._lights}onLoading(){let e=this._loader.gltf.extensions;if(e&&e[this.name]){let t=e[this.name];this._lights=t.lights}}loadSceneAsync(e,t){return(0,l.GLTFLoader).LoadExtensionAsync(e,t,this.name,(r,s)=>{this._loader._allMaterialsDirtyRequired=!0;let i=[];i.push(this._loader.loadSceneAsync(e,t)),this._loader.logOpen(`${r}`);let a=(0,l.ArrayItem).Get(`${r}/light`,this._lights,s.light);return i.push(this._loadLightAsync(`/extensions/${this.name}/lights/${s.light}`,a).then(e=>{this._loader.babylonScene.environmentTexture=e})),this._loader.logClose(),Promise.all(i).then(()=>{})})}_loadLightAsync(e,t){if(!t._loaded){let r=[];this._loader.logOpen(`${e}`);let s=Array(t.specularImages.length);for(let i=0;i<t.specularImages.length;i++){let a=t.specularImages[i];s[i]=Array(a.length);for(let t=0;t<a.length;t++){let o=`${e}/specularImages/${i}/${t}`;this._loader.logOpen(`${o}`);let n=a[t],h=(0,l.ArrayItem).Get(o,this._loader.gltf.images,n);r.push(this._loader.loadImageAsync(`/images/${n}`,h).then(e=>{s[i][t]=e})),this._loader.logClose()}}this._loader.logClose(),t._loaded=Promise.all(r).then(()=>{let r=new n.RawCubeTexture(this._loader.babylonScene,null,t.specularImageSize);if(r.name=t.name||"environment",t._babylonTexture=r,void 0!=t.intensity&&(r.level=t.intensity),t.rotation){let e=(0,o.Quaternion).FromArray(t.rotation);this._loader.babylonScene.useRightHandedSystem||(e=(0,o.Quaternion).Inverse(e)),(0,o.Matrix).FromQuaternionToRef(e,r.getReflectionTextureMatrix())}if(!t.irradianceCoefficients)throw Error(`${e}: Irradiance coefficients are missing`);let l=(0,a.SphericalHarmonics).FromArray(t.irradianceCoefficients);l.scaleInPlace(t.intensity),l.convertIrradianceToLambertianRadiance();let h=(0,a.SphericalPolynomial).FromHarmonics(l),u=(s.length-1)/(0,i.Scalar).Log2(t.specularImageSize);return r.updateRGBDAsync(s,h,u)})}return t._loaded.then(()=>t._babylonTexture)}}(0,l.GLTFLoader).RegisterExtension(h,e=>new u(e))},{"@babylonjs/core/Maths/math.scalar.js":"aWK9a","@babylonjs/core/Maths/sphericalPolynomial.js":"2Xm7l","@babylonjs/core/Maths/math.vector.js":"h33gd","@babylonjs/core/Materials/Textures/rawCubeTexture.js":"l0iMW","../glTFLoader.js":"lHQW2","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],eK2PZ:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"EXT_mesh_gpu_instancing",()=>n);var i=e("@babylonjs/core/Maths/math.vector.js"),a=e("../glTFLoader.js");e("@babylonjs/core/Meshes/thinInstanceMesh.js");let o="EXT_mesh_gpu_instancing";class n{constructor(e){this.name=o,this._loader=e,this.enabled=this._loader.isExtensionUsed(o)}dispose(){this._loader=null}loadNodeAsync(e,t,r){return(0,a.GLTFLoader).LoadExtensionAsync(e,t,this.name,(e,s)=>{this._loader._disableInstancedMesh++;let o=this._loader.loadNodeAsync(`/nodes/${t.index}`,t,r);if(this._loader._disableInstancedMesh--,!t._primitiveBabylonMeshes)return o;let n=[],l=0,h=t=>{if(void 0==s.attributes[t]){n.push(Promise.resolve(null));return}let r=(0,a.ArrayItem).Get(`${e}/attributes/${t}`,this._loader.gltf.accessors,s.attributes[t]);if(n.push(this._loader._loadFloatAccessorAsync(`/accessors/${r.bufferView}`,r)),0===l)l=r.count;else if(l!==r.count)throw Error(`${e}/attributes: Instance buffer accessors do not have the same count.`)};return h("TRANSLATION"),h("ROTATION"),h("SCALE"),o.then(e=>Promise.all(n).then(([r,s,a])=>{let o=new Float32Array(16*l);(0,i.TmpVectors).Vector3[0].copyFromFloats(0,0,0),(0,i.TmpVectors).Quaternion[0].copyFromFloats(0,0,0,1),(0,i.TmpVectors).Vector3[1].copyFromFloats(1,1,1);for(let e=0;e<l;++e)r&&(0,i.Vector3).FromArrayToRef(r,3*e,i.TmpVectors.Vector3[0]),s&&(0,i.Quaternion).FromArrayToRef(s,4*e,i.TmpVectors.Quaternion[0]),a&&(0,i.Vector3).FromArrayToRef(a,3*e,i.TmpVectors.Vector3[1]),(0,i.Matrix).ComposeToRef(i.TmpVectors.Vector3[1],i.TmpVectors.Quaternion[0],i.TmpVectors.Vector3[0],i.TmpVectors.Matrix[0]),(0,i.TmpVectors).Matrix[0].copyToArray(o,16*e);for(let e of t._primitiveBabylonMeshes)e.thinInstanceSetBuffer("matrix",o,16,!0);return e}))})}}(0,a.GLTFLoader).RegisterExtension(o,e=>new n(e))},{"@babylonjs/core/Maths/math.vector.js":"h33gd","../glTFLoader.js":"lHQW2","@babylonjs/core/Meshes/thinInstanceMesh.js":"i7EXT","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],jvEfZ:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"EXT_meshopt_compression",()=>n);var i=e("../glTFLoader.js"),a=e("@babylonjs/core/Meshes/Compression/meshoptCompression.js");let o="EXT_meshopt_compression";class n{constructor(e){this.name=o,this.enabled=e.isExtensionUsed(o),this._loader=e}dispose(){this._loader=null}loadBufferViewAsync(e,t){return(0,i.GLTFLoader).LoadExtensionAsync(e,t,this.name,(r,s)=>{if(t._meshOptData)return t._meshOptData;let o=(0,i.ArrayItem).Get(`${e}/buffer`,this._loader.gltf.buffers,s.buffer);return t._meshOptData=this._loader.loadBufferAsync(`/buffers/${o.index}`,o,s.byteOffset||0,s.byteLength).then(e=>(0,a.MeshoptCompression).Default.decodeGltfBufferAsync(e,s.count,s.byteStride,s.mode,s.filter)),t._meshOptData})}}(0,i.GLTFLoader).RegisterExtension(o,e=>new n(e))},{"../glTFLoader.js":"lHQW2","@babylonjs/core/Meshes/Compression/meshoptCompression.js":"jS66H","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],lh4C4:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"EXT_texture_webp",()=>o);var i=e("../glTFLoader.js");let a="EXT_texture_webp";class o{constructor(e){this.name=a,this._loader=e,this.enabled=e.isExtensionUsed(a)}dispose(){this._loader=null}_loadTextureAsync(e,t,r){return(0,i.GLTFLoader).LoadExtensionAsync(e,t,this.name,(s,a)=>{let o=void 0==t.sampler?i.GLTFLoader.DefaultSampler:(0,i.ArrayItem).Get(`${e}/sampler`,this._loader.gltf.samplers,t.sampler),n=(0,i.ArrayItem).Get(`${s}/source`,this._loader.gltf.images,a.source);return this._loader._createTextureAsync(e,o,n,e=>{r(e)},void 0,!t._textureInfo.nonColorData)})}}(0,i.GLTFLoader).RegisterExtension(a,e=>new o(e))},{"../glTFLoader.js":"lHQW2","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],cvMeU:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"KHR_draco_mesh_compression",()=>l);var i=e("@babylonjs/core/Meshes/Compression/dracoCompression.js"),a=e("@babylonjs/core/Buffers/buffer.js"),o=e("../glTFLoader.js");let n="KHR_draco_mesh_compression";class l{constructor(e){this.name=n,this.useNormalizedFlagFromAccessor=!0,this._loader=e,this.enabled=i.DracoCompression.DecoderAvailable&&this._loader.isExtensionUsed(n)}dispose(){delete this.dracoCompression,this._loader=null}_loadVertexDataAsync(e,t,r){return(0,o.GLTFLoader).LoadExtensionAsync(e,t,this.name,(s,n)=>{if(void 0!=t.mode&&4!==t.mode&&5!==t.mode)throw Error(`${e}: Unsupported mode ${t.mode}`);let l={},h={},u=(e,s)=>{let i=n.attributes[e];if(void 0!=i&&(r._delayInfo=r._delayInfo||[],-1===r._delayInfo.indexOf(s)&&r._delayInfo.push(s),l[s]=i,this.useNormalizedFlagFromAccessor)){let r=(0,o.ArrayItem).TryGet(this._loader.gltf.accessors,t.attributes[e]);r&&(h[s]=r.normalized||!1)}};u("POSITION",a.VertexBuffer.PositionKind),u("NORMAL",a.VertexBuffer.NormalKind),u("TANGENT",a.VertexBuffer.TangentKind),u("TEXCOORD_0",a.VertexBuffer.UVKind),u("TEXCOORD_1",a.VertexBuffer.UV2Kind),u("TEXCOORD_2",a.VertexBuffer.UV3Kind),u("TEXCOORD_3",a.VertexBuffer.UV4Kind),u("TEXCOORD_4",a.VertexBuffer.UV5Kind),u("TEXCOORD_5",a.VertexBuffer.UV6Kind),u("JOINTS_0",a.VertexBuffer.MatricesIndicesKind),u("WEIGHTS_0",a.VertexBuffer.MatricesWeightsKind),u("COLOR_0",a.VertexBuffer.ColorKind);let c=(0,o.ArrayItem).Get(s,this._loader.gltf.bufferViews,n.bufferView);return c._dracoBabylonGeometry||(c._dracoBabylonGeometry=this._loader.loadBufferViewAsync(`/bufferViews/${c.index}`,c).then(t=>(this.dracoCompression||i.DracoCompression.Default)._decodeMeshToGeometryForGltfAsync(r.name,this._loader.babylonScene,t,l,h).catch(t=>{throw Error(`${e}: ${t.message}`)}))),c._dracoBabylonGeometry})}}(0,o.GLTFLoader).RegisterExtension(n,e=>new l(e))},{"@babylonjs/core/Meshes/Compression/dracoCompression.js":"h6U9u","@babylonjs/core/Buffers/buffer.js":"aDZlT","../glTFLoader.js":"lHQW2","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],jwdAu:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"KHR_lights",()=>d);var i=e("@babylonjs/core/Maths/math.vector.js"),a=e("@babylonjs/core/Maths/math.color.js"),o=e("@babylonjs/core/Lights/directionalLight.js"),n=e("@babylonjs/core/Lights/pointLight.js"),l=e("@babylonjs/core/Lights/spotLight.js"),h=e("@babylonjs/core/Lights/light.js"),u=e("../glTFLoader.js");let c="KHR_lights_punctual";class d{constructor(e){this.name=c,this._loader=e,this.enabled=this._loader.isExtensionUsed(c)}dispose(){this._loader=null,delete this._lights}onLoading(){let e=this._loader.gltf.extensions;if(e&&e[this.name]){let t=e[this.name];this._lights=t.lights,(0,u.ArrayItem).Assign(this._lights)}}loadNodeAsync(e,t,r){return(0,u.GLTFLoader).LoadExtensionAsync(e,t,this.name,(s,c)=>(this._loader._allMaterialsDirtyRequired=!0,this._loader.loadNodeAsync(e,t,e=>{let t;let d=(0,u.ArrayItem).Get(s,this._lights,c.light),p=d.name||e.name;switch(this._loader.babylonScene._blockEntityCollection=!!this._loader._assetContainer,d.type){case"directional":{let e=new o.DirectionalLight(p,(0,i.Vector3).Backward(),this._loader.babylonScene);e.position.setAll(0),t=e;break}case"point":t=new n.PointLight(p,(0,i.Vector3).Zero(),this._loader.babylonScene);break;case"spot":{let e=new l.SpotLight(p,(0,i.Vector3).Zero(),(0,i.Vector3).Backward(),0,1,this._loader.babylonScene);e.angle=2*(d.spot&&d.spot.outerConeAngle||Math.PI/4),e.innerAngle=2*(d.spot&&d.spot.innerConeAngle||0),t=e;break}default:throw this._loader.babylonScene._blockEntityCollection=!1,Error(`${s}: Invalid light type (${d.type})`)}t._parentContainer=this._loader._assetContainer,this._loader.babylonScene._blockEntityCollection=!1,d._babylonLight=t,t.falloffType=h.Light.FALLOFF_GLTF,t.diffuse=d.color?(0,a.Color3).FromArray(d.color):(0,a.Color3).White(),t.intensity=void 0==d.intensity?1:d.intensity,t.range=void 0==d.range?Number.MAX_VALUE:d.range,t.parent=e,this._loader._babylonLights.push(t),(0,u.GLTFLoader).AddPointerMetadata(t,s),r(e)})))}}(0,u.GLTFLoader).RegisterExtension(c,e=>new d(e))},{"@babylonjs/core/Maths/math.vector.js":"h33gd","@babylonjs/core/Maths/math.color.js":"78my4","@babylonjs/core/Lights/directionalLight.js":"ed05w","@babylonjs/core/Lights/pointLight.js":"iBNs0","@babylonjs/core/Lights/spotLight.js":"kOHa2","@babylonjs/core/Lights/light.js":"jIPhj","../glTFLoader.js":"lHQW2","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],koLT0:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"KHR_materials_pbrSpecularGlossiness",()=>l);var i=e("@babylonjs/core/Maths/math.color.js"),a=e("@babylonjs/core/Materials/PBR/pbrMaterial.js"),o=e("../glTFLoader.js");let n="KHR_materials_pbrSpecularGlossiness";class l{constructor(e){this.name=n,this.order=200,this._loader=e,this.enabled=this._loader.isExtensionUsed(n)}dispose(){this._loader=null}loadMaterialPropertiesAsync(e,t,r){return(0,o.GLTFLoader).LoadExtensionAsync(e,t,this.name,(s,i)=>{let a=[];return a.push(this._loader.loadMaterialBasePropertiesAsync(e,t,r)),a.push(this._loadSpecularGlossinessPropertiesAsync(s,i,r)),this._loader.loadMaterialAlphaProperties(e,t,r),Promise.all(a).then(()=>{})})}_loadSpecularGlossinessPropertiesAsync(e,t,r){if(!(r instanceof a.PBRMaterial))throw Error(`${e}: Material type not supported`);let s=[];return r.metallic=null,r.roughness=null,t.diffuseFactor?(r.albedoColor=(0,i.Color3).FromArray(t.diffuseFactor),r.alpha=t.diffuseFactor[3]):r.albedoColor=(0,i.Color3).White(),r.reflectivityColor=t.specularFactor?(0,i.Color3).FromArray(t.specularFactor):(0,i.Color3).White(),r.microSurface=void 0==t.glossinessFactor?1:t.glossinessFactor,t.diffuseTexture&&s.push(this._loader.loadTextureInfoAsync(`${e}/diffuseTexture`,t.diffuseTexture,e=>{e.name=`${r.name} (Diffuse)`,r.albedoTexture=e})),t.specularGlossinessTexture&&(s.push(this._loader.loadTextureInfoAsync(`${e}/specularGlossinessTexture`,t.specularGlossinessTexture,e=>{e.name=`${r.name} (Specular Glossiness)`,r.reflectivityTexture=e,r.reflectivityTexture.hasAlpha=!0})),r.useMicroSurfaceFromReflectivityMapAlpha=!0),Promise.all(s).then(()=>{})}}(0,o.GLTFLoader).RegisterExtension(n,e=>new l(e))},{"@babylonjs/core/Maths/math.color.js":"78my4","@babylonjs/core/Materials/PBR/pbrMaterial.js":"3wOWA","../glTFLoader.js":"lHQW2","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"49OYE":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"KHR_materials_unlit",()=>l);var i=e("@babylonjs/core/Maths/math.color.js"),a=e("@babylonjs/core/Materials/PBR/pbrMaterial.js"),o=e("../glTFLoader.js");let n="KHR_materials_unlit";class l{constructor(e){this.name=n,this.order=210,this._loader=e,this.enabled=this._loader.isExtensionUsed(n)}dispose(){this._loader=null}loadMaterialPropertiesAsync(e,t,r){return(0,o.GLTFLoader).LoadExtensionAsync(e,t,this.name,()=>this._loadUnlitPropertiesAsync(e,t,r))}_loadUnlitPropertiesAsync(e,t,r){if(!(r instanceof a.PBRMaterial))throw Error(`${e}: Material type not supported`);let s=[];r.unlit=!0;let o=t.pbrMetallicRoughness;return o&&(o.baseColorFactor?(r.albedoColor=(0,i.Color3).FromArray(o.baseColorFactor),r.alpha=o.baseColorFactor[3]):r.albedoColor=(0,i.Color3).White(),o.baseColorTexture&&s.push(this._loader.loadTextureInfoAsync(`${e}/baseColorTexture`,o.baseColorTexture,e=>{e.name=`${r.name} (Base Color)`,r.albedoTexture=e}))),t.doubleSided&&(r.backFaceCulling=!1,r.twoSidedLighting=!0),this._loader.loadMaterialAlphaProperties(e,t,r),Promise.all(s).then(()=>{})}}(0,o.GLTFLoader).RegisterExtension(n,e=>new l(e))},{"@babylonjs/core/Maths/math.color.js":"78my4","@babylonjs/core/Materials/PBR/pbrMaterial.js":"3wOWA","../glTFLoader.js":"lHQW2","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],fGYu8:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"KHR_materials_clearcoat",()=>n);var i=e("@babylonjs/core/Materials/PBR/pbrMaterial.js"),a=e("../glTFLoader.js");let o="KHR_materials_clearcoat";class n{constructor(e){this.name=o,this.order=190,this._loader=e,this.enabled=this._loader.isExtensionUsed(o)}dispose(){this._loader=null}loadMaterialPropertiesAsync(e,t,r){return(0,a.GLTFLoader).LoadExtensionAsync(e,t,this.name,(s,i)=>{let a=[];return a.push(this._loader.loadMaterialPropertiesAsync(e,t,r)),a.push(this._loadClearCoatPropertiesAsync(s,i,r)),Promise.all(a).then(()=>{})})}_loadClearCoatPropertiesAsync(e,t,r){if(!(r instanceof i.PBRMaterial))throw Error(`${e}: Material type not supported`);let s=[];return r.clearCoat.isEnabled=!0,r.clearCoat.useRoughnessFromMainTexture=!1,r.clearCoat.remapF0OnInterfaceChange=!1,void 0!=t.clearcoatFactor?r.clearCoat.intensity=t.clearcoatFactor:r.clearCoat.intensity=0,t.clearcoatTexture&&s.push(this._loader.loadTextureInfoAsync(`${e}/clearcoatTexture`,t.clearcoatTexture,e=>{e.name=`${r.name} (ClearCoat Intensity)`,r.clearCoat.texture=e})),void 0!=t.clearcoatRoughnessFactor?r.clearCoat.roughness=t.clearcoatRoughnessFactor:r.clearCoat.roughness=0,t.clearcoatRoughnessTexture&&(t.clearcoatRoughnessTexture.nonColorData=!0,s.push(this._loader.loadTextureInfoAsync(`${e}/clearcoatRoughnessTexture`,t.clearcoatRoughnessTexture,e=>{e.name=`${r.name} (ClearCoat Roughness)`,r.clearCoat.textureRoughness=e}))),t.clearcoatNormalTexture&&(t.clearcoatNormalTexture.nonColorData=!0,s.push(this._loader.loadTextureInfoAsync(`${e}/clearcoatNormalTexture`,t.clearcoatNormalTexture,e=>{e.name=`${r.name} (ClearCoat Normal)`,r.clearCoat.bumpTexture=e})),r.invertNormalMapX=!r.getScene().useRightHandedSystem,r.invertNormalMapY=r.getScene().useRightHandedSystem,void 0!=t.clearcoatNormalTexture.scale&&(r.clearCoat.bumpTexture.level=t.clearcoatNormalTexture.scale)),Promise.all(s).then(()=>{})}}(0,a.GLTFLoader).RegisterExtension(o,e=>new n(e))},{"@babylonjs/core/Materials/PBR/pbrMaterial.js":"3wOWA","../glTFLoader.js":"lHQW2","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],a2HiQ:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"KHR_materials_iridescence",()=>n);var i=e("@babylonjs/core/Materials/PBR/pbrMaterial.js"),a=e("../glTFLoader.js");let o="KHR_materials_iridescence";class n{constructor(e){this.name=o,this.order=195,this._loader=e,this.enabled=this._loader.isExtensionUsed(o)}dispose(){this._loader=null}loadMaterialPropertiesAsync(e,t,r){return(0,a.GLTFLoader).LoadExtensionAsync(e,t,this.name,(s,i)=>{let a=[];return a.push(this._loader.loadMaterialPropertiesAsync(e,t,r)),a.push(this._loadIridescencePropertiesAsync(s,i,r)),Promise.all(a).then(()=>{})})}_loadIridescencePropertiesAsync(e,t,r){if(!(r instanceof i.PBRMaterial))throw Error(`${e}: Material type not supported`);let s=[];return r.iridescence.isEnabled=!0,r.iridescence.intensity=t.iridescenceFactor??0,r.iridescence.indexOfRefraction=t.iridescenceIor??t.iridescenceIOR??1.3,r.iridescence.minimumThickness=t.iridescenceThicknessMinimum??100,r.iridescence.maximumThickness=t.iridescenceThicknessMaximum??400,t.iridescenceTexture&&s.push(this._loader.loadTextureInfoAsync(`${e}/iridescenceTexture`,t.iridescenceTexture,e=>{e.name=`${r.name} (Iridescence Intensity)`,r.iridescence.texture=e})),t.iridescenceThicknessTexture&&s.push(this._loader.loadTextureInfoAsync(`${e}/iridescenceThicknessTexture`,t.iridescenceThicknessTexture,e=>{e.name=`${r.name} (Iridescence Thickness)`,r.iridescence.thicknessTexture=e})),Promise.all(s).then(()=>{})}}(0,a.GLTFLoader).RegisterExtension(o,e=>new n(e))},{"@babylonjs/core/Materials/PBR/pbrMaterial.js":"3wOWA","../glTFLoader.js":"lHQW2","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"8ab8j":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"KHR_materials_anisotropy",()=>n);var i=e("@babylonjs/core/Materials/PBR/pbrMaterial.js"),a=e("../glTFLoader.js");let o="KHR_materials_anisotropy";class n{constructor(e){this.name=o,this.order=195,this._loader=e,this.enabled=this._loader.isExtensionUsed(o)}dispose(){this._loader=null}loadMaterialPropertiesAsync(e,t,r){return(0,a.GLTFLoader).LoadExtensionAsync(e,t,this.name,(s,i)=>{let a=[];return a.push(this._loader.loadMaterialPropertiesAsync(e,t,r)),a.push(this._loadIridescencePropertiesAsync(s,i,r)),Promise.all(a).then(()=>{})})}_loadIridescencePropertiesAsync(e,t,r){if(!(r instanceof i.PBRMaterial))throw Error(`${e}: Material type not supported`);let s=[];return r.anisotropy.isEnabled=!0,r.anisotropy.intensity=t.anisotropyStrength??0,r.anisotropy.angle=t.anisotropyRotation??0,t.anisotropyTexture&&s.push(this._loader.loadTextureInfoAsync(`${e}/anisotropyTexture`,t.anisotropyTexture,e=>{e.name=`${r.name} (Anisotropy Intensity)`,r.anisotropy.texture=e})),Promise.all(s).then(()=>{})}}(0,a.GLTFLoader).RegisterExtension(o,e=>new n(e))},{"@babylonjs/core/Materials/PBR/pbrMaterial.js":"3wOWA","../glTFLoader.js":"lHQW2","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],cIp9S:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"KHR_materials_emissive_strength",()=>n);var i=e("@babylonjs/core/Materials/PBR/pbrMaterial.js"),a=e("../glTFLoader.js");let o="KHR_materials_emissive_strength";class n{constructor(e){this.name=o,this.order=170,this._loader=e,this.enabled=this._loader.isExtensionUsed(o)}dispose(){this._loader=null}loadMaterialPropertiesAsync(e,t,r){return(0,a.GLTFLoader).LoadExtensionAsync(e,t,this.name,(s,i)=>this._loader.loadMaterialPropertiesAsync(e,t,r).then(()=>{this._loadEmissiveProperties(s,i,r)}))}_loadEmissiveProperties(e,t,r){if(!(r instanceof i.PBRMaterial))throw Error(`${e}: Material type not supported`);void 0!==t.emissiveStrength&&r.emissiveColor.scaleToRef(t.emissiveStrength,r.emissiveColor)}}(0,a.GLTFLoader).RegisterExtension(o,e=>new n(e))},{"@babylonjs/core/Materials/PBR/pbrMaterial.js":"3wOWA","../glTFLoader.js":"lHQW2","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],g5Rq3:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"KHR_materials_sheen",()=>l);var i=e("@babylonjs/core/Materials/PBR/pbrMaterial.js"),a=e("../glTFLoader.js"),o=e("@babylonjs/core/Maths/math.color.js");let n="KHR_materials_sheen";class l{constructor(e){this.name=n,this.order=190,this._loader=e,this.enabled=this._loader.isExtensionUsed(n)}dispose(){this._loader=null}loadMaterialPropertiesAsync(e,t,r){return(0,a.GLTFLoader).LoadExtensionAsync(e,t,this.name,(s,i)=>{let a=[];return a.push(this._loader.loadMaterialPropertiesAsync(e,t,r)),a.push(this._loadSheenPropertiesAsync(s,i,r)),Promise.all(a).then(()=>{})})}_loadSheenPropertiesAsync(e,t,r){if(!(r instanceof i.PBRMaterial))throw Error(`${e}: Material type not supported`);let s=[];return r.sheen.isEnabled=!0,r.sheen.intensity=1,void 0!=t.sheenColorFactor?r.sheen.color=(0,o.Color3).FromArray(t.sheenColorFactor):r.sheen.color=(0,o.Color3).Black(),t.sheenColorTexture&&s.push(this._loader.loadTextureInfoAsync(`${e}/sheenColorTexture`,t.sheenColorTexture,e=>{e.name=`${r.name} (Sheen Color)`,r.sheen.texture=e})),void 0!==t.sheenRoughnessFactor?r.sheen.roughness=t.sheenRoughnessFactor:r.sheen.roughness=0,t.sheenRoughnessTexture&&(t.sheenRoughnessTexture.nonColorData=!0,s.push(this._loader.loadTextureInfoAsync(`${e}/sheenRoughnessTexture`,t.sheenRoughnessTexture,e=>{e.name=`${r.name} (Sheen Roughness)`,r.sheen.textureRoughness=e}))),r.sheen.albedoScaling=!0,r.sheen.useRoughnessFromMainTexture=!1,Promise.all(s).then(()=>{})}}(0,a.GLTFLoader).RegisterExtension(n,e=>new l(e))},{"@babylonjs/core/Materials/PBR/pbrMaterial.js":"3wOWA","../glTFLoader.js":"lHQW2","@babylonjs/core/Maths/math.color.js":"78my4","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"1TONr":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"KHR_materials_specular",()=>l);var i=e("@babylonjs/core/Materials/PBR/pbrMaterial.js"),a=e("../glTFLoader.js"),o=e("@babylonjs/core/Maths/math.color.js");let n="KHR_materials_specular";class l{constructor(e){this.name=n,this.order=190,this._loader=e,this.enabled=this._loader.isExtensionUsed(n)}dispose(){this._loader=null}loadMaterialPropertiesAsync(e,t,r){return(0,a.GLTFLoader).LoadExtensionAsync(e,t,this.name,(s,i)=>{let a=[];return a.push(this._loader.loadMaterialPropertiesAsync(e,t,r)),a.push(this._loadSpecularPropertiesAsync(s,i,r)),Promise.all(a).then(()=>{})})}_loadSpecularPropertiesAsync(e,t,r){if(!(r instanceof i.PBRMaterial))throw Error(`${e}: Material type not supported`);let s=[];return void 0!==t.specularFactor&&(r.metallicF0Factor=t.specularFactor),void 0!==t.specularColorFactor&&(r.metallicReflectanceColor=(0,o.Color3).FromArray(t.specularColorFactor)),t.specularTexture&&(t.specularTexture.nonColorData=!0,s.push(this._loader.loadTextureInfoAsync(`${e}/specularTexture`,t.specularTexture,e=>{e.name=`${r.name} (Specular F0 Strength)`,r.metallicReflectanceTexture=e,r.useOnlyMetallicFromMetallicReflectanceTexture=!0}))),t.specularColorTexture&&s.push(this._loader.loadTextureInfoAsync(`${e}/specularColorTexture`,t.specularColorTexture,e=>{e.name=`${r.name} (Specular F0 Color)`,r.reflectanceTexture=e})),Promise.all(s).then(()=>{})}}(0,a.GLTFLoader).RegisterExtension(n,e=>new l(e))},{"@babylonjs/core/Materials/PBR/pbrMaterial.js":"3wOWA","../glTFLoader.js":"lHQW2","@babylonjs/core/Maths/math.color.js":"78my4","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],bnBX6:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"KHR_materials_ior",()=>n);var i=e("@babylonjs/core/Materials/PBR/pbrMaterial.js"),a=e("../glTFLoader.js");let o="KHR_materials_ior";class n{constructor(e){this.name=o,this.order=180,this._loader=e,this.enabled=this._loader.isExtensionUsed(o)}dispose(){this._loader=null}loadMaterialPropertiesAsync(e,t,r){return(0,a.GLTFLoader).LoadExtensionAsync(e,t,this.name,(s,i)=>{let a=[];return a.push(this._loader.loadMaterialPropertiesAsync(e,t,r)),a.push(this._loadIorPropertiesAsync(s,i,r)),Promise.all(a).then(()=>{})})}_loadIorPropertiesAsync(e,t,r){if(!(r instanceof i.PBRMaterial))throw Error(`${e}: Material type not supported`);return void 0!==t.ior?r.indexOfRefraction=t.ior:r.indexOfRefraction=n._DEFAULT_IOR,Promise.resolve()}}n._DEFAULT_IOR=1.5,(0,a.GLTFLoader).RegisterExtension(o,e=>new n(e))},{"@babylonjs/core/Materials/PBR/pbrMaterial.js":"3wOWA","../glTFLoader.js":"lHQW2","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],fb7Cl:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"KHR_materials_variants",()=>n);var i=e("../glTFLoader.js"),a=e("@babylonjs/core/Meshes/mesh.js");let o="KHR_materials_variants";class n{constructor(e){this.name=o,this._loader=e,this.enabled=this._loader.isExtensionUsed(o)}dispose(){this._loader=null}static GetAvailableVariants(e){let t=this._GetExtensionMetadata(e);return t?Object.keys(t.variants):[]}getAvailableVariants(e){return n.GetAvailableVariants(e)}static SelectVariant(e,t){let r=this._GetExtensionMetadata(e);if(!r)throw Error(`Cannot select variant on a glTF mesh that does not have the ${o} extension`);let s=e=>{let t=r.variants[e];if(t)for(let e of t)e.mesh.material=e.material};if(t instanceof Array)for(let e of t)s(e);else s(t);r.lastSelected=t}selectVariant(e,t){n.SelectVariant(e,t)}static Reset(e){let t=this._GetExtensionMetadata(e);if(!t)throw Error(`Cannot reset on a glTF mesh that does not have the ${o} extension`);for(let e of t.original)e.mesh.material=e.material;t.lastSelected=null}reset(e){n.Reset(e)}static GetLastSelectedVariant(e){let t=this._GetExtensionMetadata(e);if(!t)throw Error(`Cannot get the last selected variant on a glTF mesh that does not have the ${o} extension`);return t.lastSelected}getLastSelectedVariant(e){return n.GetLastSelectedVariant(e)}static _GetExtensionMetadata(e){return e?._internalMetadata?.gltf?.[o]||null}onLoading(){let e=this._loader.gltf.extensions;if(e&&e[this.name]){let t=e[this.name];this._variants=t.variants}}_loadMeshPrimitiveAsync(e,t,r,s,l,h){return(0,i.GLTFLoader).LoadExtensionAsync(e,l,this.name,(u,c)=>{let d=[];return d.push(this._loader._loadMeshPrimitiveAsync(e,t,r,s,l,t=>{if(h(t),t instanceof a.Mesh){let r=(0,i.GLTFLoader)._GetDrawMode(e,l.mode),s=this._loader.rootBabylonMesh,a=s?s._internalMetadata=s._internalMetadata||{}:{},h=a.gltf=a.gltf||{},p=h[o]=h[o]||{lastSelected:null,original:[],variants:{}};p.original.push({mesh:t,material:t.material});for(let e=0;e<c.mappings.length;++e){let a=c.mappings[e],l=(0,i.ArrayItem).Get(`${u}/mappings/${e}/material`,this._loader.gltf.materials,a.material);d.push(this._loader._loadMaterialAsync(`#/materials/${a.material}`,l,t,r,e=>{for(let r=0;r<a.variants.length;++r){let l=a.variants[r],h=(0,i.ArrayItem).Get(`/extensions/${o}/variants/${l}`,this._variants,l);p.variants[h.name]=p.variants[h.name]||[],p.variants[h.name].push({mesh:t,material:e}),t.onClonedObservable.add(e=>{let r=null,i=e;do{if(!(i=i.parent))return;r=n._GetExtensionMetadata(i)}while(null===r)if(s&&r===n._GetExtensionMetadata(s)){for(let e in i._internalMetadata={},s._internalMetadata)i._internalMetadata[e]=s._internalMetadata[e];for(let e in i._internalMetadata.gltf=[],s._internalMetadata.gltf)i._internalMetadata.gltf[e]=s._internalMetadata.gltf[e];for(let e of(i._internalMetadata.gltf[o]={lastSelected:null,original:[],variants:{}},r.original))i._internalMetadata.gltf[o].original.push({mesh:e.mesh,material:e.material});for(let e in r.variants)if(Object.prototype.hasOwnProperty.call(r.variants,e))for(let t of(i._internalMetadata.gltf[o].variants[e]=[],r.variants[e]))i._internalMetadata.gltf[o].variants[e].push({mesh:t.mesh,material:t.material});r=i._internalMetadata.gltf[o]}for(let s of r.original)s.mesh===t&&(s.mesh=e);for(let s of r.variants[h.name])s.mesh===t&&(s.mesh=e)})}}))}}})),Promise.all(d).then(([e])=>e)})}}(0,i.GLTFLoader).RegisterExtension(o,e=>new n(e))},{"../glTFLoader.js":"lHQW2","@babylonjs/core/Meshes/mesh.js":"9vBao","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],icJBJ:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"KHR_materials_transmission",()=>d);var i=e("@babylonjs/core/Materials/PBR/pbrMaterial.js"),a=e("../glTFLoader.js"),o=e("@babylonjs/core/Materials/Textures/renderTargetTexture.js"),n=e("@babylonjs/core/Misc/observable.js"),l=e("@babylonjs/core/Engines/constants.js"),h=e("@babylonjs/core/Misc/tools.js");class u{static _GetDefaultOptions(){return{renderSize:1024,samples:4,lodGenerationScale:1,lodGenerationOffset:-4,renderTargetTextureType:l.Constants.TEXTURETYPE_HALF_FLOAT,generateMipmaps:!0}}constructor(e,t){this._opaqueRenderTarget=null,this._opaqueMeshesCache=[],this._transparentMeshesCache=[],this._materialObservers={},this._options={...u._GetDefaultOptions(),...e},this._scene=t,this._scene._transmissionHelper=this,this.onErrorObservable=new n.Observable,this._scene.onDisposeObservable.addOnce(()=>{this.dispose()}),this._parseScene(),this._setupRenderTargets()}updateOptions(e){if(!Object.keys(e).filter(t=>this._options[t]!==e[t]).length)return;let t={...this._options,...e},r=this._options;this._options=t,t.renderSize===r.renderSize&&t.renderTargetTextureType===r.renderTargetTextureType&&t.generateMipmaps===r.generateMipmaps&&this._opaqueRenderTarget?(this._opaqueRenderTarget.samples=t.samples,this._opaqueRenderTarget.lodGenerationScale=t.lodGenerationScale,this._opaqueRenderTarget.lodGenerationOffset=t.lodGenerationOffset):this._setupRenderTargets()}getOpaqueTarget(){return this._opaqueRenderTarget}_shouldRenderAsTransmission(e){return!!e&&e instanceof i.PBRMaterial&&!!e.subSurface.isRefractionEnabled}_addMesh(e){this._materialObservers[e.uniqueId]=e.onMaterialChangedObservable.add(this._onMeshMaterialChanged.bind(this)),(0,h.Tools).SetImmediate(()=>{this._shouldRenderAsTransmission(e.material)?(e.material.refractionTexture=this._opaqueRenderTarget,-1===this._transparentMeshesCache.indexOf(e)&&this._transparentMeshesCache.push(e)):-1===this._opaqueMeshesCache.indexOf(e)&&this._opaqueMeshesCache.push(e)})}_removeMesh(e){e.onMaterialChangedObservable.remove(this._materialObservers[e.uniqueId]),delete this._materialObservers[e.uniqueId];let t=this._transparentMeshesCache.indexOf(e);-1!==t&&this._transparentMeshesCache.splice(t,1),-1!==(t=this._opaqueMeshesCache.indexOf(e))&&this._opaqueMeshesCache.splice(t,1)}_parseScene(){this._scene.meshes.forEach(this._addMesh.bind(this)),this._scene.onNewMeshAddedObservable.add(this._addMesh.bind(this)),this._scene.onMeshRemovedObservable.add(this._removeMesh.bind(this))}_onMeshMaterialChanged(e){let t=this._transparentMeshesCache.indexOf(e),r=this._opaqueMeshesCache.indexOf(e);this._shouldRenderAsTransmission(e.material)?(e.material instanceof i.PBRMaterial&&(e.material.subSurface.refractionTexture=this._opaqueRenderTarget),-1!==r?(this._opaqueMeshesCache.splice(r,1),this._transparentMeshesCache.push(e)):-1===t&&this._transparentMeshesCache.push(e)):-1!==t?(this._transparentMeshesCache.splice(t,1),this._opaqueMeshesCache.push(e)):-1===r&&this._opaqueMeshesCache.push(e)}_isRenderTargetValid(){return this._opaqueRenderTarget?.getInternalTexture()!==null}_setupRenderTargets(){let e,t;this._opaqueRenderTarget&&this._opaqueRenderTarget.dispose(),this._opaqueRenderTarget=new o.RenderTargetTexture("opaqueSceneTexture",this._options.renderSize,this._scene,this._options.generateMipmaps,void 0,this._options.renderTargetTextureType),this._opaqueRenderTarget.ignoreCameraViewport=!0,this._opaqueRenderTarget.renderList=this._opaqueMeshesCache,this._opaqueRenderTarget.clearColor=this._options.clearColor?.clone()??this._scene.clearColor.clone(),this._opaqueRenderTarget.gammaSpace=!1,this._opaqueRenderTarget.lodGenerationScale=this._options.lodGenerationScale,this._opaqueRenderTarget.lodGenerationOffset=this._options.lodGenerationOffset,this._opaqueRenderTarget.samples=this._options.samples,this._opaqueRenderTarget.renderSprites=!0,this._opaqueRenderTarget.renderParticles=!0,this._opaqueRenderTarget.onBeforeBindObservable.add(r=>{t=this._scene.environmentIntensity,this._scene.environmentIntensity=1,e=this._scene.imageProcessingConfiguration.applyByPostProcess,this._options.clearColor?r.clearColor.copyFrom(this._options.clearColor):this._scene.clearColor.toLinearSpaceToRef(r.clearColor,this._scene.getEngine().useExactSrgbConversions),this._scene.imageProcessingConfiguration._applyByPostProcess=!0}),this._opaqueRenderTarget.onAfterUnbindObservable.add(()=>{this._scene.environmentIntensity=t,this._scene.imageProcessingConfiguration._applyByPostProcess=e}),this._transparentMeshesCache.forEach(e=>{this._shouldRenderAsTransmission(e.material)&&(e.material.refractionTexture=this._opaqueRenderTarget)})}dispose(){this._scene._transmissionHelper=void 0,this._opaqueRenderTarget&&(this._opaqueRenderTarget.dispose(),this._opaqueRenderTarget=null),this._transparentMeshesCache=[],this._opaqueMeshesCache=[]}}let c="KHR_materials_transmission";class d{constructor(e){this.name=c,this.order=175,this._loader=e,this.enabled=this._loader.isExtensionUsed(c),this.enabled&&(e.parent.transparencyAsCoverage=!0)}dispose(){this._loader=null}loadMaterialPropertiesAsync(e,t,r){return(0,a.GLTFLoader).LoadExtensionAsync(e,t,this.name,(s,i)=>{let a=[];return a.push(this._loader.loadMaterialBasePropertiesAsync(e,t,r)),a.push(this._loader.loadMaterialPropertiesAsync(e,t,r)),a.push(this._loadTransparentPropertiesAsync(s,t,r,i)),Promise.all(a).then(()=>{})})}_loadTransparentPropertiesAsync(e,t,r,s){if(!(r instanceof i.PBRMaterial))throw Error(`${e}: Material type not supported`);if(r.subSurface.isRefractionEnabled=!0,r.subSurface.volumeIndexOfRefraction=1,r.subSurface.useAlbedoToTintRefraction=!0,void 0===s.transmissionFactor)return r.subSurface.refractionIntensity=0,r.subSurface.isRefractionEnabled=!1,Promise.resolve();{r.subSurface.refractionIntensity=s.transmissionFactor;let e=r.getScene();r.subSurface.refractionIntensity&&!e._transmissionHelper?new u({},r.getScene()):r.subSurface.refractionIntensity&&!e._transmissionHelper?._isRenderTargetValid()&&e._transmissionHelper?._setupRenderTargets()}return(r.subSurface.minimumThickness=0,r.subSurface.maximumThickness=0,s.transmissionTexture)?(s.transmissionTexture.nonColorData=!0,this._loader.loadTextureInfoAsync(`${e}/transmissionTexture`,s.transmissionTexture,void 0).then(e=>{r.subSurface.refractionIntensityTexture=e,r.subSurface.useGltfStyleTextures=!0})):Promise.resolve()}}(0,a.GLTFLoader).RegisterExtension(c,e=>new d(e))},{"@babylonjs/core/Materials/PBR/pbrMaterial.js":"3wOWA","../glTFLoader.js":"lHQW2","@babylonjs/core/Materials/Textures/renderTargetTexture.js":"d2aud","@babylonjs/core/Misc/observable.js":"7yHKY","@babylonjs/core/Engines/constants.js":"es9Cn","@babylonjs/core/Misc/tools.js":"ieufJ","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"2bI90":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"KHR_materials_translucency",()=>n);var i=e("@babylonjs/core/Materials/PBR/pbrMaterial.js"),a=e("../glTFLoader.js");let o="KHR_materials_translucency";class n{constructor(e){this.name=o,this.order=174,this._loader=e,this.enabled=this._loader.isExtensionUsed(o),this.enabled&&(e.parent.transparencyAsCoverage=!0)}dispose(){this._loader=null}loadMaterialPropertiesAsync(e,t,r){return(0,a.GLTFLoader).LoadExtensionAsync(e,t,this.name,(s,i)=>{let a=[];return a.push(this._loader.loadMaterialBasePropertiesAsync(e,t,r)),a.push(this._loader.loadMaterialPropertiesAsync(e,t,r)),a.push(this._loadTranslucentPropertiesAsync(s,t,r,i)),Promise.all(a).then(()=>{})})}_loadTranslucentPropertiesAsync(e,t,r,s){if(!(r instanceof i.PBRMaterial))throw Error(`${e}: Material type not supported`);return(r.subSurface.isTranslucencyEnabled=!0,r.subSurface.volumeIndexOfRefraction=1,r.subSurface.minimumThickness=0,r.subSurface.maximumThickness=0,r.subSurface.useAlbedoToTintTranslucency=!0,void 0===s.translucencyFactor)?(r.subSurface.translucencyIntensity=0,r.subSurface.isTranslucencyEnabled=!1,Promise.resolve()):(r.subSurface.translucencyIntensity=s.translucencyFactor,s.translucencyTexture)?(s.translucencyTexture.nonColorData=!0,this._loader.loadTextureInfoAsync(`${e}/translucencyTexture`,s.translucencyTexture).then(e=>{r.subSurface.translucencyIntensityTexture=e})):Promise.resolve()}}(0,a.GLTFLoader).RegisterExtension(o,e=>new n(e))},{"@babylonjs/core/Materials/PBR/pbrMaterial.js":"3wOWA","../glTFLoader.js":"lHQW2","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],cQOgc:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"KHR_materials_volume",()=>n);var i=e("@babylonjs/core/Materials/PBR/pbrMaterial.js"),a=e("../glTFLoader.js");let o="KHR_materials_volume";class n{constructor(e){this.name=o,this.order=173,this._loader=e,this.enabled=this._loader.isExtensionUsed(o),this.enabled&&this._loader._disableInstancedMesh++}dispose(){this.enabled&&this._loader._disableInstancedMesh--,this._loader=null}loadMaterialPropertiesAsync(e,t,r){return(0,a.GLTFLoader).LoadExtensionAsync(e,t,this.name,(s,i)=>{let a=[];return a.push(this._loader.loadMaterialBasePropertiesAsync(e,t,r)),a.push(this._loader.loadMaterialPropertiesAsync(e,t,r)),a.push(this._loadVolumePropertiesAsync(s,t,r,i)),Promise.all(a).then(()=>{})})}_loadVolumePropertiesAsync(e,t,r,s){if(!(r instanceof i.PBRMaterial))throw Error(`${e}: Material type not supported`);if(!r.subSurface.isRefractionEnabled&&!r.subSurface.isTranslucencyEnabled||!s.thicknessFactor)return Promise.resolve();r.subSurface.volumeIndexOfRefraction=r.indexOfRefraction;let a=void 0!==s.attenuationDistance?s.attenuationDistance:Number.MAX_VALUE;return(r.subSurface.tintColorAtDistance=a,void 0!==s.attenuationColor&&3==s.attenuationColor.length&&r.subSurface.tintColor.copyFromFloats(s.attenuationColor[0],s.attenuationColor[1],s.attenuationColor[2]),r.subSurface.minimumThickness=0,r.subSurface.maximumThickness=s.thicknessFactor,r.subSurface.useThicknessAsDepth=!0,s.thicknessTexture)?(s.thicknessTexture.nonColorData=!0,this._loader.loadTextureInfoAsync(`${e}/thicknessTexture`,s.thicknessTexture).then(e=>{r.subSurface.thicknessTexture=e,r.subSurface.useGltfStyleTextures=!0})):Promise.resolve()}}(0,a.GLTFLoader).RegisterExtension(o,e=>new n(e))},{"@babylonjs/core/Materials/PBR/pbrMaterial.js":"3wOWA","../glTFLoader.js":"lHQW2","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"8W8DE":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"KHR_materials_dispersion",()=>n);var i=e("@babylonjs/core/Materials/PBR/pbrMaterial.js"),a=e("../glTFLoader.js");let o="KHR_materials_dispersion";class n{constructor(e){this.name=o,this.order=174,this._loader=e,this.enabled=this._loader.isExtensionUsed(o)}dispose(){this._loader=null}loadMaterialPropertiesAsync(e,t,r){return(0,a.GLTFLoader).LoadExtensionAsync(e,t,this.name,(s,i)=>{let a=[];return a.push(this._loader.loadMaterialBasePropertiesAsync(e,t,r)),a.push(this._loader.loadMaterialPropertiesAsync(e,t,r)),a.push(this._loadDispersionPropertiesAsync(s,t,r,i)),Promise.all(a).then(()=>{})})}_loadDispersionPropertiesAsync(e,t,r,s){if(!(r instanceof i.PBRMaterial))throw Error(`${e}: Material type not supported`);return r.subSurface.isRefractionEnabled&&s.dispersion&&(r.subSurface.isDispersionEnabled=!0,r.subSurface.dispersion=s.dispersion),Promise.resolve()}}(0,a.GLTFLoader).RegisterExtension(o,e=>new n(e))},{"@babylonjs/core/Materials/PBR/pbrMaterial.js":"3wOWA","../glTFLoader.js":"lHQW2","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"3N7Mu":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"KHR_mesh_quantization",()=>o);var i=e("../glTFLoader.js");let a="KHR_mesh_quantization";class o{constructor(e){this.name=a,this.enabled=e.isExtensionUsed(a)}dispose(){}}(0,i.GLTFLoader).RegisterExtension(a,e=>new o(e))},{"../glTFLoader.js":"lHQW2","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],gy9Ea:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"KHR_texture_basisu",()=>o);var i=e("../glTFLoader.js");let a="KHR_texture_basisu";class o{constructor(e){this.name=a,this._loader=e,this.enabled=e.isExtensionUsed(a)}dispose(){this._loader=null}_loadTextureAsync(e,t,r){return(0,i.GLTFLoader).LoadExtensionAsync(e,t,this.name,(s,a)=>{let o=void 0==t.sampler?i.GLTFLoader.DefaultSampler:(0,i.ArrayItem).Get(`${e}/sampler`,this._loader.gltf.samplers,t.sampler),n=(0,i.ArrayItem).Get(`${s}/source`,this._loader.gltf.images,a.source);return this._loader._createTextureAsync(e,o,n,e=>{r(e)},t._textureInfo.nonColorData?{useRGBAIfASTCBC7NotAvailableWhenUASTC:!0}:void 0,!t._textureInfo.nonColorData)})}}(0,i.GLTFLoader).RegisterExtension(a,e=>new o(e))},{"../glTFLoader.js":"lHQW2","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],a8Aai:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"KHR_texture_transform",()=>n);var i=e("@babylonjs/core/Materials/Textures/texture.js"),a=e("../glTFLoader.js");let o="KHR_texture_transform";class n{constructor(e){this.name=o,this._loader=e,this.enabled=this._loader.isExtensionUsed(o)}dispose(){this._loader=null}loadTextureInfoAsync(e,t,r){return(0,a.GLTFLoader).LoadExtensionAsync(e,t,this.name,(s,a)=>this._loader.loadTextureInfoAsync(e,t,e=>{if(!(e instanceof i.Texture))throw Error(`${s}: Texture type not supported`);a.offset&&(e.uOffset=a.offset[0],e.vOffset=a.offset[1]),e.uRotationCenter=0,e.vRotationCenter=0,a.rotation&&(e.wAng=-a.rotation),a.scale&&(e.uScale=a.scale[0],e.vScale=a.scale[1]),void 0!=a.texCoord&&(e.coordinatesIndex=a.texCoord),r(e)}))}}(0,a.GLTFLoader).RegisterExtension(o,e=>new n(e))},{"@babylonjs/core/Materials/Textures/texture.js":"bYxw8","../glTFLoader.js":"lHQW2","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"8ucaF":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"KHR_xmp_json_ld",()=>o);var i=e("../glTFLoader.js");let a="KHR_xmp_json_ld";class o{constructor(e){this.name=a,this.order=100,this._loader=e,this.enabled=this._loader.isExtensionUsed(a)}dispose(){this._loader=null}onLoading(){if(null===this._loader.rootBabylonMesh)return;let e=this._loader.gltf.extensions?.KHR_xmp_json_ld,t=this._loader.gltf.asset?.extensions?.KHR_xmp_json_ld;if(e&&t){let r=+t.packet;e.packets&&r<e.packets.length&&(this._loader.rootBabylonMesh.metadata=this._loader.rootBabylonMesh.metadata||{},this._loader.rootBabylonMesh.metadata.xmp=e.packets[r])}}}(0,i.GLTFLoader).RegisterExtension(a,e=>new o(e))},{"../glTFLoader.js":"lHQW2","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],d4S7R:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"KHR_animation_pointer",()=>u);var i=e("../glTFLoader.js"),a=e("@babylonjs/core/Misc/logger.js"),o=e("./KHR_animation_pointer.data.js"),n=e("./gltfPathToObjectConverter.js");let l="KHR_animation_pointer";class h extends n.GLTFPathToObjectConverter{constructor(e){super(e,o.animationPointerTree)}}class u{constructor(e){this.name=l,this._loader=e,this._pathToObjectConverter=new h(this._loader.gltf)}get enabled(){return this._loader.isExtensionUsed(l)}dispose(){this._loader=null,delete this._pathToObjectConverter}_loadAnimationChannelAsync(e,t,r,s,i){let o=s.target.extensions?.KHR_animation_pointer;if(!o||!this._pathToObjectConverter)return null;"pointer"!==s.target.path&&(0,a.Logger).Warn(`${e}/target/path: Value (${s.target.path}) must be (pointer) when using the ${this.name} extension`),void 0!=s.target.node&&(0,a.Logger).Warn(`${e}/target/node: Value (${s.target.node}) must not be present when using the ${this.name} extension`);let n=`${e}/extensions/${this.name}`,l=o.pointer;if(!l)throw Error(`${n}: Pointer is missing`);try{let a=this._pathToObjectConverter.convert(l);return this._loader._loadAnimationChannelFromTargetInfoAsync(e,t,r,s,a,i)}catch(e){return(0,a.Logger).Warn(`${n}/pointer: Invalid pointer (${l}) skipped`),null}}}(0,i.GLTFLoader).RegisterExtension(l,e=>new u(e))},{"../glTFLoader.js":"lHQW2","@babylonjs/core/Misc/logger.js":"5C8M2","./KHR_animation_pointer.data.js":"aiEQG","./gltfPathToObjectConverter.js":"bSBwk","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],aiEQG:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"animationPointerTree",()=>y);var i=e("@babylonjs/core/Animations/animation.js"),a=e("../glTFLoaderAnimation.js"),o=e("@babylonjs/core/Maths/math.color.js");function n(e,t,r,s){return(0,o.Color3).FromArray(t,r).scale(s)}function l(e,t,r,s){return t[r]*s}function h(e,t,r,s){return-t[r]*s}function u(e,t,r,s){return t[r+1]*s}function c(e,t,r,s){return t[r]*s*2}function d(e){return{scale:[new m(i.Animation.ANIMATIONTYPE_FLOAT,`${e}.uScale`,l,()=>2),new m(i.Animation.ANIMATIONTYPE_FLOAT,`${e}.vScale`,u,()=>2)],offset:[new m(i.Animation.ANIMATIONTYPE_FLOAT,`${e}.uOffset`,l,()=>2),new m(i.Animation.ANIMATIONTYPE_FLOAT,`${e}.vOffset`,u,()=>2)],rotation:[new m(i.Animation.ANIMATIONTYPE_FLOAT,`${e}.wAng`,h,()=>1)]}}class p extends a.AnimationPropertyInfo{buildAnimations(e,t,r,s,i){i(e._babylonCamera,this._buildAnimation(t,r,s))}}class m extends a.AnimationPropertyInfo{buildAnimations(e,t,r,s,i){for(let a in e._data)i(e._data[a].babylonMaterial,this._buildAnimation(t,r,s))}}class f extends a.AnimationPropertyInfo{buildAnimations(e,t,r,s,i){i(e._babylonLight,this._buildAnimation(t,r,s))}}let _={__array__:{__target__:!0,...a.nodeAnimationData}},g={__array__:{__target__:!0,orthographic:{xmag:[new p(i.Animation.ANIMATIONTYPE_FLOAT,"orthoLeft",h,()=>1),new p(i.Animation.ANIMATIONTYPE_FLOAT,"orthoRight",u,()=>1)],ymag:[new p(i.Animation.ANIMATIONTYPE_FLOAT,"orthoBottom",h,()=>1),new p(i.Animation.ANIMATIONTYPE_FLOAT,"orthoTop",u,()=>1)],zfar:[new p(i.Animation.ANIMATIONTYPE_FLOAT,"maxZ",l,()=>1)],znear:[new p(i.Animation.ANIMATIONTYPE_FLOAT,"minZ",l,()=>1)]},perspective:{yfov:[new p(i.Animation.ANIMATIONTYPE_FLOAT,"fov",l,()=>1)],zfar:[new p(i.Animation.ANIMATIONTYPE_FLOAT,"maxZ",l,()=>1)],znear:[new p(i.Animation.ANIMATIONTYPE_FLOAT,"minZ",l,()=>1)]}}},y={nodes:_,materials:{__array__:{__target__:!0,pbrMetallicRoughness:{baseColorFactor:[new m(i.Animation.ANIMATIONTYPE_COLOR3,"albedoColor",n,()=>4),new m(i.Animation.ANIMATIONTYPE_FLOAT,"alpha",function(e,t,r,s){return t[r+3]*s},()=>4)],metallicFactor:[new m(i.Animation.ANIMATIONTYPE_FLOAT,"metallic",l,()=>1)],roughnessFactor:[new m(i.Animation.ANIMATIONTYPE_FLOAT,"roughness",l,()=>1)],baseColorTexture:{extensions:{KHR_texture_transform:d("albedoTexture")}}},emissiveFactor:[new m(i.Animation.ANIMATIONTYPE_COLOR3,"emissiveColor",n,()=>3)],normalTexture:{scale:[new m(i.Animation.ANIMATIONTYPE_FLOAT,"bumpTexture.level",l,()=>1)]},occlusionTexture:{strength:[new m(i.Animation.ANIMATIONTYPE_FLOAT,"ambientTextureStrength",l,()=>1)],extensions:{KHR_texture_transform:d("ambientTexture")}},emissiveTexture:{extensions:{KHR_texture_transform:d("emissiveTexture")}},extensions:{KHR_materials_ior:{ior:[new m(i.Animation.ANIMATIONTYPE_FLOAT,"indexOfRefraction",l,()=>1)]},KHR_materials_clearcoat:{clearcoatFactor:[new m(i.Animation.ANIMATIONTYPE_FLOAT,"clearCoat.intensity",l,()=>1)],clearcoatRoughnessFactor:[new m(i.Animation.ANIMATIONTYPE_FLOAT,"clearCoat.roughness",l,()=>1)]},KHR_materials_sheen:{sheenColorFactor:[new m(i.Animation.ANIMATIONTYPE_COLOR3,"sheen.color",n,()=>3)],sheenRoughnessFactor:[new m(i.Animation.ANIMATIONTYPE_FLOAT,"sheen.roughness",l,()=>1)]},KHR_materials_specular:{specularFactor:[new m(i.Animation.ANIMATIONTYPE_FLOAT,"metallicF0Factor",l,()=>1)],specularColorFactor:[new m(i.Animation.ANIMATIONTYPE_COLOR3,"metallicReflectanceColor",n,()=>3)]},KHR_materials_emissive_strength:{emissiveStrength:[new m(i.Animation.ANIMATIONTYPE_FLOAT,"emissiveIntensity",l,()=>1)]},KHR_materials_transmission:{transmissionFactor:[new m(i.Animation.ANIMATIONTYPE_FLOAT,"subSurface.refractionIntensity",l,()=>1)]},KHR_materials_volume:{attenuationColor:[new m(i.Animation.ANIMATIONTYPE_COLOR3,"subSurface.tintColor",n,()=>3)],attenuationDistance:[new m(i.Animation.ANIMATIONTYPE_FLOAT,"subSurface.tintColorAtDistance",l,()=>1)],thicknessFactor:[new m(i.Animation.ANIMATIONTYPE_FLOAT,"subSurface.maximumThickness",l,()=>1)]},KHR_materials_dispersion:{dispersion:[new m(i.Animation.ANIMATIONTYPE_FLOAT,"subSurface.dispersion",l,()=>1)]},KHR_materials_iridescence:{iridescenceFactor:[new m(i.Animation.ANIMATIONTYPE_FLOAT,"iridescence.intensity",l,()=>1)],iridescenceIor:[new m(i.Animation.ANIMATIONTYPE_FLOAT,"iridescence.indexOfRefraction",l,()=>1)],iridescenceThicknessMinimum:[new m(i.Animation.ANIMATIONTYPE_FLOAT,"iridescence.minimumThickness",l,()=>1)],iridescenceThicknessMaximum:[new m(i.Animation.ANIMATIONTYPE_FLOAT,"iridescence.maximumThickness",l,()=>1)]},KHR_materials_anisotropy:{anisotropyStrength:[new m(i.Animation.ANIMATIONTYPE_FLOAT,"anisotropy.intensity",l,()=>1)],anisotropyRotation:[new m(i.Animation.ANIMATIONTYPE_FLOAT,"anisotropy.angle",l,()=>1)]}}}},cameras:g,extensions:{KHR_lights_punctual:{lights:{__array__:{__target__:!0,color:[new f(i.Animation.ANIMATIONTYPE_COLOR3,"diffuse",n,()=>3)],intensity:[new f(i.Animation.ANIMATIONTYPE_FLOAT,"intensity",l,()=>1)],range:[new f(i.Animation.ANIMATIONTYPE_FLOAT,"range",l,()=>1)],spot:{innerConeAngle:[new f(i.Animation.ANIMATIONTYPE_FLOAT,"innerAngle",c,()=>1)],outerConeAngle:[new f(i.Animation.ANIMATIONTYPE_FLOAT,"angle",c,()=>1)]}}}}}}},{"@babylonjs/core/Animations/animation.js":"aeJ0l","../glTFLoaderAnimation.js":"3rmfu","@babylonjs/core/Maths/math.color.js":"78my4","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],bSBwk:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"GLTFPathToObjectConverter",()=>i);class i{constructor(e,t){this._gltf=e,this._infoTree=t}convert(e){let t,r=this._gltf,s=this._infoTree;if(!e.startsWith("/"))throw Error("Path must start with a /");let i=e.split("/");for(let a of(i.shift(),i)){if(s.__array__)s=s.__array__;else if(!(s=s[a]))throw Error(`Path ${e} is invalid`);if(void 0===r)throw Error(`Path ${e} is invalid`);r=r[a],s.__target__&&(t=r)}return{object:t,info:s}}}},{"@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],br9T4:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"MSFT_audio_emitter",()=>c);var i=e("@babylonjs/core/Maths/math.vector.js"),a=e("@babylonjs/core/Misc/tools.js"),o=e("@babylonjs/core/Animations/animationEvent.js"),n=e("@babylonjs/core/Audio/sound.js"),l=e("@babylonjs/core/Audio/weightedsound.js"),h=e("../glTFLoader.js");let u="MSFT_audio_emitter";class c{constructor(e){this.name=u,this._loader=e,this.enabled=this._loader.isExtensionUsed(u)}dispose(){this._loader=null,this._clips=null,this._emitters=null}onLoading(){let e=this._loader.gltf.extensions;if(e&&e[this.name]){let t=e[this.name];this._clips=t.clips,this._emitters=t.emitters,(0,h.ArrayItem).Assign(this._clips),(0,h.ArrayItem).Assign(this._emitters)}}loadSceneAsync(e,t){return(0,h.GLTFLoader).LoadExtensionAsync(e,t,this.name,(r,s)=>{let i=[];for(let a of(i.push(this._loader.loadSceneAsync(e,t)),s.emitters)){let e=(0,h.ArrayItem).Get(`${r}/emitters`,this._emitters,a);if(void 0!=e.refDistance||void 0!=e.maxDistance||void 0!=e.rolloffFactor||void 0!=e.distanceModel||void 0!=e.innerAngle||void 0!=e.outerAngle)throw Error(`${r}: Direction or Distance properties are not allowed on emitters attached to a scene`);i.push(this._loadEmitterAsync(`${r}/emitters/${e.index}`,e))}return Promise.all(i).then(()=>{})})}loadNodeAsync(e,t,r){return(0,h.GLTFLoader).LoadExtensionAsync(e,t,this.name,(e,s)=>{let o=[];return this._loader.loadNodeAsync(e,t,t=>{for(let r of s.emitters){let s=(0,h.ArrayItem).Get(`${e}/emitters`,this._emitters,r);o.push(this._loadEmitterAsync(`${e}/emitters/${s.index}`,s).then(()=>{for(let e of s._babylonSounds)e.attachToMesh(t),(void 0!=s.innerAngle||void 0!=s.outerAngle)&&(e.setLocalDirectionToMesh((0,i.Vector3).Forward()),e.setDirectionalCone(2*(0,a.Tools).ToDegrees(void 0==s.innerAngle?Math.PI:s.innerAngle),2*(0,a.Tools).ToDegrees(void 0==s.outerAngle?Math.PI:s.outerAngle),0))}))}r(t)}).then(e=>Promise.all(o).then(()=>e))})}loadAnimationAsync(e,t){return(0,h.GLTFLoader).LoadExtensionAsync(e,t,this.name,(r,s)=>this._loader.loadAnimationAsync(e,t).then(i=>{let a=[];for(let o of((0,h.ArrayItem).Assign(s.events),s.events))a.push(this._loadAnimationEventAsync(`${r}/events/${o.index}`,e,t,o,i));return Promise.all(a).then(()=>i)}))}_loadClipAsync(e,t){let r;if(t._objectURL)return t._objectURL;if(t.uri)r=this._loader.loadUriAsync(e,t,t.uri);else{let s=(0,h.ArrayItem).Get(`${e}/bufferView`,this._loader.gltf.bufferViews,t.bufferView);r=this._loader.loadBufferViewAsync(`/bufferViews/${s.index}`,s)}return t._objectURL=r.then(e=>URL.createObjectURL(new Blob([e],{type:t.mimeType}))),t._objectURL}_loadEmitterAsync(e,t){if(t._babylonSounds=t._babylonSounds||[],!t._babylonData){let e=[],r=t.name||`emitter${t.index}`,s={loop:!1,autoplay:!1,volume:void 0==t.volume?1:t.volume};for(let i=0;i<t.clips.length;i++){let a=`/extensions/${this.name}/clips`,o=(0,h.ArrayItem).Get(a,this._clips,t.clips[i].clip);e.push(this._loadClipAsync(`${a}/${t.clips[i].clip}`,o).then(e=>{let a=t._babylonSounds[i]=new n.Sound(r,e,this._loader.babylonScene,null,s);a.refDistance=t.refDistance||1,a.maxDistance=t.maxDistance||256,a.rolloffFactor=t.rolloffFactor||1,a.distanceModel=t.distanceModel||"exponential"}))}let i=Promise.all(e).then(()=>{let e=t.clips.map(e=>e.weight||1),r=new l.WeightedSound(t.loop||!1,t._babylonSounds,e);t.innerAngle&&(r.directionalConeInnerAngle=2*(0,a.Tools).ToDegrees(t.innerAngle)),t.outerAngle&&(r.directionalConeOuterAngle=2*(0,a.Tools).ToDegrees(t.outerAngle)),t.volume&&(r.volume=t.volume),t._babylonData.sound=r});t._babylonData={loaded:i}}return t._babylonData.loaded}_getEventAction(e,t,r,s,i){switch(r){case"play":return e=>{t.play((i||0)+(e-s))};case"stop":return()=>{t.stop()};case"pause":return()=>{t.pause()};default:throw Error(`${e}: Unsupported action ${r}`)}}_loadAnimationEventAsync(e,t,r,s,i){if(0==i.targetedAnimations.length)return Promise.resolve();let a=i.targetedAnimations[0],n=s.emitter,l=(0,h.ArrayItem).Get(`/extensions/${this.name}/emitters`,this._emitters,n);return this._loadEmitterAsync(e,l).then(()=>{let t=l._babylonData.sound;if(t){let r=new o.AnimationEvent(s.time,this._getEventAction(e,t,s.action,s.time,s.startOffset));a.animation.addEvent(r),i.onAnimationGroupEndObservable.add(()=>{t.stop()}),i.onAnimationGroupPauseObservable.add(()=>{t.pause()})}})}}(0,h.GLTFLoader).RegisterExtension(u,e=>new c(e))},{"@babylonjs/core/Maths/math.vector.js":"h33gd","@babylonjs/core/Misc/tools.js":"ieufJ","@babylonjs/core/Animations/animationEvent.js":"ksTr3","@babylonjs/core/Audio/sound.js":"11KUt","@babylonjs/core/Audio/weightedsound.js":"dPqOj","../glTFLoader.js":"lHQW2","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],jiyCf:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"MSFT_lod",()=>l);var i=e("@babylonjs/core/Misc/observable.js"),a=e("@babylonjs/core/Misc/deferred.js"),o=e("../glTFLoader.js");let n="MSFT_lod";class l{constructor(e){this.name=n,this.order=100,this.maxLODsToLoad=10,this.onNodeLODsLoadedObservable=new i.Observable,this.onMaterialLODsLoadedObservable=new i.Observable,this._bufferLODs=[],this._nodeIndexLOD=null,this._nodeSignalLODs=[],this._nodePromiseLODs=[],this._nodeBufferLODs=[],this._materialIndexLOD=null,this._materialSignalLODs=[],this._materialPromiseLODs=[],this._materialBufferLODs=[],this._loader=e,this.enabled=this._loader.isExtensionUsed(n)}dispose(){this._loader=null,this._nodeIndexLOD=null,this._nodeSignalLODs.length=0,this._nodePromiseLODs.length=0,this._nodeBufferLODs.length=0,this._materialIndexLOD=null,this._materialSignalLODs.length=0,this._materialPromiseLODs.length=0,this._materialBufferLODs.length=0,this.onMaterialLODsLoadedObservable.clear(),this.onNodeLODsLoadedObservable.clear()}onReady(){for(let e=0;e<this._nodePromiseLODs.length;e++){let t=Promise.all(this._nodePromiseLODs[e]).then(()=>{0!==e&&(this._loader.endPerformanceCounter(`Node LOD ${e}`),this._loader.log(`Loaded node LOD ${e}`)),this.onNodeLODsLoadedObservable.notifyObservers(e),e!==this._nodePromiseLODs.length-1&&(this._loader.startPerformanceCounter(`Node LOD ${e+1}`),this._loadBufferLOD(this._nodeBufferLODs,e+1),this._nodeSignalLODs[e]&&this._nodeSignalLODs[e].resolve())});this._loader._completePromises.push(t)}for(let e=0;e<this._materialPromiseLODs.length;e++){let t=Promise.all(this._materialPromiseLODs[e]).then(()=>{0!==e&&(this._loader.endPerformanceCounter(`Material LOD ${e}`),this._loader.log(`Loaded material LOD ${e}`)),this.onMaterialLODsLoadedObservable.notifyObservers(e),e!==this._materialPromiseLODs.length-1&&(this._loader.startPerformanceCounter(`Material LOD ${e+1}`),this._loadBufferLOD(this._materialBufferLODs,e+1),this._materialSignalLODs[e]&&this._materialSignalLODs[e].resolve())});this._loader._completePromises.push(t)}}loadSceneAsync(e,t){let r=this._loader.loadSceneAsync(e,t);return this._loadBufferLOD(this._bufferLODs,0),r}loadNodeAsync(e,t,r){return(0,o.GLTFLoader).LoadExtensionAsync(e,t,this.name,(e,s)=>{let i;let o=this._getLODs(e,t,this._loader.gltf.nodes,s.ids);this._loader.logOpen(`${e}`);for(let e=0;e<o.length;e++){let t=o[e];0!==e&&(this._nodeIndexLOD=e,this._nodeSignalLODs[e]=this._nodeSignalLODs[e]||new a.Deferred);let s=e=>{r(e),e.setEnabled(!1)},n=this._loader.loadNodeAsync(`/nodes/${t.index}`,t,s).then(t=>{if(0!==e){let t=o[e-1];t._babylonTransformNode&&(this._disposeTransformNode(t._babylonTransformNode),delete t._babylonTransformNode)}return t.setEnabled(!0),t});this._nodePromiseLODs[e]=this._nodePromiseLODs[e]||[],0===e?i=n:(this._nodeIndexLOD=null,this._nodePromiseLODs[e].push(n))}return this._loader.logClose(),i})}_loadMaterialAsync(e,t,r,s,i){return this._nodeIndexLOD?null:(0,o.GLTFLoader).LoadExtensionAsync(e,t,this.name,(e,a)=>{let o;let n=this._getLODs(e,t,this._loader.gltf.materials,a.ids);this._loader.logOpen(`${e}`);for(let e=0;e<n.length;e++){let t=n[e];0!==e&&(this._materialIndexLOD=e);let a=this._loader._loadMaterialAsync(`/materials/${t.index}`,t,r,s,t=>{0===e&&i(t)}).then(t=>{if(0!==e){i(t);let r=n[e-1]._data;r[s]&&(this._disposeMaterials([r[s].babylonMaterial]),delete r[s])}return t});this._materialPromiseLODs[e]=this._materialPromiseLODs[e]||[],0===e?o=a:(this._materialIndexLOD=null,this._materialPromiseLODs[e].push(a))}return this._loader.logClose(),o})}_loadUriAsync(e,t,r){if(null!==this._nodeIndexLOD){this._loader.log("deferred");let s=this._nodeIndexLOD-1;return this._nodeSignalLODs[s]=this._nodeSignalLODs[s]||new a.Deferred,this._nodeSignalLODs[this._nodeIndexLOD-1].promise.then(()=>this._loader.loadUriAsync(e,t,r))}if(null!==this._materialIndexLOD){this._loader.log("deferred");let s=this._materialIndexLOD-1;return this._materialSignalLODs[s]=this._materialSignalLODs[s]||new a.Deferred,this._materialSignalLODs[s].promise.then(()=>this._loader.loadUriAsync(e,t,r))}return null}loadBufferAsync(e,t,r,s){if(this._loader.parent.useRangeRequests&&!t.uri){if(!this._loader.bin)throw Error(`${e}: Uri is missing or the binary glTF is missing its binary chunk`);let t=(e,t)=>{let i=r+s-1,o=e[t];return o?(o.start=Math.min(o.start,r),o.end=Math.max(o.end,i)):(o={start:r,end:i,loaded:new a.Deferred},e[t]=o),o.loaded.promise.then(e=>new Uint8Array(e.buffer,e.byteOffset+r-o.start,s))};return(this._loader.log("deferred"),null!==this._nodeIndexLOD)?t(this._nodeBufferLODs,this._nodeIndexLOD):null!==this._materialIndexLOD?t(this._materialBufferLODs,this._materialIndexLOD):t(this._bufferLODs,0)}return null}_loadBufferLOD(e,t){let r=e[t];r&&(this._loader.log(`Loading buffer range [${r.start}-${r.end}]`),this._loader.bin.readAsync(r.start,r.end-r.start+1).then(e=>{r.loaded.resolve(e)},e=>{r.loaded.reject(e)}))}_getLODs(e,t,r,s){if(this.maxLODsToLoad<=0)throw Error("maxLODsToLoad must be greater than zero");let i=[];for(let t=s.length-1;t>=0;t--)if(i.push((0,o.ArrayItem).Get(`${e}/ids/${s[t]}`,r,s[t])),i.length===this.maxLODsToLoad)return i;return i.push(t),i}_disposeTransformNode(e){let t=[],r=e.material;for(let s of(r&&t.push(r),e.getChildMeshes()))s.material&&t.push(s.material);e.dispose();let s=t.filter(e=>this._loader.babylonScene.meshes.every(t=>t.material!=e));this._disposeMaterials(s)}_disposeMaterials(e){let t={};for(let r of e){for(let e of r.getActiveTextures())t[e.uniqueId]=e;r.dispose()}for(let e in t)for(let r of this._loader.babylonScene.materials)r.hasTexture(t[e])&&delete t[e];for(let e in t)t[e].dispose()}}(0,o.GLTFLoader).RegisterExtension(n,e=>new l(e))},{"@babylonjs/core/Misc/observable.js":"7yHKY","@babylonjs/core/Misc/deferred.js":"cceve","../glTFLoader.js":"lHQW2","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],bxMkM:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"MSFT_minecraftMesh",()=>n);var i=e("@babylonjs/core/Materials/PBR/pbrMaterial.js"),a=e("../glTFLoader.js");let o="MSFT_minecraftMesh";class n{constructor(e){this.name=o,this._loader=e,this.enabled=this._loader.isExtensionUsed(o)}dispose(){this._loader=null}loadMaterialPropertiesAsync(e,t,r){return(0,a.GLTFLoader).LoadExtraAsync(e,t,this.name,(s,a)=>{if(a){if(!(r instanceof i.PBRMaterial))throw Error(`${s}: Material type not supported`);let a=this._loader.loadMaterialPropertiesAsync(e,t,r);return r.needAlphaBlending()&&(r.forceDepthWrite=!0,r.separateCullingPass=!0),r.backFaceCulling=r.forceDepthWrite,r.twoSidedLighting=!0,a}return null})}}(0,a.GLTFLoader).RegisterExtension(o,e=>new n(e))},{"@babylonjs/core/Materials/PBR/pbrMaterial.js":"3wOWA","../glTFLoader.js":"lHQW2","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],lyqob:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"MSFT_sRGBFactors",()=>n);var i=e("@babylonjs/core/Materials/PBR/pbrMaterial.js"),a=e("../glTFLoader.js");let o="MSFT_sRGBFactors";class n{constructor(e){this.name=o,this._loader=e,this.enabled=this._loader.isExtensionUsed(o)}dispose(){this._loader=null}loadMaterialPropertiesAsync(e,t,r){return(0,a.GLTFLoader).LoadExtraAsync(e,t,this.name,(s,a)=>{if(a){if(!(r instanceof i.PBRMaterial))throw Error(`${s}: Material type not supported`);let a=this._loader.loadMaterialPropertiesAsync(e,t,r),o=r.getScene().getEngine().useExactSrgbConversions;return r.albedoTexture||r.albedoColor.toLinearSpaceToRef(r.albedoColor,o),r.reflectivityTexture||r.reflectivityColor.toLinearSpaceToRef(r.reflectivityColor,o),a}return null})}}(0,a.GLTFLoader).RegisterExtension(o,e=>new n(e))},{"@babylonjs/core/Materials/PBR/pbrMaterial.js":"3wOWA","../glTFLoader.js":"lHQW2","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],bNByP:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"KHR_interactivity",()=>u);var i=e("../glTFLoader.js"),a=e("@babylonjs/core/FlowGraph/flowGraphCoordinator.js"),o=e("@babylonjs/core/FlowGraph/flowGraph.js"),n=e("./interactivityFunctions.js"),l=e("./interactivityPathToObjectConverter.js");let h="KHR_interactivity";class u{constructor(e){this._loader=e,this.name=h,this.enabled=this._loader.isExtensionUsed(h),this._pathConverter=new l.InteractivityPathToObjectConverter(this._loader.gltf)}dispose(){this._loader=null,delete this._pathConverter}onReady(){if(!this._loader.babylonScene||!this._pathConverter)return;let e=this._loader.babylonScene,t=this._loader.gltf.extensions?.KHR_interactivity,r=(0,n.convertGLTFToSerializedFlowGraph)(t),s=new a.FlowGraphCoordinator({scene:e});(0,o.FlowGraph).Parse(r,{coordinator:s,pathConverter:this._pathConverter}),s.start()}}(0,i.GLTFLoader).RegisterExtension(h,e=>new u(e))},{"../glTFLoader.js":"lHQW2","@babylonjs/core/FlowGraph/flowGraphCoordinator.js":"i0yHU","@babylonjs/core/FlowGraph/flowGraph.js":"8hkIU","./interactivityFunctions.js":"5ji4r","./interactivityPathToObjectConverter.js":"8KnBg","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"5ji4r":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"convertGLTFToSerializedFlowGraph",()=>l);var i=e("@babylonjs/core/Misc/guid.js"),a=e("./interactivityUtils.js"),o=e("@babylonjs/core/FlowGraph/flowGraphConnection.js");function n(e,t,r){if(void 0===e.type)return e.value;{let s=t.types&&t.types[e.type];if(!s)throw Error(`${r}: Unknown type: ${e.type}`);let i=s.signature;if(!i)throw Error(`${r}: Type ${e.type} has no signature`);let o=a.gltfTypeToBabylonType[i];return{value:e.value,className:o}}}function l(e){let t={uniqueId:(0,i.RandomGUID)(),_userVariables:{},_connectionValues:{}},r=[];for(let t=0;t<e.nodes.length;t++){let s=e.nodes[t],i=function(e,t,r){let s=a.gltfToFlowGraphTypeMap[t.type];if(!s)throw Error(`/extensions/KHR_interactivity/nodes/${e}: Unknown block type: ${t.type}`);let i=e.toString();return{className:s,config:function(e,t,r){let s={};for(let i of e.configuration??[])if("customEvent"===i.id){let e=t.customEvents&&t.customEvents[i.value];if(!e)throw Error(`/extensions/KHR_interactivity/nodes/${r}: Unknown custom event: ${i.value}`);s.eventId=e.id,s.eventData=e.values.map(e=>e.id)}else if("variable"===i.id){let e=t.variables&&t.variables[i.value];if(!e)throw Error(`/extensions/KHR_interactivity/nodes/${r}: Unknown variable: ${i.value}`);s.variableName=e.id}else if("path"===i.id){let e=i.value;s.path=e}else s[i.id]=n(i,t,`/extensions/KHR_interactivity/nodes/${r}`);return s}(t,r,i),uniqueId:i,metadata:t.metadata,dataInputs:[],dataOutputs:[],signalInputs:[],signalOutputs:[]}}(t,s,e);r.push(i)}for(let s=0;s<e.nodes.length;s++){let a=e.nodes[s],l=r[s];for(let e of a.flows??[]){let t=e.id,a={uniqueId:(0,i.RandomGUID)(),name:t,_connectionType:o.FlowGraphConnectionType.Output,connectedPointIds:[]};l.signalOutputs.push(a);let n=e.node,h=e.socket,u=r[n];if(!u)throw Error(`/extensions/KHR_interactivity/nodes/${s}: Could not find node with id ${n} that connects its input with with node ${s}'s output ${t}`);let c=u.signalInputs.find(e=>e.name===h);c||(c={uniqueId:(0,i.RandomGUID)(),name:h,_connectionType:o.FlowGraphConnectionType.Input,connectedPointIds:[]},u.signalInputs.push(c)),c.connectedPointIds.push(a.uniqueId),a.connectedPointIds.push(c.uniqueId)}for(let h of a.values??[]){let a=h.id,u={uniqueId:(0,i.RandomGUID)(),name:a,_connectionType:o.FlowGraphConnectionType.Input,connectedPointIds:[]};if(l.dataInputs.push(u),void 0!==h.value){let r=n(h,e,`/extensions/KHR_interactivity/nodes/${s}`);t._connectionValues[u.uniqueId]=r}else if(void 0!==h.node&&void 0!==h.socket){let e=h.node,t=h.socket,n=r[e];if(!n)throw Error(`/extensions/KHR_interactivity/nodes/${s}: Could not find node with id ${e} that connects its output with node${s}'s input ${a}`);let l=n.dataOutputs.find(e=>e.name===t);l||(l={uniqueId:(0,i.RandomGUID)(),name:t,_connectionType:o.FlowGraphConnectionType.Output,connectedPointIds:[]},n.dataOutputs.push(l)),u.connectedPointIds.push(l.uniqueId),l.connectedPointIds.push(u.uniqueId)}else throw Error(`/extensions/KHR_interactivity/nodes/${s}: Invalid socket ${a} in node ${s}`)}}let s=e.variables??[];for(let r=0;r<s.length;r++){let i=s[r],a=i.id;t._userVariables[a]=n(i,e,`/extensions/KHR_interactivity/variables/${r}`)}return{allBlocks:r,executionContexts:[t]}}},{"@babylonjs/core/Misc/guid.js":"aGfjE","./interactivityUtils.js":"d7WUq","@babylonjs/core/FlowGraph/flowGraphConnection.js":"gBdlo","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],d7WUq:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"gltfToFlowGraphTypeMap",()=>y),s.export(r,"gltfTypeToBabylonType",()=>x);var i=e("@babylonjs/core/FlowGraph/Blocks/Event/flowGraphSceneReadyEventBlock.js"),a=e("@babylonjs/core/FlowGraph/Blocks/Event/flowGraphSceneTickEventBlock.js"),o=e("@babylonjs/core/FlowGraph/Blocks/Execution/flowGraphConsoleLogBlock.js"),n=e("@babylonjs/core/FlowGraph/Blocks/Execution/ControlFlow/flowGraphTimerBlock.js"),l=e("@babylonjs/core/FlowGraph/Blocks/Execution/flowGraphSendCustomEventBlock.js"),h=e("@babylonjs/core/FlowGraph/Blocks/Event/flowGraphReceiveCustomEventBlock.js"),u=e("@babylonjs/core/FlowGraph/Blocks/Execution/ControlFlow/flowGraphSequenceBlock.js"),c=e("@babylonjs/core/FlowGraph/Blocks/Data/flowGraphGetPropertyBlock.js"),d=e("@babylonjs/core/FlowGraph/Blocks/Execution/flowGraphSetPropertyBlock.js"),p=e("@babylonjs/core/FlowGraph/Blocks/Data/Math/flowGraphMathBlocks.js"),m=e("@babylonjs/core/FlowGraph/Blocks/Execution/ControlFlow/flowGraphDoNBlock.js"),f=e("@babylonjs/core/FlowGraph/Blocks/Data/flowGraphGetVariableBlock.js"),_=e("@babylonjs/core/FlowGraph/Blocks/Execution/flowGraphSetVariableBlock.js"),g=e("@babylonjs/core/FlowGraph/Blocks/Execution/ControlFlow/flowGraphWhileLoopBlock.js");let y={"lifecycle/onStart":i.FlowGraphSceneReadyEventBlock.ClassName,"lifecycle/onTick":a.FlowGraphSceneTickEventBlock.ClassName,log:o.FlowGraphConsoleLogBlock.ClassName,"flow/delay":n.FlowGraphTimerBlock.ClassName,"customEvent/send":l.FlowGraphSendCustomEventBlock.ClassName,"customEvent/receive":h.FlowGraphReceiveCustomEventBlock.ClassName,"flow/sequence":u.FlowGraphSequenceBlock.ClassName,"world/get":c.FlowGraphGetPropertyBlock.ClassName,"world/set":d.FlowGraphSetPropertyBlock.ClassName,"flow/doN":m.FlowGraphDoNBlock.ClassName,"variable/get":f.FlowGraphGetVariableBlock.ClassName,"variable/set":_.FlowGraphSetVariableBlock.ClassName,"flow/whileLoop":g.FlowGraphWhileLoopBlock.ClassName,"math/random":p.FlowGraphRandomBlock.ClassName,"math/e":p.FlowGraphEBlock.ClassName,"math/pi":p.FlowGraphPiBlock.ClassName,"math/inf":p.FlowGraphInfBlock.ClassName,"math/nan":p.FlowGraphNaNBlock.ClassName,"math/abs":p.FlowGraphAbsBlock.ClassName,"math/sign":p.FlowGraphSignBlock.ClassName,"math/trunc":p.FlowGraphTruncBlock.ClassName,"math/floor":p.FlowGraphFloorBlock.ClassName,"math/ceil":p.FlowGraphCeilBlock.ClassName,"math/fract":p.FlowGraphFractBlock.ClassName,"math/neg":p.FlowGraphNegBlock.ClassName,"math/add":p.FlowGraphAddBlock.ClassName,"math/sub":p.FlowGraphSubtractBlock.ClassName,"math/mul":p.FlowGraphMultiplyBlock.ClassName,"math/div":p.FlowGraphDivideBlock.ClassName,"math/rem":p.FlowGraphRemainderBlock.ClassName,"math/min":p.FlowGraphMinBlock.ClassName,"math/max":p.FlowGraphMaxBlock.ClassName,"math/clamp":p.FlowGraphClampBlock.ClassName,"math/saturate":p.FlowGraphSaturateBlock.ClassName,"math/mix":p.FlowGraphInterpolateBlock.ClassName,"math/eq":p.FlowGraphEqBlock.ClassName,"math/lt":p.FlowGraphLessThanBlock.ClassName,"math/le":p.FlowGraphLessThanOrEqualBlock.ClassName,"math/gt":p.FlowGraphGreaterThanBlock.ClassName,"math/ge":p.FlowGraphGreaterThanOrEqualBlock.ClassName,"math/isnan":p.FlowGraphIsNanBlock.ClassName,"math/isinf":p.FlowGraphIsInfBlock.ClassName,"math/rad":p.FlowGraphDegToRadBlock.ClassName,"math/deg":p.FlowGraphRadToDegBlock.ClassName,"math/sin":p.FlowGraphSinBlock.ClassName,"math/cos":p.FlowGraphCosBlock.ClassName,"math/tan":p.FlowGraphTanBlock.ClassName,"math/asin":p.FlowGraphAsinBlock.ClassName,"math/acos":p.FlowGraphAcosBlock.ClassName,"math/atan":p.FlowGraphAtanBlock.ClassName,"math/atan2":p.FlowGraphAtan2Block.ClassName,"math/sinh":p.FlowGraphSinhBlock.ClassName,"math/cosh":p.FlowGraphCoshBlock.ClassName,"math/tanh":p.FlowGraphTanhBlock.ClassName,"math/asinh":p.FlowGraphAsinhBlock.ClassName,"math/acosh":p.FlowGraphAcoshBlock.ClassName,"math/atanh":p.FlowGraphAtanhBlock.ClassName,"math/exp":p.FlowGraphExpBlock.ClassName,"math/log":p.FlowGraphLogBlock.ClassName,"math/log2":p.FlowGraphLog2Block.ClassName,"math/log10":p.FlowGraphLog10Block.ClassName,"math/sqrt":p.FlowGraphSqrtBlock.ClassName,"math/cbrt":p.FlowGraphCubeRootBlock.ClassName,"math/pow":p.FlowGraphPowBlock.ClassName,"math/length":p.FlowGraphLengthBlock.ClassName,"math/normalize":p.FlowGraphNormalizeBlock.ClassName,"math/dot":p.FlowGraphDotBlock.ClassName,"math/cross":p.FlowGraphCrossBlock.ClassName,"math/rotate2d":p.FlowGraphRotate2DBlock.ClassName,"math/rotate3d":p.FlowGraphRotate3DBlock.ClassName,"math/transpose":p.FlowGraphTransposeBlock.ClassName,"math/determinant":p.FlowGraphDeterminantBlock.ClassName,"math/inverse":p.FlowGraphInvertMatrixBlock.ClassName,"math/matmul":p.FlowGraphMatMulBlock.ClassName,"math/not":p.FlowGraphBitwiseNotBlock.ClassName,"math/and":p.FlowGraphBitwiseAndBlock.ClassName,"math/or":p.FlowGraphBitwiseOrBlock.ClassName,"math/xor":p.FlowGraphBitwiseXorBlock.ClassName,"math/asr":p.FlowGraphBitwiseRightShiftBlock.ClassName,"math/lsl":p.FlowGraphBitwiseLeftShiftBlock.ClassName,"math/clz":p.FlowGraphCountLeadingZerosBlock.ClassName,"math/ctz":p.FlowGraphCountTrailingZerosBlock.ClassName,"math/popcnt":p.FlowGraphCountOneBitsBlock.ClassName},x={float2:"Vector2",float3:"Vector3",float4:"Vector4",float4x4:"Matrix",int:"FlowGraphInteger"}},{"@babylonjs/core/FlowGraph/Blocks/Event/flowGraphSceneReadyEventBlock.js":"dEET9","@babylonjs/core/FlowGraph/Blocks/Event/flowGraphSceneTickEventBlock.js":"eap16","@babylonjs/core/FlowGraph/Blocks/Execution/flowGraphConsoleLogBlock.js":"4GXac","@babylonjs/core/FlowGraph/Blocks/Execution/ControlFlow/flowGraphTimerBlock.js":"7sioM","@babylonjs/core/FlowGraph/Blocks/Execution/flowGraphSendCustomEventBlock.js":"ddK5T","@babylonjs/core/FlowGraph/Blocks/Event/flowGraphReceiveCustomEventBlock.js":"dxX0O","@babylonjs/core/FlowGraph/Blocks/Execution/ControlFlow/flowGraphSequenceBlock.js":"g70XY","@babylonjs/core/FlowGraph/Blocks/Data/flowGraphGetPropertyBlock.js":"hP6JY","@babylonjs/core/FlowGraph/Blocks/Execution/flowGraphSetPropertyBlock.js":"kCIYI","@babylonjs/core/FlowGraph/Blocks/Data/Math/flowGraphMathBlocks.js":"9XOUH","@babylonjs/core/FlowGraph/Blocks/Execution/ControlFlow/flowGraphDoNBlock.js":"jUACz","@babylonjs/core/FlowGraph/Blocks/Data/flowGraphGetVariableBlock.js":"j1PPJ","@babylonjs/core/FlowGraph/Blocks/Execution/flowGraphSetVariableBlock.js":"Vy95W","@babylonjs/core/FlowGraph/Blocks/Execution/ControlFlow/flowGraphWhileLoopBlock.js":"4V08Z","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"8KnBg":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"InteractivityPathToObjectConverter",()=>a);var i=e("./gltfPathToObjectConverter.js");class a extends i.GLTFPathToObjectConverter{constructor(e){super(e,o)}}let o={nodes:{__array__:{__target__:!0,translation:{type:"Vector3",get:e=>e._babylonTransformNode.position,set:(e,t)=>{t._babylonTransformNode.position=e},getObject:e=>e._babylonTransformNode}}}}},{"./gltfPathToObjectConverter.js":"bSBwk","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"4HJMs":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"ExtrasAsMetadata",()=>o);var i=e("../glTFLoader.js");let a="ExtrasAsMetadata";class o{_assignExtras(e,t){if(t.extras&&Object.keys(t.extras).length>0){let r=e.metadata=e.metadata||{};(r.gltf=r.gltf||{}).extras=t.extras}}constructor(e){this.name=a,this.enabled=!0,this._loader=e}dispose(){this._loader=null}loadNodeAsync(e,t,r){return this._loader.loadNodeAsync(e,t,e=>{this._assignExtras(e,t),r(e)})}loadCameraAsync(e,t,r){return this._loader.loadCameraAsync(e,t,e=>{this._assignExtras(e,t),r(e)})}createMaterial(e,t,r){let s=this._loader.createMaterial(e,t,r);return this._assignExtras(s,t),s}}(0,i.GLTFLoader).RegisterExtension(a,e=>new o(e))},{"../glTFLoader.js":"lHQW2","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"7qwNs":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r);var i=e("./mtlFileLoader.js");s.exportAll(i,r);var a=e("./objLoadingOptions.js");s.exportAll(a,r);var o=e("./solidParser.js");s.exportAll(o,r);var n=e("./objFileLoader.js");s.exportAll(n,r)},{"./mtlFileLoader.js":"3MUIh","./objLoadingOptions.js":"9UNps","./solidParser.js":"cfof9","./objFileLoader.js":"6gBwq","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"3MUIh":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"MTLFileLoader",()=>n);var i=e("@babylonjs/core/Maths/math.color.js"),a=e("@babylonjs/core/Materials/Textures/texture.js"),o=e("@babylonjs/core/Materials/standardMaterial.js");class n{constructor(){this.materials=[]}parseMTL(e,t,r,s){let a;if(t instanceof ArrayBuffer)return;let l=t.split("\n"),h=/\s+/,u=null;for(let t=0;t<l.length;t++){let c=l[t].trim();if(0===c.length||"#"===c.charAt(0))continue;let d=c.indexOf(" "),p=d>=0?c.substring(0,d):c;p=p.toLowerCase();let m=d>=0?c.substring(d+1).trim():"";if("newmtl"===p)u&&this.materials.push(u),e._blockEntityCollection=!!s,(u=new o.StandardMaterial(m,e))._parentContainer=s,e._blockEntityCollection=!1;else if("kd"===p&&u)a=m.split(h,3).map(parseFloat),u.diffuseColor=(0,i.Color3).FromArray(a);else if("ka"===p&&u)a=m.split(h,3).map(parseFloat),u.ambientColor=(0,i.Color3).FromArray(a);else if("ks"===p&&u)a=m.split(h,3).map(parseFloat),u.specularColor=(0,i.Color3).FromArray(a);else if("ke"===p&&u)a=m.split(h,3).map(parseFloat),u.emissiveColor=(0,i.Color3).FromArray(a);else if("ns"===p&&u)u.specularPower=parseFloat(m);else if("d"===p&&u)u.alpha=parseFloat(m);else if("map_ka"===p&&u)u.ambientTexture=n._GetTexture(r,m,e);else if("map_kd"===p&&u)u.diffuseTexture=n._GetTexture(r,m,e);else if("map_ks"===p&&u)u.specularTexture=n._GetTexture(r,m,e);else if("map_ns"===p);else if("map_bump"===p&&u){let t=m.split(h),s=t.indexOf("-bm"),i=null;s>=0&&(i=t[s+1],t.splice(s,2)),u.bumpTexture=n._GetTexture(r,t.join(" "),e),u.bumpTexture&&null!==i&&(u.bumpTexture.level=parseFloat(i))}else"map_d"===p&&u&&(u.opacityTexture=n._GetTexture(r,m,e))}u&&this.materials.push(u)}static _GetTexture(e,t,r){if(!t)return null;let s=e;if("file:"===e){let e=t.lastIndexOf("\\");-1===e&&(e=t.lastIndexOf("/")),e>-1?s+=t.substr(e+1):s+=t}else s+=t;return new a.Texture(s,r,!1,n.INVERT_TEXTURE_Y)}}n.INVERT_TEXTURE_Y=!0},{"@babylonjs/core/Maths/math.color.js":"78my4","@babylonjs/core/Materials/Textures/texture.js":"bYxw8","@babylonjs/core/Materials/standardMaterial.js":"9hjVc","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"9UNps":[function(e,t,r){e("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(r)},{"@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],cfof9:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"SolidParser",()=>d);var i=e("@babylonjs/core/Buffers/buffer.js"),a=e("@babylonjs/core/Materials/standardMaterial.js"),o=e("@babylonjs/core/Maths/math.color.js"),n=e("@babylonjs/core/Maths/math.vector.js"),l=e("@babylonjs/core/Meshes/geometry.js"),h=e("@babylonjs/core/Meshes/mesh.js"),u=e("@babylonjs/core/Meshes/mesh.vertexData.js"),c=e("@babylonjs/core/Misc/logger.js");class d{constructor(e,t,r){this._positions=[],this._normals=[],this._uvs=[],this._colors=[],this._meshesFromObj=[],this._indicesForBabylon=[],this._wrappedPositionForBabylon=[],this._wrappedUvsForBabylon=[],this._wrappedColorsForBabylon=[],this._wrappedNormalsForBabylon=[],this._tuplePosNorm=[],this._curPositionInIndices=0,this._hasMeshes=!1,this._unwrappedPositionsForBabylon=[],this._unwrappedColorsForBabylon=[],this._unwrappedNormalsForBabylon=[],this._unwrappedUVForBabylon=[],this._triangles=[],this._materialNameFromObj="",this._objMeshName="",this._increment=1,this._isFirstMaterial=!0,this._grayColor=new o.Color4(.5,.5,.5,1),this._materialToUse=e,this._babylonMeshesArray=t,this._loadingOptions=r}_isInArray(e,t){e[t[0]]||(e[t[0]]={normals:[],idx:[]});let r=e[t[0]].normals.indexOf(t[1]);return -1===r?-1:e[t[0]].idx[r]}_isInArrayUV(e,t){e[t[0]]||(e[t[0]]={normals:[],idx:[],uv:[]});let r=e[t[0]].normals.indexOf(t[1]);return 1!=r&&t[2]===e[t[0]].uv[r]?e[t[0]].idx[r]:-1}_setData(e,t,r,s,i,a,o){let n;-1===(n=this._loadingOptions.optimizeWithUV?this._isInArrayUV(this._tuplePosNorm,[e,r,t]):this._isInArray(this._tuplePosNorm,[e,r]))?(this._indicesForBabylon.push(this._wrappedPositionForBabylon.length),this._wrappedPositionForBabylon.push(s),this._wrappedUvsForBabylon.push(i),this._wrappedNormalsForBabylon.push(a),void 0!==o&&this._wrappedColorsForBabylon.push(o),this._tuplePosNorm[e].normals.push(r),this._tuplePosNorm[e].idx.push(this._curPositionInIndices++),this._loadingOptions.optimizeWithUV&&this._tuplePosNorm[e].uv.push(t)):this._indicesForBabylon.push(n)}_unwrapData(){for(let e=0;e<this._wrappedPositionForBabylon.length;e++)this._unwrappedPositionsForBabylon.push(this._wrappedPositionForBabylon[e].x,this._wrappedPositionForBabylon[e].y,this._wrappedPositionForBabylon[e].z),this._unwrappedNormalsForBabylon.push(this._wrappedNormalsForBabylon[e].x,this._wrappedNormalsForBabylon[e].y,this._wrappedNormalsForBabylon[e].z),this._unwrappedUVForBabylon.push(this._wrappedUvsForBabylon[e].x,this._wrappedUvsForBabylon[e].y),this._loadingOptions.importVertexColors&&this._unwrappedColorsForBabylon.push(this._wrappedColorsForBabylon[e].r,this._wrappedColorsForBabylon[e].g,this._wrappedColorsForBabylon[e].b,this._wrappedColorsForBabylon[e].a);this._wrappedPositionForBabylon.length=0,this._wrappedNormalsForBabylon.length=0,this._wrappedUvsForBabylon.length=0,this._wrappedColorsForBabylon.length=0,this._tuplePosNorm.length=0,this._curPositionInIndices=0}_getTriangles(e,t){for(let r=t;r<e.length-1;r++)this._triangles.push(e[0],e[r],e[r+1])}_setDataForCurrentFaceWithPattern1(e,t){this._getTriangles(e,t);for(let e=0;e<this._triangles.length;e++){let t=parseInt(this._triangles[e])-1;this._setData(t,0,0,this._positions[t],(0,n.Vector2).Zero(),(0,n.Vector3).Up(),this._loadingOptions.importVertexColors?this._colors[t]:void 0)}this._triangles.length=0}_setDataForCurrentFaceWithPattern2(e,t){this._getTriangles(e,t);for(let e=0;e<this._triangles.length;e++){let t=this._triangles[e].split("/"),r=parseInt(t[0])-1,s=parseInt(t[1])-1;this._setData(r,s,0,this._positions[r],this._uvs[s],(0,n.Vector3).Up(),this._loadingOptions.importVertexColors?this._colors[r]:void 0)}this._triangles.length=0}_setDataForCurrentFaceWithPattern3(e,t){this._getTriangles(e,t);for(let e=0;e<this._triangles.length;e++){let t=this._triangles[e].split("/"),r=parseInt(t[0])-1,s=parseInt(t[1])-1,i=parseInt(t[2])-1;this._setData(r,s,i,this._positions[r],this._uvs[s],this._normals[i])}this._triangles.length=0}_setDataForCurrentFaceWithPattern4(e,t){this._getTriangles(e,t);for(let e=0;e<this._triangles.length;e++){let t=this._triangles[e].split("//"),r=parseInt(t[0])-1,s=parseInt(t[1])-1;this._setData(r,1,s,this._positions[r],(0,n.Vector2).Zero(),this._normals[s],this._loadingOptions.importVertexColors?this._colors[r]:void 0)}this._triangles.length=0}_setDataForCurrentFaceWithPattern5(e,t){this._getTriangles(e,t);for(let e=0;e<this._triangles.length;e++){let t=this._triangles[e].split("/"),r=this._positions.length+parseInt(t[0]),s=this._uvs.length+parseInt(t[1]),i=this._normals.length+parseInt(t[2]);this._setData(r,s,i,this._positions[r],this._uvs[s],this._normals[i],this._loadingOptions.importVertexColors?this._colors[r]:void 0)}this._triangles.length=0}_addPreviousObjMesh(){this._meshesFromObj.length>0&&(this._handledMesh=this._meshesFromObj[this._meshesFromObj.length-1],this._unwrapData(),this._indicesForBabylon.reverse(),this._handledMesh.indices=this._indicesForBabylon.slice(),this._handledMesh.positions=this._unwrappedPositionsForBabylon.slice(),this._handledMesh.normals=this._unwrappedNormalsForBabylon.slice(),this._handledMesh.uvs=this._unwrappedUVForBabylon.slice(),this._loadingOptions.importVertexColors&&(this._handledMesh.colors=this._unwrappedColorsForBabylon.slice()),this._indicesForBabylon.length=0,this._unwrappedPositionsForBabylon.length=0,this._unwrappedColorsForBabylon.length=0,this._unwrappedNormalsForBabylon.length=0,this._unwrappedUVForBabylon.length=0)}_optimizeNormals(e){let t=e.getVerticesData(i.VertexBuffer.PositionKind),r=e.getVerticesData(i.VertexBuffer.NormalKind),s={};if(!t||!r)return;for(let e=0;e<t.length/3;e++){let r=t[3*e+0]+"_"+t[3*e+1]+"_"+t[3*e+2],i=s[r];i||(i=[],s[r]=i),i.push(e)}let a=new n.Vector3;for(let e in s){let t=s[e];if(t.length<2)continue;let i=t[0];for(let e=1;e<t.length;++e){let s=t[e];r[3*i+0]+=r[3*s+0],r[3*i+1]+=r[3*s+1],r[3*i+2]+=r[3*s+2]}a.copyFromFloats(r[3*i+0],r[3*i+1],r[3*i+2]),a.normalize();for(let e=0;e<t.length;++e){let s=t[e];r[3*s+0]=a.x,r[3*s+1]=a.y,r[3*s+2]=a.z}}e.setVerticesData(i.VertexBuffer.NormalKind,r)}parse(e,t,r,s,i){let p=t.split("\n");for(let e=0;e<p.length;e++){let t;let r=p[e].trim().replace(/\s\s/g," ");if(0!==r.length&&"#"!==r.charAt(0)){if(d.VertexPattern.test(r)){if(t=r.match(/[^ ]+/g),this._positions.push(new n.Vector3(parseFloat(t[1]),parseFloat(t[2]),parseFloat(t[3]))),this._loadingOptions.importVertexColors){if(t.length>=7){let e=parseFloat(t[4]),r=parseFloat(t[5]),s=parseFloat(t[6]);this._colors.push(new o.Color4(e>1?e/255:e,r>1?r/255:r,s>1?s/255:s,7===t.length||void 0===t[7]?1:parseFloat(t[7])))}else this._colors.push(this._grayColor)}}else if(null!==(t=d.NormalPattern.exec(r)))this._normals.push(new n.Vector3(parseFloat(t[1]),parseFloat(t[2]),parseFloat(t[3])));else if(null!==(t=d.UVPattern.exec(r)))this._uvs.push(new n.Vector2(parseFloat(t[1])*this._loadingOptions.UVScaling.x,parseFloat(t[2])*this._loadingOptions.UVScaling.y));else if(null!==(t=d.FacePattern3.exec(r)))this._setDataForCurrentFaceWithPattern3(t[1].trim().split(" "),1);else if(null!==(t=d.FacePattern4.exec(r)))this._setDataForCurrentFaceWithPattern4(t[1].trim().split(" "),1);else if(null!==(t=d.FacePattern5.exec(r)))this._setDataForCurrentFaceWithPattern5(t[1].trim().split(" "),1);else if(null!==(t=d.FacePattern2.exec(r)))this._setDataForCurrentFaceWithPattern2(t[1].trim().split(" "),1);else if(null!==(t=d.FacePattern1.exec(r)))this._setDataForCurrentFaceWithPattern1(t[1].trim().split(" "),1);else if(null!==(t=d.LinePattern1.exec(r)))this._setDataForCurrentFaceWithPattern1(t[1].trim().split(" "),0);else if(null!==(t=d.LinePattern2.exec(r)))this._setDataForCurrentFaceWithPattern2(t[1].trim().split(" "),0);else if(null!==(t=d.LinePattern3.exec(r)))this._setDataForCurrentFaceWithPattern3(t[1].trim().split(" "),0);else if(d.GroupDescriptor.test(r)||d.ObjectDescriptor.test(r)){let e={name:r.substring(2).trim(),indices:void 0,positions:void 0,normals:void 0,uvs:void 0,colors:void 0,materialName:this._materialNameFromObj,isObject:d.ObjectDescriptor.test(r)};this._addPreviousObjMesh(),this._meshesFromObj.push(e),this._hasMeshes=!0,this._isFirstMaterial=!0,this._increment=1}else if(d.UseMtlDescriptor.test(r)){if(this._materialNameFromObj=r.substring(7).trim(),!this._isFirstMaterial||!this._hasMeshes){this._addPreviousObjMesh();let e={name:(this._objMeshName||"mesh")+"_mm"+this._increment.toString(),indices:void 0,positions:void 0,normals:void 0,uvs:void 0,colors:void 0,materialName:this._materialNameFromObj,isObject:!1};this._increment++,this._meshesFromObj.push(e),this._hasMeshes=!0}this._hasMeshes&&this._isFirstMaterial&&(this._meshesFromObj[this._meshesFromObj.length-1].materialName=this._materialNameFromObj,this._isFirstMaterial=!1)}else d.MtlLibGroupDescriptor.test(r)?i(r.substring(7).trim()):d.SmoothDescriptor.test(r)||(0,c.Logger).Log("Unhandled expression at line : "+r)}}if(this._hasMeshes&&(this._handledMesh=this._meshesFromObj[this._meshesFromObj.length-1],this._indicesForBabylon.reverse(),this._unwrapData(),this._handledMesh.indices=this._indicesForBabylon,this._handledMesh.positions=this._unwrappedPositionsForBabylon,this._handledMesh.normals=this._unwrappedNormalsForBabylon,this._handledMesh.uvs=this._unwrappedUVForBabylon,this._loadingOptions.importVertexColors&&(this._handledMesh.colors=this._unwrappedColorsForBabylon)),!this._hasMeshes){let e=null;if(this._indicesForBabylon.length)this._indicesForBabylon.reverse(),this._unwrapData();else{for(let e of this._positions)this._unwrappedPositionsForBabylon.push(e.x,e.y,e.z);if(this._normals.length)for(let e of this._normals)this._unwrappedNormalsForBabylon.push(e.x,e.y,e.z);if(this._uvs.length)for(let e of this._uvs)this._unwrappedUVForBabylon.push(e.x,e.y);if(this._colors.length)for(let e of this._colors)this._unwrappedColorsForBabylon.push(e.r,e.g,e.b,e.a);this._materialNameFromObj||((e=new a.StandardMaterial((0,l.Geometry).RandomId(),r)).pointsCloud=!0,this._materialNameFromObj=e.name,this._normals.length||(e.disableLighting=!0,e.emissiveColor=(0,o.Color3).White()))}this._meshesFromObj.push({name:(0,l.Geometry).RandomId(),indices:this._indicesForBabylon,positions:this._unwrappedPositionsForBabylon,colors:this._unwrappedColorsForBabylon,normals:this._unwrappedNormalsForBabylon,uvs:this._unwrappedUVForBabylon,materialName:this._materialNameFromObj,directMaterial:e,isObject:!0})}for(let t=0;t<this._meshesFromObj.length;t++){if(e&&this._meshesFromObj[t].name){if(e instanceof Array){if(-1===e.indexOf(this._meshesFromObj[t].name))continue}else if(this._meshesFromObj[t].name!==e)continue}this._handledMesh=this._meshesFromObj[t],r._blockEntityCollection=!!s;let i=new h.Mesh(this._meshesFromObj[t].name,r);if(i._parentContainer=s,r._blockEntityCollection=!1,this._handledMesh._babylonMesh=i,!this._handledMesh.isObject){for(let e=t-1;e>=0;--e)if(this._meshesFromObj[e].isObject&&this._meshesFromObj[e]._babylonMesh){i.parent=this._meshesFromObj[e]._babylonMesh;break}}if(this._materialToUse.push(this._meshesFromObj[t].materialName),this._handledMesh.positions?.length===0){this._babylonMeshesArray.push(i);continue}let a=new u.VertexData;if(a.uvs=this._handledMesh.uvs,a.indices=this._handledMesh.indices,a.positions=this._handledMesh.positions,this._loadingOptions.computeNormals){let e=[];(0,u.VertexData).ComputeNormals(this._handledMesh.positions,this._handledMesh.indices,e),a.normals=e}else a.normals=this._handledMesh.normals;this._loadingOptions.importVertexColors&&(a.colors=this._handledMesh.colors),a.applyToMesh(i),this._loadingOptions.invertY&&(i.scaling.y*=-1),this._loadingOptions.optimizeNormals&&this._optimizeNormals(i),this._babylonMeshesArray.push(i),this._handledMesh.directMaterial&&(i.material=this._handledMesh.directMaterial)}}}d.ObjectDescriptor=/^o/,d.GroupDescriptor=/^g/,d.MtlLibGroupDescriptor=/^mtllib /,d.UseMtlDescriptor=/^usemtl /,d.SmoothDescriptor=/^s /,d.VertexPattern=/^v(\s+[\d|.|+|\-|e|E]+){3,7}/,d.NormalPattern=/^vn(\s+[\d|.|+|\-|e|E]+)( +[\d|.|+|\-|e|E]+)( +[\d|.|+|\-|e|E]+)/,d.UVPattern=/^vt(\s+[\d|.|+|\-|e|E]+)( +[\d|.|+|\-|e|E]+)/,d.FacePattern1=/^f\s+(([\d]{1,}[\s]?){3,})+/,d.FacePattern2=/^f\s+((([\d]{1,}\/[\d]{1,}[\s]?){3,})+)/,d.FacePattern3=/^f\s+((([\d]{1,}\/[\d]{1,}\/[\d]{1,}[\s]?){3,})+)/,d.FacePattern4=/^f\s+((([\d]{1,}\/\/[\d]{1,}[\s]?){3,})+)/,d.FacePattern5=/^f\s+(((-[\d]{1,}\/-[\d]{1,}\/-[\d]{1,}[\s]?){3,})+)/,d.LinePattern1=/^l\s+(([\d]{1,}[\s]?){2,})+/,d.LinePattern2=/^l\s+((([\d]{1,}\/[\d]{1,}[\s]?){2,})+)/,d.LinePattern3=/^l\s+((([\d]{1,}\/[\d]{1,}\/[\d]{1,}[\s]?){2,})+)/},{"@babylonjs/core/Buffers/buffer.js":"aDZlT","@babylonjs/core/Materials/standardMaterial.js":"9hjVc","@babylonjs/core/Maths/math.color.js":"78my4","@babylonjs/core/Maths/math.vector.js":"h33gd","@babylonjs/core/Meshes/geometry.js":"lnjEm","@babylonjs/core/Meshes/mesh.js":"9vBao","@babylonjs/core/Meshes/mesh.vertexData.js":"apU8X","@babylonjs/core/Misc/logger.js":"5C8M2","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"6gBwq":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"OBJFileLoader",()=>u);var i=e("@babylonjs/core/Maths/math.vector.js"),a=e("@babylonjs/core/Misc/tools.js"),o=e("@babylonjs/core/Loading/sceneLoader.js"),n=e("@babylonjs/core/assetContainer.js"),l=e("./mtlFileLoader.js"),h=e("./solidParser.js");class u{static get INVERT_TEXTURE_Y(){return l.MTLFileLoader.INVERT_TEXTURE_Y}static set INVERT_TEXTURE_Y(e){l.MTLFileLoader.INVERT_TEXTURE_Y=e}constructor(e){this.name="obj",this.extensions=".obj",this._assetContainer=null,this._loadingOptions=e||u._DefaultLoadingOptions}static get _DefaultLoadingOptions(){return{computeNormals:u.COMPUTE_NORMALS,optimizeNormals:u.OPTIMIZE_NORMALS,importVertexColors:u.IMPORT_VERTEX_COLORS,invertY:u.INVERT_Y,invertTextureY:u.INVERT_TEXTURE_Y,UVScaling:u.UV_SCALING,materialLoadingFailsSilently:u.MATERIAL_LOADING_FAILS_SILENTLY,optimizeWithUV:u.OPTIMIZE_WITH_UV,skipMaterials:u.SKIP_MATERIALS}}_loadMTL(e,t,r,s){let i=t+e;(0,a.Tools).LoadFile(i,r,void 0,void 0,!1,(e,t)=>{s(i,t)})}createPlugin(){return new u(u._DefaultLoadingOptions)}canDirectLoad(){return!1}importMeshAsync(e,t,r,s){return this._parseSolid(e,t,r,s).then(e=>({meshes:e,particleSystems:[],skeletons:[],animationGroups:[],transformNodes:[],geometries:[],lights:[]}))}loadAsync(e,t,r){return this.importMeshAsync(null,e,t,r).then(()=>{})}loadAssetContainerAsync(e,t,r){let s=new n.AssetContainer(e);return this._assetContainer=s,this.importMeshAsync(null,e,t,r).then(e=>(e.meshes.forEach(e=>s.meshes.push(e)),e.meshes.forEach(e=>{let t=e.material;t&&-1==s.materials.indexOf(t)&&(s.materials.push(t),t.getActiveTextures().forEach(e=>{-1==s.textures.indexOf(e)&&s.textures.push(e)}))}),this._assetContainer=null,s)).catch(e=>{throw this._assetContainer=null,e})}_parseSolid(e,t,r,s){let i="",o=new l.MTLFileLoader,n=[],u=[];new h.SolidParser(n,u,this._loadingOptions).parse(e,r,t,this._assetContainer,e=>{i=e});let c=[];return""===i||this._loadingOptions.skipMaterials||c.push(new Promise((e,r)=>{this._loadMTL(i,s,l=>{try{o.parseMTL(t,l,s,this._assetContainer);for(let e=0;e<o.materials.length;e++){let t,r=0,s=[];for(;(t=n.indexOf(o.materials[e].name,r))>-1;)s.push(t),r=t+1;if(-1===t&&0===s.length)o.materials[e].dispose();else for(let t=0;t<s.length;t++){let r=u[s[t]],i=o.materials[e];r.material=i,r.getTotalIndices()||(i.pointsCloud=!0)}}e()}catch(t){(0,a.Tools).Warn(`Error processing MTL file: '${i}'`),this._loadingOptions.materialLoadingFailsSilently?e():r(t)}},(t,s)=>{(0,a.Tools).Warn(`Error downloading MTL file: '${i}'`),this._loadingOptions.materialLoadingFailsSilently?e():r(s)})})),Promise.all(c).then(()=>u)}}u.OPTIMIZE_WITH_UV=!0,u.INVERT_Y=!1,u.IMPORT_VERTEX_COLORS=!1,u.COMPUTE_NORMALS=!1,u.OPTIMIZE_NORMALS=!1,u.UV_SCALING=new i.Vector2(1,1),u.SKIP_MATERIALS=!1,u.MATERIAL_LOADING_FAILS_SILENTLY=!0,o.SceneLoader&&(0,o.SceneLoader).RegisterPlugin(new u)},{"@babylonjs/core/Maths/math.vector.js":"h33gd","@babylonjs/core/Misc/tools.js":"ieufJ","@babylonjs/core/Loading/sceneLoader.js":"8wULc","@babylonjs/core/assetContainer.js":"133YM","./mtlFileLoader.js":"3MUIh","./solidParser.js":"cfof9","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],hovy3:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r);var i=e("./stlFileLoader.js");s.exportAll(i,r)},{"./stlFileLoader.js":"juzY4","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],juzY4:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"STLFileLoader",()=>h);var i=e("@babylonjs/core/Misc/tools.js"),a=e("@babylonjs/core/Buffers/buffer.js"),o=e("@babylonjs/core/Meshes/mesh.js"),n=e("@babylonjs/core/Loading/sceneLoader.js"),l=e("@babylonjs/core/assetContainer.js");class h{constructor(){this.solidPattern=/solid (\S*)([\S\s]*?)endsolid[ ]*(\S*)/g,this.facetsPattern=/facet([\s\S]*?)endfacet/g,this.normalPattern=/normal[\s]+([-+]?[0-9]+\.?[0-9]*([eE][-+]?[0-9]+)?)+[\s]+([-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?)+[\s]+([-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?)+/g,this.vertexPattern=/vertex[\s]+([-+]?[0-9]+\.?[0-9]*([eE][-+]?[0-9]+)?)+[\s]+([-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?)+[\s]+([-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?)+/g,this.name="stl",this.extensions={".stl":{isBinary:!0}}}importMesh(e,t,r,s,a){let n;if("string"!=typeof r){if(this._isBinary(r)){let e=new o.Mesh("stlmesh",t);return this._parseBinary(e,r),a&&a.push(e),!0}r=new TextDecoder().decode(new Uint8Array(r))}for(;n=this.solidPattern.exec(r);){let r=n[1],s=n[3];if(s&&r!=s)return(0,i.Tools).Error("Error in STL, solid name != endsolid name"),!1;if(e&&r){if(e instanceof Array){if(!e.indexOf(r))continue}else if(r!==e)continue}r=r||"stlmesh";let l=new o.Mesh(r,t);this._parseASCII(l,n[2]),a&&a.push(l)}return!0}load(e,t,r){return this.importMesh(null,e,t,r,null)}loadAssetContainer(e,t,r){let s=new l.AssetContainer(e);return e._blockEntityCollection=!0,this.importMesh(null,e,t,r,s.meshes),e._blockEntityCollection=!1,s}_isBinary(e){let t=new DataView(e);if(t.byteLength<=80)return!1;if(84+50*t.getUint32(80,!0)===t.byteLength)return!0;let r=[115,111,108,105,100];for(let e=0;e<5;e++)if(t.getUint8(e)!==r[e])return!0;return!1}_parseBinary(e,t){let r=new DataView(t),s=r.getUint32(80,!0),i=0,o=new Float32Array(9*s),n=new Float32Array(9*s),l=new Uint32Array(3*s),u=0;for(let e=0;e<s;e++){let t=84+50*e,s=r.getFloat32(t,!0),a=r.getFloat32(t+4,!0),c=r.getFloat32(t+8,!0);for(let e=1;e<=3;e++){let l=t+12*e;o[i]=r.getFloat32(l,!0),n[i]=s,h.DO_NOT_ALTER_FILE_COORDINATES?(o[i+1]=r.getFloat32(l+4,!0),o[i+2]=r.getFloat32(l+8,!0),n[i+1]=a,n[i+2]=c):(o[i+2]=r.getFloat32(l+4,!0),o[i+1]=r.getFloat32(l+8,!0),n[i+2]=a,n[i+1]=c),i+=3}h.DO_NOT_ALTER_FILE_COORDINATES?(l[u]=u,l[u+1]=u+2,l[u+2]=u+1,u+=3):(l[u]=u++,l[u]=u++,l[u]=u++)}e.setVerticesData(a.VertexBuffer.PositionKind,o),e.setVerticesData(a.VertexBuffer.NormalKind,n),e.setIndices(l),e.computeWorldMatrix(!0)}_parseASCII(e,t){let r;let s=[],i=[],o=[],n=0;for(;r=this.facetsPattern.exec(t);){let e;let t=r[1],a=this.normalPattern.exec(t);if(this.normalPattern.lastIndex=0,!a)continue;let l=[Number(a[1]),Number(a[5]),Number(a[3])];for(;e=this.vertexPattern.exec(t);)h.DO_NOT_ALTER_FILE_COORDINATES?(s.push(Number(e[1]),Number(e[3]),Number(e[5])),i.push(l[0],l[2],l[1])):(s.push(Number(e[1]),Number(e[5]),Number(e[3])),i.push(l[0],l[1],l[2]));h.DO_NOT_ALTER_FILE_COORDINATES?(o.push(n,n+2,n+1),n+=3):o.push(n++,n++,n++),this.vertexPattern.lastIndex=0}this.facetsPattern.lastIndex=0,e.setVerticesData(a.VertexBuffer.PositionKind,s),e.setVerticesData(a.VertexBuffer.NormalKind,i),e.setIndices(o),e.computeWorldMatrix(!0)}}h.DO_NOT_ALTER_FILE_COORDINATES=!1,n.SceneLoader&&(0,n.SceneLoader).RegisterPlugin(new h)},{"@babylonjs/core/Misc/tools.js":"ieufJ","@babylonjs/core/Buffers/buffer.js":"aDZlT","@babylonjs/core/Meshes/mesh.js":"9vBao","@babylonjs/core/Loading/sceneLoader.js":"8wULc","@babylonjs/core/assetContainer.js":"133YM","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],lB3Rc:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r);var i=e("./splatFileLoader.js");s.exportAll(i,r)},{"./splatFileLoader.js":"9sWYL","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"9sWYL":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"SPLATFileLoader",()=>o);var i=e("@babylonjs/core/Loading/sceneLoader.js"),a=e("@babylonjs/core/Meshes/GaussianSplatting/gaussianSplattingMesh.js");class o{constructor(){this.name="splat",this.extensions={".splat":{isBinary:!0},".ply":{isBinary:!0}}}createPlugin(){return new o}canDirectLoad(){return!1}async importMeshAsync(e,t,r,s){let i=new a.GaussianSplattingMesh("GaussianSplatting",null,t);return await i.loadFileAsync(s),{meshes:[i],particleSystems:[],skeletons:[],animationGroups:[],transformNodes:[],geometries:[],lights:[]}}loadAsync(e,t,r){return new a.GaussianSplattingMesh("GaussianSplatting",null,e).loadDataAsync((0,a.GaussianSplattingMesh).ConvertPLYToSplat(t))}loadAssetContainerAsync(e,t,r){throw Error("loadAssetContainerAsync not implemented for Gaussian Splatting loading")}}i.SceneLoader&&(0,i.SceneLoader).RegisterPlugin(new o)},{"@babylonjs/core/Loading/sceneLoader.js":"8wULc","@babylonjs/core/Meshes/GaussianSplatting/gaussianSplattingMesh.js":"kdFNc","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"6YTq7":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"initTeach",()=>n);var i=e("@/game_state/ui/state"),a=e("@/ui/spin2"),o=e("pixi.js");function n(e){let t=new o.Application({background:"#101010",backgroundAlpha:.5,resizeTo:window});return e.appendChild(t.view),function(e){let t=o.Sprite.from("public/icons/close.webp");t.width=60,t.height=60,e.stage.addChild(t),t.anchor.set(.5),t.x=e.screen.width/2,t.y=100,t.eventMode="static",t.cursor="pointer",t.on("pointerup",()=>l(e)).on("pointerenter",()=>{t.width+=10,t.height+=10}).on("pointerleave",()=>{t.width=60,t.height=60})}(t),function(e,t){let r=0,s=function(e){let t=o.Sprite.from("public/icons/tap.webp");return t.width=50,t.height=50,e.stage.addChild(t),t.anchor.set(.5),t.x=e.screen.width/2,t.y=e.screen.height/2,t.alpha=0,t}(t),n=t.ticker.add(o=>{switch(r){case 0:e.y<t.screen.height/2-50?e.y+=10*o:r=1;break;case 1:e.x>t.screen.width/2-100?e.x-=6*o:(n.stop(),r=2,setTimeout(()=>{(0,a.rotateToPrevPosition)(a.SPINMENU.nodeMenu,i.UISTATE.Scene),setTimeout(()=>{n.start()},500)},50));break;case 2:e.x<=t.screen.width/2?e.x+=6*o:e.x<t.screen.width/2+100?e.x+=6*o:(n.stop(),r=3,setTimeout(()=>{(0,a.rotateToNextPosition)(a.SPINMENU.nodeMenu,i.UISTATE.Scene),setTimeout(()=>{n.start()},500)},50));break;case 3:e.x>=t.screen.width/2?(e.x-=8*o,e.y+=5):r=4;break;case 4:e.width<80?(e.width+=1*o,e.height+=1*o):(s.x=e.x-5,s.y=e.y-30,s.alpha=1,setTimeout(()=>{s.alpha=0},150),e.width=60,e.height=60,r=5);break;case 5:e.width<80?(e.width+=1*o,e.height+=1*o):(s.x=e.x-5,s.y=e.y-30,s.alpha=1,setTimeout(()=>{s.alpha=0},150),e.width=60,e.height=60,r=6);break;case 6:t.ticker.destroy(),setTimeout(()=>l(t),600)}})}(function(e){let t=o.Sprite.from("public/icons/hand.webp");return t.width=60,t.height=60,e.stage.addChild(t),t.anchor.set(.5),t.x=e.screen.width/2,t.y=0,t}(t),t),t}function l(e){try{e.destroy(!0,!0)}catch{console.error("PIXI DESTROY ERROR")}document.querySelector("#teach-place").classList.add("hide")}},{"@/game_state/ui/state":"aE8EP","@/ui/spin2":"55nRH","pixi.js":"gHpFC","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"55nRH":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"SPINMENU",()=>p),s.export(r,"spinMenu2",()=>m),s.export(r,"rotateToNextPosition",()=>x),s.export(r,"rotateToPrevPosition",()=>b);var i=e("@/game_state/assets/state"),a=e("@/game_state/game_state"),o=e("@/utils/loaderGlbFiles"),n=e("@babylonjs/core"),l=e("@babylonjs/procedural-textures"),h=e("./html/ui_components"),u=e("@/DB/indexdb"),c=e("@/utils/clear_utils");let d={border:null,center:null,level:null,numbers:new Map},p={nodeMenu:null,count:6,radius:14,position:new n.Vector3(0,0,15),angle:0,angleDelta:0,focusItem:null,items:new Map,scaleDeterminant:.6,scaleDeterminantMax:1.5,isFocusItemHover:!1,isLeaveMenu:!0,hoverMaterial:null,standardMaterial:null,hoverParticles:null};async function m(e){let t=!1,r=null;p.standardMaterial=new n.StandardMaterial("standard-item-mt",e),p.standardMaterial.diffuse=new n.Color3(.2,.2,.2);var s=new l.FireProceduralTexture("fireTex",256,e);p.hoverMaterial=new n.StandardMaterial("hover-item-mt",e),p.hoverMaterial.diffuseTexture=s,p.hoverMaterial.opacityTexture=s,p.nodeMenu=await function(e,t,r,s){let i=new n.TransformNode("menu-tn",s);p.angle=360/r,p.angleDelta=1.5*p.angle;let a=[];return[...Array(r).keys()].forEach(e=>{a.push(g(`item-${e}`,{index:e,angle:p.angle*e+p.angleDelta},s))}),new Promise(r=>{Promise.all(a).then(s=>{s.forEach((e,r)=>{var s;p.items.set(r,e),e.scalingDeterminant=p.scaleDeterminant,e.setParent(i),s=new n.Vector3(Math.cos((0,n.Tools).ToRadians(p.angle*r))*t,0,Math.sin((0,n.Tools).ToRadians(p.angle*r))*t),e.position=s}),i.rotation.y=(0,n.Tools).ToRadians(p.angleDelta),i.position=e,r(i)})})}(p.position,p.radius,p.count,e),y(0,p.nodeMenu,e),(0,u.getResultsIDB)().then(e=>{let t=e.filter(e=>p.focusItem.meta.index===e.level),r=t[0];for(let e=1;e<t.length;e++)r.score<t[e].score&&(r=t[e]);r?(0,h.redrawResult)(r.isWin,r.score):(0,h.redrawResult)(!1,0),(0,h.showResult)(!0)}),(0,h.redrawLevelDescription)(1,0,a.GameState.state.lang),(0,h.showDescription)(!0),function(e,t){let r=document.querySelector(".left-menu-button"),s=document.querySelector(".right-menu-button");r.addEventListener("click",()=>{b(e,t)}),s.addEventListener("click",()=>{x(e,t)}),(0,h.showSpinMenuButtons)(!0)}(p.nodeMenu,e),e.onPointerDown=(s,i,o)=>{let n=e.pick(e.pointerX,e.pointerY,()=>!0);n.pickedMesh.name.includes("moveHandler")&&(t?((0,a.GameState).levelRun(p.focusItem.meta.index),t=!1):(t=!0,r=n.pickedPoint))},e.onPointerMove=(s,i,a)=>{if(function(e){let t=e.pick(e.pointerX,e.pointerY,()=>!0);if(t.pickedMesh){if("moveHandler"===t.pickedMesh.name){let t=p.focusItem.getChildMeshes().filter(e=>"center"===e.name)[0];p.isFocusItemHover||(p.isFocusItemHover=!0,p.isLeaveMenu=!1,p.hoverParticles=(0,c.appendParticles)(`${p.focusItem.name}-particles`,t,{color1:new n.Color4(.4,.4,.1,.5),color2:new n.Color4(.5,.3,.3,.3),color3:new n.Color4(.9,.2,.2,1),capacity:3e3,emitRate:1e3,max_size:.9,updateSpeed:.05,emmitBox:new n.Vector3(3,0,3),lifeTime:5,gravityY:1,isLocal:!0,sphere:{radius:3.5,range:1}},e),p.hoverParticles.start())}else p.isLeaveMenu||(p.focusItem.getChildMeshes().filter(e=>"center"===e.name)[0],p.hoverParticles.stop(),p.isFocusItemHover=!1,p.isLeaveMenu=!0)}}(e),t){let s=e.pick(e.pointerX,e.pointerY,()=>!0),i=r.x-s.pickedPoint.x;Math.abs(i)>5&&(i>0?x(p.nodeMenu,e):b(p.nodeMenu,e),t=!1)}},e.onPointerUp=(e,r,s)=>{t&&setTimeout(()=>{t=!1},300)}}function f(e,t,r){let s=new n.StandardMaterial("cil-mt",r);return s.diffuseColor=t.diffuse,s.specularColor=new n.Color3(.3,.4,1),s.ambientColor=new n.Color3(.01,.02,.1),s.roughness=0,s.specularPower=.5,s.twoSidedLighting=!0,s.alpha=t.alpha??1,e.material=s,e}async function _(e,t,r){return new Promise(s=>{(0,o.loadMenuItemModel)(r).then(()=>{(0,i.ASSETS).containers3D.get("menu_item").instantiateModelsToScene(e=>e).rootNodes[0].getChildMeshes().forEach(e=>{switch(e.isVisible=!1,e.isEnabled(!1),e.name){case"Border":d.border=e;break;case"Center":d.center=e;break;case"Level":d.level=e;break;case"number-0":case"number-1":case"number-2":case"number-3":case"number-4":case"number-5":case"number-6":case"number-7":case"number-8":case"number-9":d.numbers.set(e.name,e);break;default:console.log("switch default")}})}).then(()=>{let i=function(e,t,r){let s=new n.TransformNode(`${e}-${t.index}`,r),i=d.border.clone("border");i.isVisible=!0,i.isEnabled(!0);let a=d.center.clone("center");a.isVisible=!0,a.isEnabled(!0);let o=d.level.clone("level");o.isVisible=!0,o.isEnabled(!0);let l=d.numbers.get(`number-${t.index}`).clone(`number-${t.index}`);l.isVisible=!0,l.isEnabled(!0);let h=d.center.clone("moveHandler");return h.isVisible=!0,h.isEnabled(!0),a.scaling=new n.Vector3(.9,.2,.9),h.scaling=new n.Vector3(1.1,.1,1.1),h.position.y=2,h.position.z+=1.3,l.rotation.y=(0,n.Tools).ToRadians(180),l.position.z=.9,o.rotation.y=(0,n.Tools).ToRadians(0),o.position=new n.Vector3(0,1.4,-.5),a.position.y=0,i.position.y=.3,l.position=new n.Vector3(0,1.1,1.7),i.setParent(s),a.setParent(s),o.setParent(s),l.setParent(s),h.setParent(s),f(i,{diffuse:new n.Color3(.5,.3,.2)},r),f(a,{diffuse:new n.Color3(.2,.2,.2),alpha:.1},r),f(o,{diffuse:new n.Color3(.9,.9,.9)},r),f(l,{diffuse:new n.Color3(.7,.7,.7)},r),f(h,{diffuse:new n.Color3(.1,.01,.01),alpha:0},r),s.scalingDeterminant=1.5,s.position.y=1,s}(e,{index:t.index},r);i.position=new n.Vector3(0,14,0),s(i)})})}async function g(e,t,r){return new Promise(s=>{_(e,{index:t.index},r).then(r=>{r.meta={name:e,index:t.index,angle:t.angle},s(r)})})}function y(e,t,r){let s=p.items.get(e),i=p.focusItem;s.rotation.y=(0,n.Tools).ToRadians(-s.meta.angle);let a=(0,n.Tools).ToRadians(s.meta.angle);i&&(390===i.meta.angle&&90===s.meta.angle&&(t.rotation.y=(0,n.Tools).ToRadians(30)),90===i.meta.angle&&390===s.meta.angle&&(t.rotation.y=(0,n.Tools).ToRadians(450)));let o=function(e,t){let r=[{frame:0,value:e.rotation.clone().y},{frame:120,value:t}],s=new n.Animation("rotate-menu-anim","rotation.y",120,n.Animation.ANIMATIONTYPE_FLOAT,n.Animation.ANIMATIONLOOPMODE_CONSTANT,!1);return s.setKeys(r),e.animations.push(s),s}(t,a);r.beginAnimation(t,0,120,!1,2,()=>{r.removeAnimation(o)});let l=v(s),c=T(s);if(r.beginAnimation(s,0,60,!1,2,()=>{r.removeAnimation(l),r.removeAnimation(c)}),i){let e=v(i),t=T(i);r.beginAnimation(i,60,0,!1,2,()=>{r.removeAnimation(e),r.removeAnimation(t)})}(0,h.redrawLevelDescription)(1,e,"ru"),(0,u.getResultsIDB)().then(e=>{let t=e.filter(e=>p.focusItem.meta.index===e.level),r=t[0];for(let e=1;e<t.length;e++)r.score<t[e].score&&(r=t[e]);r?(0,h.redrawResult)(r.isWin,r.score):(0,h.redrawResult)(!1,0),(0,h.showResult)(!0)}),p.focusItem=s}function x(e,t){let r=(p.focusItem?p.focusItem.meta.index:0)+1;y(r=r>=p.count?0:r,e,t)}function b(e,t){let r=(p.focusItem?p.focusItem.meta.index:0)-1;y(r=r<0?p.count-1:r,e,t)}function T(e){let t=[{frame:0,value:p.scaleDeterminant},{frame:60,value:p.scaleDeterminantMax}],r=new n.Animation("scale-menu-anim","scalingDeterminant",60,n.Animation.ANIMATIONTYPE_FLOAT,n.Animation.ANIMATIONLOOPMODE_CONSTANT,!1);return r.setKeys(t),e.animations.push(r),r}function v(e){let t=e.position.clone(),r=t.add(new n.Vector3(0,0,0)),s=new n.Animation("posY-menuanim","position",60,n.Animation.ANIMATIONTYPE_VECTOR3,n.Animation.ANIMATIONLOOPMODE_CONSTANT,!1);return s.setKeys([{frame:0,value:t},{frame:60,value:r}]),e.animations.push(s),s}},{"@/game_state/assets/state":"eemMA","@/game_state/game_state":"5qBSL","@/utils/loaderGlbFiles":"dfETV","@babylonjs/core":"1KKys","@babylonjs/procedural-textures":"3wVxx","./html/ui_components":"7Tzis","@/DB/indexdb":"iS775","@/utils/clear_utils":"aFozW","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"3wVxx":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r);var i=e("./brick/index.js");s.exportAll(i,r);var a=e("./cloud/index.js");s.exportAll(a,r);var o=e("./fire/index.js");s.exportAll(o,r);var n=e("./grass/index.js");s.exportAll(n,r);var l=e("./marble/index.js");s.exportAll(l,r);var h=e("./normalMap/index.js");s.exportAll(h,r);var u=e("./perlinNoise/index.js");s.exportAll(u,r);var c=e("./road/index.js");s.exportAll(c,r);var d=e("./starfield/index.js");s.exportAll(d,r);var p=e("./wood/index.js");s.exportAll(p,r)},{"./brick/index.js":"j98vp","./cloud/index.js":"hKMsz","./fire/index.js":"8CHLM","./grass/index.js":"iFSct","./marble/index.js":"iiKFF","./normalMap/index.js":"jW3A5","./perlinNoise/index.js":"lc91D","./road/index.js":"1qN8h","./starfield/index.js":"fTpJZ","./wood/index.js":"ixz6j","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],j98vp:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r);var i=e("./brickProceduralTexture.js");s.exportAll(i,r)},{"./brickProceduralTexture.js":"8sjD2","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"8sjD2":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"BrickProceduralTexture",()=>h);var i=e("@babylonjs/core/tslib.es6.js"),a=e("@babylonjs/core/Misc/decorators.js"),o=e("@babylonjs/core/Maths/math.color.js"),n=e("@babylonjs/core/Materials/Textures/Procedurals/proceduralTexture.js"),l=e("@babylonjs/core/Misc/typeStore.js");e("./brickProceduralTexture.fragment.js");class h extends n.ProceduralTexture{constructor(e,t,r=null,s,i){super(e,t,"brickProceduralTexture",r,s,i),this._numberOfBricksHeight=15,this._numberOfBricksWidth=5,this._jointColor=new o.Color3(.72,.72,.72),this._brickColor=new o.Color3(.77,.47,.4),this.updateShaderUniforms()}updateShaderUniforms(){this.setFloat("numberOfBricksHeight",this._numberOfBricksHeight),this.setFloat("numberOfBricksWidth",this._numberOfBricksWidth),this.setColor3("brickColor",this._brickColor),this.setColor3("jointColor",this._jointColor)}get numberOfBricksHeight(){return this._numberOfBricksHeight}set numberOfBricksHeight(e){this._numberOfBricksHeight=e,this.updateShaderUniforms()}get numberOfBricksWidth(){return this._numberOfBricksWidth}set numberOfBricksWidth(e){this._numberOfBricksWidth=e,this.updateShaderUniforms()}get jointColor(){return this._jointColor}set jointColor(e){this._jointColor=e,this.updateShaderUniforms()}get brickColor(){return this._brickColor}set brickColor(e){this._brickColor=e,this.updateShaderUniforms()}serialize(){let e=(0,a.SerializationHelper).Serialize(this,super.serialize());return e.customType="BABYLON.BrickProceduralTexture",e}static Parse(e,t,r){return(0,a.SerializationHelper).Parse(()=>new h(e.name,e._size,t,void 0,e._generateMipMaps),e,t,r)}}(0,i.__decorate)([(0,a.serialize)()],h.prototype,"numberOfBricksHeight",null),(0,i.__decorate)([(0,a.serialize)()],h.prototype,"numberOfBricksWidth",null),(0,i.__decorate)([(0,a.serializeAsColor3)()],h.prototype,"jointColor",null),(0,i.__decorate)([(0,a.serializeAsColor3)()],h.prototype,"brickColor",null),(0,l.RegisterClass)("BABYLON.BrickProceduralTexture",h)},{"@babylonjs/core/tslib.es6.js":"8PXfl","@babylonjs/core/Misc/decorators.js":"1fqhD","@babylonjs/core/Maths/math.color.js":"78my4","@babylonjs/core/Materials/Textures/Procedurals/proceduralTexture.js":"aDJW1","@babylonjs/core/Misc/typeStore.js":"lABbx","./brickProceduralTexture.fragment.js":"9LPzq","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"9LPzq":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"brickProceduralTexturePixelShader",()=>n);var i=e("@babylonjs/core/Engines/shaderStore.js");let a="brickProceduralTexturePixelShader",o=`precision highp float;varying vec2 vPosition;varying vec2 vUV;uniform float numberOfBricksHeight;uniform float numberOfBricksWidth;uniform vec3 brickColor;uniform vec3 jointColor;float rand(vec2 n) {return fract(cos(dot(n,vec2(12.9898,4.1414)))*43758.5453);}
float noise(vec2 n) {const vec2 d=vec2(0.0,1.0);vec2 b=floor(n),f=smoothstep(vec2(0.0),vec2(1.0),fract(n));return mix(mix(rand(b),rand(b+d.yx),f.x),mix(rand(b+d.xy),rand(b+d.yy),f.x),f.y);}
float fbm(vec2 n) {float total=0.0,amplitude=1.0;for (int i=0; i<4; i++) {total+=noise(n)*amplitude;n+=n;amplitude*=0.5;}
return total;}
float roundF(float number){return sign(number)*floor(abs(number)+0.5);}
#define CUSTOM_FRAGMENT_DEFINITIONS
void main(void)
{float brickW=1.0/numberOfBricksWidth;float brickH=1.0/numberOfBricksHeight;float jointWPercentage=0.01;float jointHPercentage=0.05;vec3 color=brickColor;float yi=vUV.y/brickH;float nyi=roundF(yi);float xi=vUV.x/brickW;if (mod(floor(yi),2.0)==0.0){xi=xi-0.5;}
float nxi=roundF(xi);vec2 brickvUV=vec2((xi-floor(xi))/brickH,(yi-floor(yi))/ brickW);if (yi<nyi+jointHPercentage && yi>nyi-jointHPercentage){color=mix(jointColor,vec3(0.37,0.25,0.25),(yi-nyi)/jointHPercentage+0.2);}
else if (xi<nxi+jointWPercentage && xi>nxi-jointWPercentage){color=mix(jointColor,vec3(0.44,0.44,0.44),(xi-nxi)/jointWPercentage+0.2);}
else {float brickColorSwitch=mod(floor(yi)+floor(xi),3.0);if (brickColorSwitch==0.0)
color=mix(color,vec3(0.33,0.33,0.33),0.3);else if (brickColorSwitch==2.0)
color=mix(color,vec3(0.11,0.11,0.11),0.3);}
gl_FragColor=vec4(color,1.0);}`;i.ShaderStore.ShadersStore[a]=o;let n={name:a,shader:o}},{"@babylonjs/core/Engines/shaderStore.js":"lEui9","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],hKMsz:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r);var i=e("./cloudProceduralTexture.js");s.exportAll(i,r)},{"./cloudProceduralTexture.js":"iYGd2","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],iYGd2:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"CloudProceduralTexture",()=>h);var i=e("@babylonjs/core/tslib.es6.js"),a=e("@babylonjs/core/Misc/decorators.js"),o=e("@babylonjs/core/Maths/math.color.js"),n=e("@babylonjs/core/Materials/Textures/Procedurals/proceduralTexture.js"),l=e("@babylonjs/core/Misc/typeStore.js");e("./cloudProceduralTexture.fragment.js");class h extends n.ProceduralTexture{constructor(e,t,r=null,s,i){super(e,t,"cloudProceduralTexture",r,s,i),this._skyColor=new o.Color4(.15,.68,1,1),this._cloudColor=new o.Color4(1,1,1,1),this._amplitude=1,this._numOctaves=4,this.updateShaderUniforms()}updateShaderUniforms(){this.setColor4("skyColor",this._skyColor),this.setColor4("cloudColor",this._cloudColor),this.setFloat("amplitude",this._amplitude),this.setInt("numOctaves",this._numOctaves)}get skyColor(){return this._skyColor}set skyColor(e){this._skyColor=e,this.updateShaderUniforms()}get cloudColor(){return this._cloudColor}set cloudColor(e){this._cloudColor=e,this.updateShaderUniforms()}get amplitude(){return this._amplitude}set amplitude(e){this._amplitude=e,this.updateShaderUniforms()}get numOctaves(){return this._numOctaves}set numOctaves(e){this._numOctaves=e,this.updateShaderUniforms()}serialize(){let e=(0,a.SerializationHelper).Serialize(this,super.serialize());return e.customType="BABYLON.CloudProceduralTexture",e}static Parse(e,t,r){return(0,a.SerializationHelper).Parse(()=>new h(e.name,e._size,t,void 0,e._generateMipMaps),e,t,r)}}(0,i.__decorate)([(0,a.serializeAsColor4)()],h.prototype,"skyColor",null),(0,i.__decorate)([(0,a.serializeAsColor4)()],h.prototype,"cloudColor",null),(0,i.__decorate)([(0,a.serialize)()],h.prototype,"amplitude",null),(0,i.__decorate)([(0,a.serialize)()],h.prototype,"numOctaves",null),(0,l.RegisterClass)("BABYLON.CloudProceduralTexture",h)},{"@babylonjs/core/tslib.es6.js":"8PXfl","@babylonjs/core/Misc/decorators.js":"1fqhD","@babylonjs/core/Maths/math.color.js":"78my4","@babylonjs/core/Materials/Textures/Procedurals/proceduralTexture.js":"aDJW1","@babylonjs/core/Misc/typeStore.js":"lABbx","./cloudProceduralTexture.fragment.js":"cz3x7","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],cz3x7:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"cloudProceduralTexturePixelShader",()=>n);var i=e("@babylonjs/core/Engines/shaderStore.js");let a="cloudProceduralTexturePixelShader",o=`precision highp float;varying vec2 vUV;uniform vec4 skyColor;uniform vec4 cloudColor;uniform float amplitude;uniform int numOctaves;float rand(vec2 n) {return fract(cos(dot(n,vec2(12.9898,4.1414)))*43758.5453);}
float noise(vec2 n) {const vec2 d=vec2(0.0,1.0);vec2 b=floor(n),f=smoothstep(vec2(0.0),vec2(1.0),fract(n));return mix(mix(rand(b),rand(b+d.yx),f.x),mix(rand(b+d.xy),rand(b+d.yy),f.x),f.y);}
float fbm(vec2 n) {float total=0.0,ampl=amplitude;
#ifdef WEBGL2
for (int i=0; i<numOctaves; i++) {
#else
for (int i=0; i<4; i++) {
#endif
total+=noise(n)*ampl;n+=n;ampl*=0.5;}
return total;}
void main() {vec2 p=vUV*12.0;vec4 c=mix(skyColor,cloudColor,fbm(p));gl_FragColor=c;}
`;i.ShaderStore.ShadersStore[a]=o;let n={name:a,shader:o}},{"@babylonjs/core/Engines/shaderStore.js":"lEui9","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"8CHLM":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r);var i=e("./fireProceduralTexture.js");s.exportAll(i,r)},{"./fireProceduralTexture.js":"583kw","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"583kw":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"FireProceduralTexture",()=>u);var i=e("@babylonjs/core/tslib.es6.js"),a=e("@babylonjs/core/Misc/decorators.js"),o=e("@babylonjs/core/Maths/math.vector.js"),n=e("@babylonjs/core/Maths/math.color.js"),l=e("@babylonjs/core/Materials/Textures/Procedurals/proceduralTexture.js"),h=e("@babylonjs/core/Misc/typeStore.js");e("./fireProceduralTexture.fragment.js");class u extends l.ProceduralTexture{constructor(e,t,r=null,s,i){super(e,t,"fireProceduralTexture",r,s,i),this._time=0,this._speed=new o.Vector2(.5,.3),this._autoGenerateTime=!0,this._alphaThreshold=.5,this._fireColors=u.RedFireColors,this.updateShaderUniforms()}updateShaderUniforms(){this.setFloat("time",this._time),this.setVector2("speed",this._speed),this.setColor3("c1",this._fireColors[0]),this.setColor3("c2",this._fireColors[1]),this.setColor3("c3",this._fireColors[2]),this.setColor3("c4",this._fireColors[3]),this.setColor3("c5",this._fireColors[4]),this.setColor3("c6",this._fireColors[5]),this.setFloat("alphaThreshold",this._alphaThreshold)}render(e){let t=this.getScene();this._autoGenerateTime&&t&&(this._time+=.03*t.getAnimationRatio(),this.updateShaderUniforms()),super.render(e)}static get PurpleFireColors(){return[new n.Color3(.5,0,1),new n.Color3(.9,0,1),new n.Color3(.2,0,1),new n.Color3(1,.9,1),new n.Color3(.1,.1,1),new n.Color3(.9,.9,1)]}static get GreenFireColors(){return[new n.Color3(.5,1,0),new n.Color3(.5,1,0),new n.Color3(.3,.4,0),new n.Color3(.5,1,0),new n.Color3(.2,0,0),new n.Color3(.5,1,0)]}static get RedFireColors(){return[new n.Color3(.5,0,.1),new n.Color3(.9,0,0),new n.Color3(.2,0,0),new n.Color3(1,.9,0),new n.Color3(.1,.1,.1),new n.Color3(.9,.9,.9)]}static get BlueFireColors(){return[new n.Color3(.1,0,.5),new n.Color3(0,0,.5),new n.Color3(.1,0,.2),new n.Color3(0,0,1),new n.Color3(.1,.2,.3),new n.Color3(0,.2,.9)]}get autoGenerateTime(){return this._autoGenerateTime}set autoGenerateTime(e){this._autoGenerateTime=e}get fireColors(){return this._fireColors}set fireColors(e){this._fireColors=e,this.updateShaderUniforms()}get time(){return this._time}set time(e){this._time=e,this.updateShaderUniforms()}get speed(){return this._speed}set speed(e){this._speed=e,this.updateShaderUniforms()}get alphaThreshold(){return this._alphaThreshold}set alphaThreshold(e){this._alphaThreshold=e,this.updateShaderUniforms()}serialize(){let e=(0,a.SerializationHelper).Serialize(this,super.serialize());e.customType="BABYLON.FireProceduralTexture",e.fireColors=[];for(let t=0;t<this._fireColors.length;t++)e.fireColors.push(this._fireColors[t].asArray());return e}static Parse(e,t,r){let s=(0,a.SerializationHelper).Parse(()=>new u(e.name,e._size,t,void 0,e._generateMipMaps),e,t,r),i=[];for(let t=0;t<e.fireColors.length;t++)i.push((0,n.Color3).FromArray(e.fireColors[t]));return s.fireColors=i,s}}(0,i.__decorate)([(0,a.serialize)()],u.prototype,"autoGenerateTime",null),(0,i.__decorate)([(0,a.serialize)()],u.prototype,"time",null),(0,i.__decorate)([(0,a.serializeAsVector2)()],u.prototype,"speed",null),(0,i.__decorate)([(0,a.serialize)()],u.prototype,"alphaThreshold",null),(0,h.RegisterClass)("BABYLON.FireProceduralTexture",u)},{"@babylonjs/core/tslib.es6.js":"8PXfl","@babylonjs/core/Misc/decorators.js":"1fqhD","@babylonjs/core/Maths/math.vector.js":"h33gd","@babylonjs/core/Maths/math.color.js":"78my4","@babylonjs/core/Materials/Textures/Procedurals/proceduralTexture.js":"aDJW1","@babylonjs/core/Misc/typeStore.js":"lABbx","./fireProceduralTexture.fragment.js":"gBuV3","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],gBuV3:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"fireProceduralTexturePixelShader",()=>n);var i=e("@babylonjs/core/Engines/shaderStore.js");let a="fireProceduralTexturePixelShader",o=`precision highp float;uniform float time;uniform vec3 c1;uniform vec3 c2;uniform vec3 c3;uniform vec3 c4;uniform vec3 c5;uniform vec3 c6;uniform vec2 speed;uniform float shift;uniform float alphaThreshold;varying vec2 vUV;float rand(vec2 n) {return fract(cos(dot(n,vec2(12.9898,4.1414)))*43758.5453);}
float noise(vec2 n) {const vec2 d=vec2(0.0,1.0);vec2 b=floor(n),f=smoothstep(vec2(0.0),vec2(1.0),fract(n));return mix(mix(rand(b),rand(b+d.yx),f.x),mix(rand(b+d.xy),rand(b+d.yy),f.x),f.y);}
float fbm(vec2 n) {float total=0.0,amplitude=1.0;for (int i=0; i<4; i++) {total+=noise(n)*amplitude;n+=n;amplitude*=0.5;}
return total;}
void main() {vec2 p=vUV*8.0;float q=fbm(p-time*0.1);vec2 r=vec2(fbm(p+q+time*speed.x-p.x-p.y),fbm(p+q-time*speed.y));vec3 c=mix(c1,c2,fbm(p+r))+mix(c3,c4,r.x)-mix(c5,c6,r.y);vec3 color=c*cos(shift*vUV.y);float luminance=dot(color.rgb,vec3(0.3,0.59,0.11));gl_FragColor=vec4(color,luminance*alphaThreshold+(1.0-alphaThreshold));}`;i.ShaderStore.ShadersStore[a]=o;let n={name:a,shader:o}},{"@babylonjs/core/Engines/shaderStore.js":"lEui9","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],iFSct:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r);var i=e("./grassProceduralTexture.js");s.exportAll(i,r)},{"./grassProceduralTexture.js":"gqSRW","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],gqSRW:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"GrassProceduralTexture",()=>h);var i=e("@babylonjs/core/tslib.es6.js"),a=e("@babylonjs/core/Misc/decorators.js"),o=e("@babylonjs/core/Maths/math.color.js"),n=e("@babylonjs/core/Materials/Textures/Procedurals/proceduralTexture.js"),l=e("@babylonjs/core/Misc/typeStore.js");e("./grassProceduralTexture.fragment.js");class h extends n.ProceduralTexture{constructor(e,t,r=null,s,i){super(e,t,"grassProceduralTexture",r,s,i),this._groundColor=new o.Color3(1,1,1),this._grassColors=[new o.Color3(.29,.38,.02),new o.Color3(.36,.49,.09),new o.Color3(.51,.6,.28)],this.updateShaderUniforms()}updateShaderUniforms(){this.setColor3("herb1Color",this._grassColors[0]),this.setColor3("herb2Color",this._grassColors[1]),this.setColor3("herb3Color",this._grassColors[2]),this.setColor3("groundColor",this._groundColor)}get grassColors(){return this._grassColors}set grassColors(e){this._grassColors=e,this.updateShaderUniforms()}get groundColor(){return this._groundColor}set groundColor(e){this._groundColor=e,this.updateShaderUniforms()}serialize(){let e=(0,a.SerializationHelper).Serialize(this,super.serialize());e.customType="BABYLON.GrassProceduralTexture",e.grassColors=[];for(let t=0;t<this._grassColors.length;t++)e.grassColors.push(this._grassColors[t].asArray());return e}static Parse(e,t,r){let s=(0,a.SerializationHelper).Parse(()=>new h(e.name,e._size,t,void 0,e._generateMipMaps),e,t,r),i=[];for(let t=0;t<e.grassColors.length;t++)i.push((0,o.Color3).FromArray(e.grassColors[t]));return s.grassColors=i,s}}(0,i.__decorate)([(0,a.serializeAsColor3)()],h.prototype,"groundColor",null),(0,l.RegisterClass)("BABYLON.GrassProceduralTexture",h)},{"@babylonjs/core/tslib.es6.js":"8PXfl","@babylonjs/core/Misc/decorators.js":"1fqhD","@babylonjs/core/Maths/math.color.js":"78my4","@babylonjs/core/Materials/Textures/Procedurals/proceduralTexture.js":"aDJW1","@babylonjs/core/Misc/typeStore.js":"lABbx","./grassProceduralTexture.fragment.js":"hPc8Y","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],hPc8Y:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"grassProceduralTexturePixelShader",()=>n);var i=e("@babylonjs/core/Engines/shaderStore.js");let a="grassProceduralTexturePixelShader",o=`precision highp float;varying vec2 vPosition;varying vec2 vUV;uniform vec3 herb1Color;uniform vec3 herb2Color;uniform vec3 herb3Color;uniform vec3 groundColor;float rand(vec2 n) {return fract(cos(dot(n,vec2(12.9898,4.1414)))*43758.5453);}
float noise(vec2 n) {const vec2 d=vec2(0.0,1.0);vec2 b=floor(n),f=smoothstep(vec2(0.0),vec2(1.0),fract(n));return mix(mix(rand(b),rand(b+d.yx),f.x),mix(rand(b+d.xy),rand(b+d.yy),f.x),f.y);}
float fbm(vec2 n) {float total=0.0,amplitude=1.0;for (int i=0; i<4; i++) {total+=noise(n)*amplitude;n+=n;amplitude*=0.5;}
return total;}
#define CUSTOM_FRAGMENT_DEFINITIONS
void main(void) {
#define CUSTOM_FRAGMENT_MAIN_BEGIN
vec3 color=mix(groundColor,herb1Color,rand(gl_FragCoord.xy*4.0));color=mix(color,herb2Color,rand(gl_FragCoord.xy*8.0));color=mix(color,herb3Color,rand(gl_FragCoord.xy));color=mix(color,herb1Color,fbm(gl_FragCoord.xy*16.0));gl_FragColor=vec4(color,1.0);
#define CUSTOM_FRAGMENT_MAIN_END
}`;i.ShaderStore.ShadersStore[a]=o;let n={name:a,shader:o}},{"@babylonjs/core/Engines/shaderStore.js":"lEui9","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],iiKFF:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r);var i=e("./marbleProceduralTexture.js");s.exportAll(i,r)},{"./marbleProceduralTexture.js":"aHn8e","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],aHn8e:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"MarbleProceduralTexture",()=>h);var i=e("@babylonjs/core/tslib.es6.js"),a=e("@babylonjs/core/Misc/decorators.js"),o=e("@babylonjs/core/Maths/math.color.js"),n=e("@babylonjs/core/Materials/Textures/Procedurals/proceduralTexture.js"),l=e("@babylonjs/core/Misc/typeStore.js");e("./marbleProceduralTexture.fragment.js");class h extends n.ProceduralTexture{constructor(e,t,r=null,s,i){super(e,t,"marbleProceduralTexture",r,s,i),this._numberOfTilesHeight=3,this._numberOfTilesWidth=3,this._amplitude=9,this._jointColor=new o.Color3(.72,.72,.72),this.updateShaderUniforms()}updateShaderUniforms(){this.setFloat("numberOfTilesHeight",this._numberOfTilesHeight),this.setFloat("numberOfTilesWidth",this._numberOfTilesWidth),this.setFloat("amplitude",this._amplitude),this.setColor3("jointColor",this._jointColor)}get numberOfTilesHeight(){return this._numberOfTilesHeight}set numberOfTilesHeight(e){this._numberOfTilesHeight=e,this.updateShaderUniforms()}get amplitude(){return this._amplitude}set amplitude(e){this._amplitude=e,this.updateShaderUniforms()}get numberOfTilesWidth(){return this._numberOfTilesWidth}set numberOfTilesWidth(e){this._numberOfTilesWidth=e,this.updateShaderUniforms()}get jointColor(){return this._jointColor}set jointColor(e){this._jointColor=e,this.updateShaderUniforms()}serialize(){let e=(0,a.SerializationHelper).Serialize(this,super.serialize());return e.customType="BABYLON.MarbleProceduralTexture",e}static Parse(e,t,r){return(0,a.SerializationHelper).Parse(()=>new h(e.name,e._size,t,void 0,e._generateMipMaps),e,t,r)}}(0,i.__decorate)([(0,a.serialize)()],h.prototype,"numberOfTilesHeight",null),(0,i.__decorate)([(0,a.serialize)()],h.prototype,"amplitude",null),(0,i.__decorate)([(0,a.serialize)()],h.prototype,"numberOfTilesWidth",null),(0,i.__decorate)([(0,a.serialize)()],h.prototype,"jointColor",null),(0,l.RegisterClass)("BABYLON.MarbleProceduralTexture",h)},{"@babylonjs/core/tslib.es6.js":"8PXfl","@babylonjs/core/Misc/decorators.js":"1fqhD","@babylonjs/core/Maths/math.color.js":"78my4","@babylonjs/core/Materials/Textures/Procedurals/proceduralTexture.js":"aDJW1","@babylonjs/core/Misc/typeStore.js":"lABbx","./marbleProceduralTexture.fragment.js":"47hD6","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"47hD6":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"marbleProceduralTexturePixelShader",()=>n);var i=e("@babylonjs/core/Engines/shaderStore.js");let a="marbleProceduralTexturePixelShader",o=`precision highp float;varying vec2 vPosition;varying vec2 vUV;uniform float numberOfTilesHeight;uniform float numberOfTilesWidth;uniform float amplitude;uniform vec3 marbleColor;uniform vec3 jointColor;const vec3 tileSize=vec3(1.1,1.0,1.1);const vec3 tilePct=vec3(0.98,1.0,0.98);float rand(vec2 n) {return fract(cos(dot(n,vec2(12.9898,4.1414)))*43758.5453);}
float noise(vec2 n) {const vec2 d=vec2(0.0,1.0);vec2 b=floor(n),f=smoothstep(vec2(0.0),vec2(1.0),fract(n));return mix(mix(rand(b),rand(b+d.yx),f.x),mix(rand(b+d.xy),rand(b+d.yy),f.x),f.y);}
float turbulence(vec2 P)
{float val=0.0;float freq=1.0;for (int i=0; i<4; i++)
{val+=abs(noise(P*freq)/freq);freq*=2.07;}
return val;}
float roundF(float number){return sign(number)*floor(abs(number)+0.5);}
vec3 marble_color(float x)
{vec3 col;x=0.5*(x+1.);x=sqrt(x); 
x=sqrt(x);x=sqrt(x);col=vec3(.2+.75*x); 
col.b*=0.95; 
return col;}
void main()
{float brickW=1.0/numberOfTilesWidth;float brickH=1.0/numberOfTilesHeight;float jointWPercentage=0.01;float jointHPercentage=0.01;vec3 color=marbleColor;float yi=vUV.y/brickH;float nyi=roundF(yi);float xi=vUV.x/brickW;if (mod(floor(yi),2.0)==0.0){xi=xi-0.5;}
float nxi=roundF(xi);vec2 brickvUV=vec2((xi-floor(xi))/brickH,(yi-floor(yi))/brickW);if (yi<nyi+jointHPercentage && yi>nyi-jointHPercentage){color=mix(jointColor,vec3(0.37,0.25,0.25),(yi-nyi)/jointHPercentage+0.2);}
else if (xi<nxi+jointWPercentage && xi>nxi-jointWPercentage){color=mix(jointColor,vec3(0.44,0.44,0.44),(xi-nxi)/jointWPercentage+0.2);}
else {float t=6.28*brickvUV.x/(tileSize.x+noise(vec2(vUV)*6.0));t+=amplitude*turbulence(brickvUV.xy);t=sin(t);color=marble_color(t);}
gl_FragColor=vec4(color,0.0);}`;i.ShaderStore.ShadersStore[a]=o;let n={name:a,shader:o}},{"@babylonjs/core/Engines/shaderStore.js":"lEui9","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],jW3A5:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r);var i=e("./normalMapProceduralTexture.js");s.exportAll(i,r)},{"./normalMapProceduralTexture.js":"1Z0Xc","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"1Z0Xc":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"NormalMapProceduralTexture",()=>l);var i=e("@babylonjs/core/tslib.es6.js"),a=e("@babylonjs/core/Misc/decorators.js"),o=e("@babylonjs/core/Materials/Textures/Procedurals/proceduralTexture.js"),n=e("@babylonjs/core/Misc/typeStore.js");e("./normalMapProceduralTexture.fragment.js");class l extends o.ProceduralTexture{constructor(e,t,r=null,s,i){super(e,t,"normalMapProceduralTexture",r,s,i),this.updateShaderUniforms()}updateShaderUniforms(){this.setTexture("baseSampler",this._baseTexture),this.setFloat("size",this.getRenderSize())}render(e){super.render(e)}resize(e,t){super.resize(e,t),this.updateShaderUniforms()}isReady(){return!!(this._baseTexture&&this._baseTexture.isReady())&&super.isReady()}get baseTexture(){return this._baseTexture}set baseTexture(e){this._baseTexture=e,this.updateShaderUniforms()}serialize(){let e=(0,a.SerializationHelper).Serialize(this,super.serialize());return e.customType="BABYLON.NormalMapProceduralTexture",e}static Parse(e,t,r){return(0,a.SerializationHelper).Parse(()=>new l(e.name,e._size,t,void 0,e._generateMipMaps),e,t,r)}}(0,i.__decorate)([(0,a.serializeAsTexture)()],l.prototype,"baseTexture",null),(0,n.RegisterClass)("BABYLON.NormalMapProceduralTexture",l)},{"@babylonjs/core/tslib.es6.js":"8PXfl","@babylonjs/core/Misc/decorators.js":"1fqhD","@babylonjs/core/Materials/Textures/Procedurals/proceduralTexture.js":"aDJW1","@babylonjs/core/Misc/typeStore.js":"lABbx","./normalMapProceduralTexture.fragment.js":"hWSoE","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],hWSoE:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"normalMapProceduralTexturePixelShader",()=>n);var i=e("@babylonjs/core/Engines/shaderStore.js");let a="normalMapProceduralTexturePixelShader",o=`precision highp float;uniform sampler2D baseSampler;uniform float size;varying vec2 vUV;const vec3 LUMA_COEFFICIENT=vec3(0.2126,0.7152,0.0722);float lumaAtCoord(vec2 coord)
{vec3 pixel=texture2D(baseSampler,coord).rgb;float luma=dot(pixel,LUMA_COEFFICIENT);return luma;}
void main()
{float lumaU0=lumaAtCoord(vUV+vec2(-1.0, 0.0)/size);float lumaU1=lumaAtCoord(vUV+vec2( 1.0, 0.0)/size);float lumaV0=lumaAtCoord(vUV+vec2( 0.0,-1.0)/size);float lumaV1=lumaAtCoord(vUV+vec2( 0.0, 1.0)/size);vec2 slope=(vec2(lumaU0-lumaU1,lumaV0-lumaV1)+1.0)*0.5;gl_FragColor=vec4(slope,1.0,1.0);}
`;i.ShaderStore.ShadersStore[a]=o;let n={name:a,shader:o}},{"@babylonjs/core/Engines/shaderStore.js":"lEui9","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],lc91D:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r);var i=e("./perlinNoiseProceduralTexture.js");s.exportAll(i,r)},{"./perlinNoiseProceduralTexture.js":"f9vqi","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],f9vqi:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"PerlinNoiseProceduralTexture",()=>l);var i=e("@babylonjs/core/tslib.es6.js"),a=e("@babylonjs/core/Misc/decorators.js"),o=e("@babylonjs/core/Materials/Textures/Procedurals/proceduralTexture.js"),n=e("@babylonjs/core/Misc/typeStore.js");e("./perlinNoiseProceduralTexture.fragment.js");class l extends o.ProceduralTexture{constructor(e,t,r=null,s,i){super(e,t,"perlinNoiseProceduralTexture",r,s,i),this.time=0,this.timeScale=1,this.translationSpeed=1,this._currentTranslation=0,this.updateShaderUniforms()}updateShaderUniforms(){this.setFloat("size",this.getRenderSize());let e=this.getScene();if(!e)return;let t=e.getEngine().getDeltaTime();this.time+=t,this.setFloat("time",this.time*this.timeScale/1e3),this._currentTranslation+=t*this.translationSpeed/1e3,this.setFloat("translationSpeed",this._currentTranslation)}render(e){this.updateShaderUniforms(),super.render(e)}resize(e,t){super.resize(e,t)}serialize(){let e=(0,a.SerializationHelper).Serialize(this,super.serialize());return e.customType="BABYLON.PerlinNoiseProceduralTexture",e}static Parse(e,t,r){return(0,a.SerializationHelper).Parse(()=>new l(e.name,e._size,t,void 0,e._generateMipMaps),e,t,r)}}(0,i.__decorate)([(0,a.serialize)()],l.prototype,"time",void 0),(0,i.__decorate)([(0,a.serialize)()],l.prototype,"timeScale",void 0),(0,i.__decorate)([(0,a.serialize)()],l.prototype,"translationSpeed",void 0),(0,n.RegisterClass)("BABYLON.PerlinNoiseProceduralTexture",l)},{"@babylonjs/core/tslib.es6.js":"8PXfl","@babylonjs/core/Misc/decorators.js":"1fqhD","@babylonjs/core/Materials/Textures/Procedurals/proceduralTexture.js":"aDJW1","@babylonjs/core/Misc/typeStore.js":"lABbx","./perlinNoiseProceduralTexture.fragment.js":"lll8p","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],lll8p:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"perlinNoiseProceduralTexturePixelShader",()=>n);var i=e("@babylonjs/core/Engines/shaderStore.js");let a="perlinNoiseProceduralTexturePixelShader",o=`precision highp float;uniform float size;uniform float time;uniform float translationSpeed;varying vec2 vUV;float r(float n)
{return fract(cos(n*89.42)*343.42);}
vec2 r(vec2 n)
{return vec2(r(n.x*23.62-300.0+n.y*34.35),r(n.x*45.13+256.0+n.y*38.89)); }
float worley(vec2 n,float s)
{float dis=1.0;for(int x=-1; x<=1; x++)
{for(int y=-1; y<=1; y++)
{vec2 p=floor(n/s)+vec2(x,y);float d=length(r(p)+vec2(x,y)-fract(n/s));if (dis>d)
dis=d;}}
return 1.0-dis;}
vec3 hash33(vec3 p3)
{p3=fract(p3*vec3(0.1031,0.11369,0.13787));p3+=dot(p3,p3.yxz+19.19);return -1.0+2.0*fract(vec3((p3.x+p3.y)*p3.z,(p3.x+p3.z)*p3.y,(p3.y+p3.z)*p3.x));}
float perlinNoise(vec3 p)
{vec3 pi=floor(p);vec3 pf=p-pi;vec3 w=pf*pf*(3.0-2.0*pf);return mix(
mix(
mix(
dot(pf-vec3(0,0,0),hash33(pi+vec3(0,0,0))),
dot(pf-vec3(1,0,0),hash33(pi+vec3(1,0,0))),
w.x
),
mix(
dot(pf-vec3(0,0,1),hash33(pi+vec3(0,0,1))),
dot(pf-vec3(1,0,1),hash33(pi+vec3(1,0,1))),
w.x
),
w.z
),
mix(
mix(
dot(pf-vec3(0,1,0),hash33(pi+vec3(0,1,0))),
dot(pf-vec3(1,1,0),hash33(pi+vec3(1,1,0))),
w.x
),
mix(
dot(pf-vec3(0,1,1),hash33(pi+vec3(0,1,1))),
dot(pf-vec3(1,1,1),hash33(pi+vec3(1,1,1))),
w.x
),
w.z
),
w.y
);}
#define CUSTOM_FRAGMENT_DEFINITIONS
void main(void)
{vec2 uv=gl_FragCoord.xy+translationSpeed;float dis=(
1.0+perlinNoise(vec3(uv/vec2(size,size),time*0.05)*8.0))
* (1.0+(worley(uv,32.0)+ 0.5*worley(2.0*uv,32.0)+0.25*worley(4.0*uv,32.0))
);gl_FragColor=vec4(vec3(dis/4.0),1.0);}
`;i.ShaderStore.ShadersStore[a]=o;let n={name:a,shader:o}},{"@babylonjs/core/Engines/shaderStore.js":"lEui9","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"1qN8h":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r);var i=e("./roadProceduralTexture.js");s.exportAll(i,r)},{"./roadProceduralTexture.js":"9l4cQ","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"9l4cQ":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"RoadProceduralTexture",()=>h);var i=e("@babylonjs/core/tslib.es6.js"),a=e("@babylonjs/core/Misc/decorators.js"),o=e("@babylonjs/core/Maths/math.color.js"),n=e("@babylonjs/core/Materials/Textures/Procedurals/proceduralTexture.js"),l=e("@babylonjs/core/Misc/typeStore.js");e("./roadProceduralTexture.fragment.js");class h extends n.ProceduralTexture{constructor(e,t,r=null,s,i){super(e,t,"roadProceduralTexture",r,s,i),this._roadColor=new o.Color3(.53,.53,.53),this.updateShaderUniforms()}updateShaderUniforms(){this.setColor3("roadColor",this._roadColor)}get roadColor(){return this._roadColor}set roadColor(e){this._roadColor=e,this.updateShaderUniforms()}serialize(){let e=(0,a.SerializationHelper).Serialize(this,super.serialize());return e.customType="BABYLON.RoadProceduralTexture",e}static Parse(e,t,r){return(0,a.SerializationHelper).Parse(()=>new h(e.name,e._size,t,void 0,e._generateMipMaps),e,t,r)}}(0,i.__decorate)([(0,a.serializeAsColor3)()],h.prototype,"roadColor",null),(0,l.RegisterClass)("BABYLON.RoadProceduralTexture",h)},{"@babylonjs/core/tslib.es6.js":"8PXfl","@babylonjs/core/Misc/decorators.js":"1fqhD","@babylonjs/core/Maths/math.color.js":"78my4","@babylonjs/core/Materials/Textures/Procedurals/proceduralTexture.js":"aDJW1","@babylonjs/core/Misc/typeStore.js":"lABbx","./roadProceduralTexture.fragment.js":"8yUCI","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"8yUCI":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"roadProceduralTexturePixelShader",()=>n);var i=e("@babylonjs/core/Engines/shaderStore.js");let a="roadProceduralTexturePixelShader",o=`precision highp float;varying vec2 vUV; 
uniform vec3 roadColor;float rand(vec2 n) {return fract(cos(dot(n,vec2(12.9898,4.1414)))*43758.5453);}
float noise(vec2 n) {const vec2 d=vec2(0.0,1.0);vec2 b=floor(n),f=smoothstep(vec2(0.0),vec2(1.0),fract(n));return mix(mix(rand(b),rand(b+d.yx),f.x),mix(rand(b+d.xy),rand(b+d.yy),f.x),f.y);}
float fbm(vec2 n) {float total=0.0,amplitude=1.0;for (int i=0; i<4; i++) {total+=noise(n)*amplitude;n+=n;amplitude*=0.5;}
return total;}
#define CUSTOM_FRAGMENT_DEFINITIONS
void main(void) {
#define CUSTOM_FRAGMENT_MAIN_BEGIN
float ratioy=mod(gl_FragCoord.y*100.0 ,fbm(vUV*2.0));vec3 color=roadColor*ratioy;gl_FragColor=vec4(color,1.0);
#define CUSTOM_FRAGMENT_MAIN_END
}`;i.ShaderStore.ShadersStore[a]=o;let n={name:a,shader:o}},{"@babylonjs/core/Engines/shaderStore.js":"lEui9","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],fTpJZ:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r);var i=e("./starfieldProceduralTexture.js");s.exportAll(i,r)},{"./starfieldProceduralTexture.js":"e3n7k","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],e3n7k:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"StarfieldProceduralTexture",()=>l);var i=e("@babylonjs/core/tslib.es6.js"),a=e("@babylonjs/core/Misc/decorators.js"),o=e("@babylonjs/core/Materials/Textures/Procedurals/proceduralTexture.js"),n=e("@babylonjs/core/Misc/typeStore.js");e("./starfieldProceduralTexture.fragment.js");class l extends o.ProceduralTexture{constructor(e,t,r=null,s,i){super(e,t,"starfieldProceduralTexture",r,s,i),this._time=1,this._alpha=.5,this._beta=.8,this._zoom=.8,this._formuparam=.53,this._stepsize=.1,this._tile=.85,this._brightness=.0015,this._darkmatter=.4,this._distfading=.73,this._saturation=.85,this.updateShaderUniforms()}updateShaderUniforms(){this.setFloat("time",this._time),this.setFloat("alpha",this._alpha),this.setFloat("beta",this._beta),this.setFloat("zoom",this._zoom),this.setFloat("formuparam",this._formuparam),this.setFloat("stepsize",this._stepsize),this.setFloat("tile",this._tile),this.setFloat("brightness",this._brightness),this.setFloat("darkmatter",this._darkmatter),this.setFloat("distfading",this._distfading),this.setFloat("saturation",this._saturation)}get time(){return this._time}set time(e){this._time=e,this.updateShaderUniforms()}get alpha(){return this._alpha}set alpha(e){this._alpha=e,this.updateShaderUniforms()}get beta(){return this._beta}set beta(e){this._beta=e,this.updateShaderUniforms()}get formuparam(){return this._formuparam}set formuparam(e){this._formuparam=e,this.updateShaderUniforms()}get stepsize(){return this._stepsize}set stepsize(e){this._stepsize=e,this.updateShaderUniforms()}get zoom(){return this._zoom}set zoom(e){this._zoom=e,this.updateShaderUniforms()}get tile(){return this._tile}set tile(e){this._tile=e,this.updateShaderUniforms()}get brightness(){return this._brightness}set brightness(e){this._brightness=e,this.updateShaderUniforms()}get darkmatter(){return this._darkmatter}set darkmatter(e){this._darkmatter=e,this.updateShaderUniforms()}get distfading(){return this._distfading}set distfading(e){this._distfading=e,this.updateShaderUniforms()}get saturation(){return this._saturation}set saturation(e){this._saturation=e,this.updateShaderUniforms()}serialize(){let e=(0,a.SerializationHelper).Serialize(this,super.serialize());return e.customType="BABYLON.StarfieldProceduralTexture",e}static Parse(e,t,r){return(0,a.SerializationHelper).Parse(()=>new l(e.name,e._size,t,void 0,e._generateMipMaps),e,t,r)}}(0,i.__decorate)([(0,a.serialize)()],l.prototype,"time",null),(0,i.__decorate)([(0,a.serialize)()],l.prototype,"alpha",null),(0,i.__decorate)([(0,a.serialize)()],l.prototype,"beta",null),(0,i.__decorate)([(0,a.serialize)()],l.prototype,"formuparam",null),(0,i.__decorate)([(0,a.serialize)()],l.prototype,"stepsize",null),(0,i.__decorate)([(0,a.serialize)()],l.prototype,"zoom",null),(0,i.__decorate)([(0,a.serialize)()],l.prototype,"tile",null),(0,i.__decorate)([(0,a.serialize)()],l.prototype,"brightness",null),(0,i.__decorate)([(0,a.serialize)()],l.prototype,"darkmatter",null),(0,i.__decorate)([(0,a.serialize)()],l.prototype,"distfading",null),(0,i.__decorate)([(0,a.serialize)()],l.prototype,"saturation",null),(0,n.RegisterClass)("BABYLON.StarfieldProceduralTexture",l)},{"@babylonjs/core/tslib.es6.js":"8PXfl","@babylonjs/core/Misc/decorators.js":"1fqhD","@babylonjs/core/Materials/Textures/Procedurals/proceduralTexture.js":"aDJW1","@babylonjs/core/Misc/typeStore.js":"lABbx","./starfieldProceduralTexture.fragment.js":"6flTj","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"6flTj":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"starfieldProceduralTexturePixelShader",()=>n);var i=e("@babylonjs/core/Engines/shaderStore.js");let a="starfieldProceduralTexturePixelShader",o=`precision highp float;
#define volsteps 20
#define iterations 15
varying vec2 vPosition;varying vec2 vUV;uniform float time;uniform float alpha;uniform float beta;uniform float zoom;uniform float formuparam;uniform float stepsize;uniform float tile;uniform float brightness;uniform float darkmatter;uniform float distfading;uniform float saturation;void main()
{vec3 dir=vec3(vUV*zoom,1.);float localTime=time*0.0001;mat2 rot1=mat2(cos(alpha),sin(alpha),-sin(alpha),cos(alpha));mat2 rot2=mat2(cos(beta),sin(beta),-sin(beta),cos(beta));dir.xz*=rot1;dir.xy*=rot2;vec3 from_=vec3(1.,.5,0.5);from_+=vec3(-2.,localTime*2.,localTime);from_.xz*=rot1;from_.xy*=rot2;float s=0.1,fade=1.;vec3 v=vec3(0.);for (int r=0; r<volsteps; r++) {vec3 p=from_+s*dir*.5;p=abs(vec3(tile)-mod(p,vec3(tile*2.))); 
float pa,a=pa=0.;for (int i=0; i<iterations; i++) {p=abs(p)/dot(p,p)-formuparam; 
a+=abs(length(p)-pa); 
pa=length(p);}
float dm=max(0.,darkmatter-a*a*.001); 
a*=a*a; 
if (r>6) fade*=1.-dm; 
v+=fade;v+=vec3(s,s*s,s*s*s*s)*a*brightness*fade; 
fade*=distfading; 
s+=stepsize;}
v=mix(vec3(length(v)),v,saturation); 
gl_FragColor=vec4(v*.01,1.);}`;i.ShaderStore.ShadersStore[a]=o;let n={name:a,shader:o}},{"@babylonjs/core/Engines/shaderStore.js":"lEui9","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],ixz6j:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r);var i=e("./woodProceduralTexture.js");s.exportAll(i,r)},{"./woodProceduralTexture.js":"cLxNF","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],cLxNF:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"WoodProceduralTexture",()=>h);var i=e("@babylonjs/core/tslib.es6.js"),a=e("@babylonjs/core/Misc/decorators.js"),o=e("@babylonjs/core/Maths/math.color.js"),n=e("@babylonjs/core/Materials/Textures/Procedurals/proceduralTexture.js"),l=e("@babylonjs/core/Misc/typeStore.js");e("./woodProceduralTexture.fragment.js");class h extends n.ProceduralTexture{constructor(e,t,r=null,s,i){super(e,t,"woodProceduralTexture",r,s,i),this._ampScale=100,this._woodColor=new o.Color3(.32,.17,.09),this.updateShaderUniforms()}updateShaderUniforms(){this.setFloat("ampScale",this._ampScale),this.setColor3("woodColor",this._woodColor)}get ampScale(){return this._ampScale}set ampScale(e){this._ampScale=e,this.updateShaderUniforms()}get woodColor(){return this._woodColor}set woodColor(e){this._woodColor=e,this.updateShaderUniforms()}serialize(){let e=(0,a.SerializationHelper).Serialize(this,super.serialize());return e.customType="BABYLON.WoodProceduralTexture",e}static Parse(e,t,r){return(0,a.SerializationHelper).Parse(()=>new h(e.name,e._size,t,void 0,e._generateMipMaps),e,t,r)}}(0,i.__decorate)([(0,a.serialize)()],h.prototype,"ampScale",null),(0,i.__decorate)([(0,a.serializeAsColor3)()],h.prototype,"woodColor",null),(0,l.RegisterClass)("BABYLON.WoodProceduralTexture",h)},{"@babylonjs/core/tslib.es6.js":"8PXfl","@babylonjs/core/Misc/decorators.js":"1fqhD","@babylonjs/core/Maths/math.color.js":"78my4","@babylonjs/core/Materials/Textures/Procedurals/proceduralTexture.js":"aDJW1","@babylonjs/core/Misc/typeStore.js":"lABbx","./woodProceduralTexture.fragment.js":"gtu3H","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],gtu3H:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"woodProceduralTexturePixelShader",()=>n);var i=e("@babylonjs/core/Engines/shaderStore.js");let a="woodProceduralTexturePixelShader",o=`precision highp float;varying vec2 vPosition;varying vec2 vUV;uniform float ampScale;uniform vec3 woodColor;float rand(vec2 n) {return fract(cos(dot(n,vec2(12.9898,4.1414)))*43758.5453);}
float noise(vec2 n) {const vec2 d=vec2(0.0,1.0);vec2 b=floor(n),f=smoothstep(vec2(0.0),vec2(1.0),fract(n));return mix(mix(rand(b),rand(b+d.yx),f.x),mix(rand(b+d.xy),rand(b+d.yy),f.x),f.y);}
float fbm(vec2 n) {float total=0.0,amplitude=1.0;for (int i=0; i<4; i++) {total+=noise(n)*amplitude;n+=n;amplitude*=0.5;}
return total;}
#define CUSTOM_FRAGMENT_DEFINITIONS
void main(void) {
#define CUSTOM_FRAGMENT_MAIN_BEGIN
float ratioy=mod(vUV.x*ampScale,2.0+fbm(vUV*0.8));vec3 wood=woodColor*ratioy;gl_FragColor=vec4(wood,1.0);
#define CUSTOM_FRAGMENT_MAIN_END
}`;i.ShaderStore.ShadersStore[a]=o;let n={name:a,shader:o}},{"@babylonjs/core/Engines/shaderStore.js":"lEui9","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],gHpFC:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"filters",()=>i.filters),e("@pixi/mixin-cache-as-bitmap"),e("@pixi/mixin-get-child-by-name"),e("@pixi/mixin-get-global-position");var i=e("./filters.mjs"),a=e("@pixi/accessibility");s.exportAll(a,r);var o=e("@pixi/app");s.exportAll(o,r);var n=e("@pixi/assets");s.exportAll(n,r);var l=e("@pixi/compressed-textures");s.exportAll(l,r);var h=e("@pixi/core");s.exportAll(h,r);var u=e("@pixi/display");s.exportAll(u,r);var c=e("@pixi/events");s.exportAll(c,r);var d=e("@pixi/extract");s.exportAll(d,r);var p=e("@pixi/filter-alpha");s.exportAll(p,r);var m=e("@pixi/filter-blur");s.exportAll(m,r);var f=e("@pixi/filter-color-matrix");s.exportAll(f,r);var _=e("@pixi/filter-displacement");s.exportAll(_,r);var g=e("@pixi/filter-fxaa");s.exportAll(g,r);var y=e("@pixi/filter-noise");s.exportAll(y,r);var x=e("@pixi/graphics");s.exportAll(x,r);var b=e("@pixi/mesh");s.exportAll(b,r);var T=e("@pixi/mesh-extras");s.exportAll(T,r);var v=e("@pixi/particle-container");s.exportAll(v,r);var A=e("@pixi/prepare");s.exportAll(A,r);var j=e("@pixi/sprite");s.exportAll(j,r);var E=e("@pixi/sprite-animated");s.exportAll(E,r);var S=e("@pixi/sprite-tiling");s.exportAll(S,r);var P=e("@pixi/spritesheet");s.exportAll(P,r);var M=e("@pixi/text");s.exportAll(M,r);var C=e("@pixi/text-bitmap");s.exportAll(C,r);var R=e("@pixi/text-html");s.exportAll(R,r)},{"@pixi/mixin-cache-as-bitmap":"iG14Q","@pixi/mixin-get-child-by-name":"3BGw4","@pixi/mixin-get-global-position":"gqiHX","./filters.mjs":"be09W","@pixi/accessibility":"6sAgn","@pixi/app":"hNdU2","@pixi/assets":"9DLSB","@pixi/compressed-textures":"fHYdX","@pixi/core":"dUVGa","@pixi/display":"2blAU","@pixi/events":"heHeF","@pixi/extract":"aoVXp","@pixi/filter-alpha":"6aNvl","@pixi/filter-blur":"lUrpe","@pixi/filter-color-matrix":"6Uhgl","@pixi/filter-displacement":"jwAWV","@pixi/filter-fxaa":"gmNGn","@pixi/filter-noise":"3OO5g","@pixi/graphics":"knKbC","@pixi/mesh":"hq9Ok","@pixi/mesh-extras":"aGfaJ","@pixi/particle-container":"g4mi1","@pixi/prepare":"fm6Ky","@pixi/sprite":"fbvJg","@pixi/sprite-animated":"hSxh4","@pixi/sprite-tiling":"1brhE","@pixi/spritesheet":"hrSyR","@pixi/text":"jmhqR","@pixi/text-bitmap":"5xwV0","@pixi/text-html":"5MZFj","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],iG14Q:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"CacheData",()=>l);var i=e("@pixi/core"),a=e("@pixi/display"),o=e("@pixi/sprite");let n=new i.Matrix;a.DisplayObject.prototype._cacheAsBitmap=!1,a.DisplayObject.prototype._cacheData=null,a.DisplayObject.prototype._cacheAsBitmapResolution=null,a.DisplayObject.prototype._cacheAsBitmapMultisample=null;class l{constructor(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}}Object.defineProperties(a.DisplayObject.prototype,{cacheAsBitmapResolution:{get(){return this._cacheAsBitmapResolution},set(e){e!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=e,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get(){return this._cacheAsBitmapMultisample},set(e){e!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=e,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get(){return this._cacheAsBitmap},set(e){let t;this._cacheAsBitmap!==e&&(this._cacheAsBitmap=e,e?(this._cacheData||(this._cacheData=new l),(t=this._cacheData).originalRender=this.render,t.originalRenderCanvas=this.renderCanvas,t.originalUpdateTransform=this.updateTransform,t.originalCalculateBounds=this.calculateBounds,t.originalGetLocalBounds=this.getLocalBounds,t.originalDestroy=this.destroy,t.originalContainsPoint=this.containsPoint,t.originalMask=this._mask,t.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):((t=this._cacheData).sprite&&this._destroyCachedDisplayObject(),this.render=t.originalRender,this.renderCanvas=t.originalRenderCanvas,this.calculateBounds=t.originalCalculateBounds,this.getLocalBounds=t.originalGetLocalBounds,this.destroy=t.originalDestroy,this.updateTransform=t.originalUpdateTransform,this.containsPoint=t.originalContainsPoint,this._mask=t.originalMask,this.filterArea=t.originalFilterArea))}}}),a.DisplayObject.prototype._renderCached=function(e){this.visible&&!(this.worldAlpha<=0)&&this.renderable&&(this._initCachedDisplayObject(e),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(e))},a.DisplayObject.prototype._initCachedDisplayObject=function(e){if(this._cacheData?.sprite)return;let t=this.alpha;this.alpha=1,e.batch.flush();let r=this.getLocalBounds(new i.Rectangle,!0);if(this.filters?.length){let e=this.filters[0].padding;r.pad(e)}let s=this.cacheAsBitmapResolution||e.resolution;r.ceil(s),r.width=Math.max(r.width,1/s),r.height=Math.max(r.height,1/s);let a=e.renderTexture.current,l=e.renderTexture.sourceFrame.clone(),h=e.renderTexture.destinationFrame.clone(),u=e.projection.transform,c=(0,i.RenderTexture).create({width:r.width,height:r.height,resolution:s,multisample:this.cacheAsBitmapMultisample??e.multisample}),d=`cacheAsBitmap_${(0,i.utils).uid()}`;this._cacheData.textureCacheId=d,(0,i.BaseTexture).addToCache(c.baseTexture,d),(0,i.Texture).addToCache(c,d);let p=this.transform.localTransform.copyTo(n).invert().translate(-r.x,-r.y);this.render=this._cacheData.originalRender,e.render(this,{renderTexture:c,clear:!0,transform:p,skipUpdateTransform:!1}),e.framebuffer.blit(),e.projection.transform=u,e.renderTexture.bind(a,l,h),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=t;let m=new o.Sprite(c);m.transform.worldTransform=this.transform.worldTransform,m.anchor.x=-(r.x/r.width),m.anchor.y=-(r.y/r.height),m.alpha=t,m._bounds=this._bounds,this._cacheData.sprite=m,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=m.containsPoint.bind(m)},a.DisplayObject.prototype._renderCachedCanvas=function(e){this.visible&&!(this.worldAlpha<=0)&&this.renderable&&(this._initCachedDisplayObjectCanvas(e),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(e))},a.DisplayObject.prototype._initCachedDisplayObjectCanvas=function(e){if(this._cacheData?.sprite)return;let t=this.getLocalBounds(new i.Rectangle,!0),r=this.alpha;this.alpha=1;let s=e.canvasContext.activeContext,a=e._projTransform,l=this.cacheAsBitmapResolution||e.resolution;t.ceil(l),t.width=Math.max(t.width,1/l),t.height=Math.max(t.height,1/l);let h=(0,i.RenderTexture).create({width:t.width,height:t.height,resolution:l}),u=`cacheAsBitmap_${(0,i.utils).uid()}`;this._cacheData.textureCacheId=u,(0,i.BaseTexture).addToCache(h.baseTexture,u),(0,i.Texture).addToCache(h,u),this.transform.localTransform.copyTo(n),n.invert(),n.tx-=t.x,n.ty-=t.y,this.renderCanvas=this._cacheData.originalRenderCanvas,e.render(this,{renderTexture:h,clear:!0,transform:n,skipUpdateTransform:!1}),e.canvasContext.activeContext=s,e._projTransform=a,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=r;let c=new o.Sprite(h);c.transform.worldTransform=this.transform.worldTransform,c.anchor.x=-(t.x/t.width),c.anchor.y=-(t.y/t.height),c.alpha=r,c._bounds=this._bounds,this._cacheData.sprite=c,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=e._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=c.containsPoint.bind(c)},a.DisplayObject.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID},a.DisplayObject.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)},a.DisplayObject.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,(0,i.BaseTexture).removeFromCache(this._cacheData.textureCacheId),(0,i.Texture).removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null},a.DisplayObject.prototype._cacheAsBitmapDestroy=function(e){this.cacheAsBitmap=!1,this.destroy(e)}},{"@pixi/core":"dUVGa","@pixi/display":"2blAU","@pixi/sprite":"fbvJg","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],dUVGa:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"AbstractMultiResource",()=>eE.AbstractMultiResource),s.export(r,"ArrayResource",()=>eS.ArrayResource),s.export(r,"Attribute",()=>F.Attribute),s.export(r,"BackgroundSystem",()=>p.BackgroundSystem),s.export(r,"BaseImageResource",()=>eA.BaseImageResource),s.export(r,"BaseRenderTexture",()=>W.BaseRenderTexture),s.export(r,"BaseTexture",()=>eu.BaseTexture),s.export(r,"BatchDrawCall",()=>m.BatchDrawCall),s.export(r,"BatchGeometry",()=>f.BatchGeometry),s.export(r,"BatchRenderer",()=>_.BatchRenderer),s.export(r,"BatchShaderGenerator",()=>g.BatchShaderGenerator),s.export(r,"BatchSystem",()=>y.BatchSystem),s.export(r,"BatchTextureArray",()=>x.BatchTextureArray),s.export(r,"Buffer",()=>I.Buffer),s.export(r,"BufferResource",()=>eM.BufferResource),s.export(r,"BufferSystem",()=>w.BufferSystem),s.export(r,"CanvasResource",()=>eC.CanvasResource),s.export(r,"ContextSystem",()=>T.ContextSystem),s.export(r,"CubeResource",()=>eR.CubeResource),s.export(r,"Filter",()=>v.Filter),s.export(r,"FilterState",()=>A.FilterState),s.export(r,"FilterSystem",()=>j.FilterSystem),s.export(r,"Framebuffer",()=>P.Framebuffer),s.export(r,"FramebufferSystem",()=>M.FramebufferSystem),s.export(r,"GLFramebuffer",()=>C.GLFramebuffer),s.export(r,"GLProgram",()=>K.GLProgram),s.export(r,"GLTexture",()=>ec.GLTexture),s.export(r,"GenerateTextureSystem",()=>Y.GenerateTextureSystem),s.export(r,"Geometry",()=>L.Geometry),s.export(r,"GeometrySystem",()=>O.GeometrySystem),s.export(r,"IGLUniformData",()=>K.IGLUniformData),s.export(r,"INSTALLED",()=>eP.INSTALLED),s.export(r,"ImageBitmapResource",()=>eF.ImageBitmapResource),s.export(r,"ImageResource",()=>eI.ImageResource),s.export(r,"MaskData",()=>D.MaskData),s.export(r,"MaskSystem",()=>N.MaskSystem),s.export(r,"MultisampleSystem",()=>R.MultisampleSystem),s.export(r,"ObjectRenderer",()=>b.ObjectRenderer),s.export(r,"ObjectRendererSystem",()=>V.ObjectRendererSystem),s.export(r,"PluginSystem",()=>U.PluginSystem),s.export(r,"Program",()=>Q.Program),s.export(r,"ProjectionSystem",()=>H.ProjectionSystem),s.export(r,"Quad",()=>ex.Quad),s.export(r,"QuadUv",()=>eb.QuadUv),s.export(r,"RenderTexture",()=>z.RenderTexture),s.export(r,"RenderTexturePool",()=>$.RenderTexturePool),s.export(r,"RenderTextureSystem",()=>q.RenderTextureSystem),s.export(r,"Renderer",()=>X.Renderer),s.export(r,"Resource",()=>ej.Resource),s.export(r,"SVGResource",()=>ew.SVGResource),s.export(r,"ScissorSystem",()=>k.ScissorSystem),s.export(r,"Shader",()=>Z.Shader),s.export(r,"ShaderSystem",()=>J.ShaderSystem),s.export(r,"SpriteMaskFilter",()=>E.SpriteMaskFilter),s.export(r,"StartupSystem",()=>en.StartupSystem),s.export(r,"State",()=>el.State),s.export(r,"StateSystem",()=>eh.StateSystem),s.export(r,"StencilSystem",()=>G.StencilSystem),s.export(r,"SystemManager",()=>ev.SystemManager),s.export(r,"Texture",()=>ed.Texture),s.export(r,"TextureGCSystem",()=>ep.TextureGCSystem),s.export(r,"TextureMatrix",()=>em.TextureMatrix),s.export(r,"TextureSystem",()=>ef.TextureSystem),s.export(r,"TextureUvs",()=>e_.TextureUvs),s.export(r,"TransformFeedback",()=>eg.TransformFeedback),s.export(r,"TransformFeedbackSystem",()=>ey.TransformFeedbackSystem),s.export(r,"UniformGroup",()=>ee.UniformGroup),s.export(r,"VERSION",()=>eO),s.export(r,"VideoResource",()=>eL.VideoResource),s.export(r,"ViewSystem",()=>eT.ViewSystem),s.export(r,"ViewableBuffer",()=>B.ViewableBuffer),s.export(r,"autoDetectRenderer",()=>d.autoDetectRenderer),s.export(r,"autoDetectResource",()=>eP.autoDetectResource),s.export(r,"checkMaxIfStatementsInShader",()=>et.checkMaxIfStatementsInShader),s.export(r,"createUBOElements",()=>es.createUBOElements),s.export(r,"defaultFilterVertex",()=>S.defaultFilterVertex),s.export(r,"defaultVertex",()=>S.defaultVertex),s.export(r,"generateProgram",()=>er.generateProgram),s.export(r,"generateUniformBufferSync",()=>es.generateUniformBufferSync),s.export(r,"getTestContext",()=>ei.getTestContext),s.export(r,"getUBOData",()=>es.getUBOData),s.export(r,"uniformParsers",()=>ea.uniformParsers),s.export(r,"unsafeEvalSupported",()=>eo.unsafeEvalSupported),s.export(r,"utils",()=>c),e("./settings.mjs");var i=e("@pixi/color");s.exportAll(i,r);var a=e("@pixi/constants");s.exportAll(a,r);var o=e("@pixi/extensions");s.exportAll(o,r);var n=e("@pixi/math");s.exportAll(n,r);var l=e("@pixi/runner");s.exportAll(l,r);var h=e("@pixi/settings");s.exportAll(h,r);var u=e("@pixi/ticker");s.exportAll(u,r);var c=e("@pixi/utils"),d=e("./autoDetectRenderer.mjs"),p=e("./background/BackgroundSystem.mjs"),m=e("./batch/BatchDrawCall.mjs"),f=e("./batch/BatchGeometry.mjs"),_=e("./batch/BatchRenderer.mjs"),g=e("./batch/BatchShaderGenerator.mjs"),y=e("./batch/BatchSystem.mjs"),x=e("./batch/BatchTextureArray.mjs"),b=e("./batch/ObjectRenderer.mjs"),T=e("./context/ContextSystem.mjs"),v=e("./filters/Filter.mjs"),A=e("./filters/FilterState.mjs"),j=e("./filters/FilterSystem.mjs");e("./filters/IFilterTarget.mjs");var E=e("./filters/spriteMask/SpriteMaskFilter.mjs"),S=e("./fragments/index.mjs"),P=e("./framebuffer/Framebuffer.mjs"),M=e("./framebuffer/FramebufferSystem.mjs"),C=e("./framebuffer/GLFramebuffer.mjs"),R=e("./framebuffer/MultisampleSystem.mjs"),F=e("./geometry/Attribute.mjs"),I=e("./geometry/Buffer.mjs"),w=e("./geometry/BufferSystem.mjs"),L=e("./geometry/Geometry.mjs"),O=e("./geometry/GeometrySystem.mjs"),B=e("./geometry/ViewableBuffer.mjs");e("./IRenderer.mjs");var D=e("./mask/MaskData.mjs"),N=e("./mask/MaskSystem.mjs"),k=e("./mask/ScissorSystem.mjs"),G=e("./mask/StencilSystem.mjs"),U=e("./plugin/PluginSystem.mjs"),H=e("./projection/ProjectionSystem.mjs"),V=e("./render/ObjectRendererSystem.mjs"),X=e("./Renderer.mjs"),W=e("./renderTexture/BaseRenderTexture.mjs"),Y=e("./renderTexture/GenerateTextureSystem.mjs"),z=e("./renderTexture/RenderTexture.mjs"),$=e("./renderTexture/RenderTexturePool.mjs"),q=e("./renderTexture/RenderTextureSystem.mjs"),K=e("./shader/GLProgram.mjs"),Q=e("./shader/Program.mjs"),Z=e("./shader/Shader.mjs"),J=e("./shader/ShaderSystem.mjs"),ee=e("./shader/UniformGroup.mjs"),et=e("./shader/utils/checkMaxIfStatementsInShader.mjs"),er=e("./shader/utils/generateProgram.mjs"),es=e("./shader/utils/generateUniformBufferSync.mjs"),ei=e("./shader/utils/getTestContext.mjs"),ea=e("./shader/utils/uniformParsers.mjs"),eo=e("./shader/utils/unsafeEvalSupported.mjs"),en=e("./startup/StartupSystem.mjs"),el=e("./state/State.mjs"),eh=e("./state/StateSystem.mjs");e("./system/ISystem.mjs"),e("./systems.mjs");var eu=e("./textures/BaseTexture.mjs"),ec=e("./textures/GLTexture.mjs");e("./textures/resources/index.mjs");var ed=e("./textures/Texture.mjs"),ep=e("./textures/TextureGCSystem.mjs"),em=e("./textures/TextureMatrix.mjs"),ef=e("./textures/TextureSystem.mjs"),e_=e("./textures/TextureUvs.mjs"),eg=e("./transformFeedback/TransformFeedback.mjs"),ey=e("./transformFeedback/TransformFeedbackSystem.mjs"),ex=e("./utils/Quad.mjs"),eb=e("./utils/QuadUv.mjs"),eT=e("./view/ViewSystem.mjs"),ev=e("./system/SystemManager.mjs"),eA=e("./textures/resources/BaseImageResource.mjs"),ej=e("./textures/resources/Resource.mjs"),eE=e("./textures/resources/AbstractMultiResource.mjs"),eS=e("./textures/resources/ArrayResource.mjs"),eP=e("./textures/resources/autoDetectResource.mjs"),eM=e("./textures/resources/BufferResource.mjs"),eC=e("./textures/resources/CanvasResource.mjs"),eR=e("./textures/resources/CubeResource.mjs"),eF=e("./textures/resources/ImageBitmapResource.mjs"),eI=e("./textures/resources/ImageResource.mjs"),ew=e("./textures/resources/SVGResource.mjs"),eL=e("./textures/resources/VideoResource.mjs");let eO="7.4.0"},{"./settings.mjs":"djdDv","@pixi/color":"6G5hv","@pixi/constants":"68v8p","@pixi/extensions":"LXrqQ","@pixi/math":"f1tY5","@pixi/runner":"rXCrp","@pixi/settings":"fYTIf","@pixi/ticker":"dnzh9","@pixi/utils":"4Acrm","./autoDetectRenderer.mjs":"e6jwV","./background/BackgroundSystem.mjs":"d4UV1","./batch/BatchDrawCall.mjs":"ggZTt","./batch/BatchGeometry.mjs":"kTvDS","./batch/BatchRenderer.mjs":"aHPLz","./batch/BatchShaderGenerator.mjs":"aW5Xm","./batch/BatchSystem.mjs":"4LIXd","./batch/BatchTextureArray.mjs":"1rWeK","./batch/ObjectRenderer.mjs":"6mKqv","./context/ContextSystem.mjs":"1ugwQ","./filters/Filter.mjs":"2DnTX","./filters/FilterState.mjs":"fY4Rc","./filters/FilterSystem.mjs":"iElgo","./filters/IFilterTarget.mjs":"aqm7F","./filters/spriteMask/SpriteMaskFilter.mjs":"7oLFz","./fragments/index.mjs":"6e5q3","./framebuffer/Framebuffer.mjs":"6vguM","./framebuffer/FramebufferSystem.mjs":"4jZKS","./framebuffer/GLFramebuffer.mjs":"7JCxc","./framebuffer/MultisampleSystem.mjs":"qLUmG","./geometry/Attribute.mjs":"8b7tn","./geometry/Buffer.mjs":"6FX9J","./geometry/BufferSystem.mjs":"kpnIN","./geometry/Geometry.mjs":"6KykX","./geometry/GeometrySystem.mjs":"2FtTP","./geometry/ViewableBuffer.mjs":"bkGCq","./IRenderer.mjs":"kJ0g3","./mask/MaskData.mjs":"kf5d3","./mask/MaskSystem.mjs":"2VRix","./mask/ScissorSystem.mjs":"eNVGF","./mask/StencilSystem.mjs":"4Wc7U","./plugin/PluginSystem.mjs":"ekjzo","./projection/ProjectionSystem.mjs":"3imZ0","./render/ObjectRendererSystem.mjs":"2AvHV","./Renderer.mjs":"2xlFA","./renderTexture/BaseRenderTexture.mjs":"1R0Gg","./renderTexture/GenerateTextureSystem.mjs":"hdP8L","./renderTexture/RenderTexture.mjs":"j7TyW","./renderTexture/RenderTexturePool.mjs":"3R2AC","./renderTexture/RenderTextureSystem.mjs":"jdex6","./shader/GLProgram.mjs":"1680g","./shader/Program.mjs":"h96LB","./shader/Shader.mjs":"4DrhU","./shader/ShaderSystem.mjs":"f9E5F","./shader/UniformGroup.mjs":"30cf1","./shader/utils/checkMaxIfStatementsInShader.mjs":"1n1h6","./shader/utils/generateProgram.mjs":"9w6GI","./shader/utils/generateUniformBufferSync.mjs":"hV86X","./shader/utils/getTestContext.mjs":"hYSmC","./shader/utils/uniformParsers.mjs":"dObHK","./shader/utils/unsafeEvalSupported.mjs":"gPTrP","./startup/StartupSystem.mjs":"1h92k","./state/State.mjs":"8tAVV","./state/StateSystem.mjs":"6Veb1","./system/ISystem.mjs":"b4czR","./systems.mjs":"kqqaW","./textures/BaseTexture.mjs":"gFSHz","./textures/GLTexture.mjs":"5UJOZ","./textures/resources/index.mjs":"it3Hq","./textures/Texture.mjs":"a6tOv","./textures/TextureGCSystem.mjs":"1EzcD","./textures/TextureMatrix.mjs":"dPET1","./textures/TextureSystem.mjs":"d2zdQ","./textures/TextureUvs.mjs":"40j3i","./transformFeedback/TransformFeedback.mjs":"4w2ph","./transformFeedback/TransformFeedbackSystem.mjs":"hj08K","./utils/Quad.mjs":"fXTi8","./utils/QuadUv.mjs":"f3mx5","./view/ViewSystem.mjs":"1PJBr","./system/SystemManager.mjs":"aX9hv","./textures/resources/BaseImageResource.mjs":"82Avo","./textures/resources/Resource.mjs":"gFk3n","./textures/resources/AbstractMultiResource.mjs":"35O4Q","./textures/resources/ArrayResource.mjs":"jGUuh","./textures/resources/autoDetectResource.mjs":"fDXU4","./textures/resources/BufferResource.mjs":"evIz9","./textures/resources/CanvasResource.mjs":"8DWrq","./textures/resources/CubeResource.mjs":"a78p9","./textures/resources/ImageBitmapResource.mjs":"kZK1K","./textures/resources/ImageResource.mjs":"9XGf4","./textures/resources/SVGResource.mjs":"ce3eJ","./textures/resources/VideoResource.mjs":"9tM6o","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],djdDv:[function(e,t,r){var s=e("@pixi/constants"),i=e("@pixi/settings"),a=e("@pixi/utils"),o=e("./batch/BatchRenderer.mjs"),n=e("./filters/Filter.mjs"),l=e("./shader/Program.mjs");e("./systems.mjs");var h=e("./textures/BaseTexture.mjs"),u=e("./context/ContextSystem.mjs"),c=e("./background/BackgroundSystem.mjs"),d=e("./view/ViewSystem.mjs"),p=e("./startup/StartupSystem.mjs"),m=e("./textures/TextureGCSystem.mjs");i.settings.PREFER_ENV=s.ENV.WEBGL2,i.settings.STRICT_TEXTURE_CACHE=!1,i.settings.RENDER_OPTIONS={...u.ContextSystem.defaultOptions,...c.BackgroundSystem.defaultOptions,...d.ViewSystem.defaultOptions,...p.StartupSystem.defaultOptions},Object.defineProperties(i.settings,{WRAP_MODE:{get:()=>h.BaseTexture.defaultOptions.wrapMode,set(e){(0,a.deprecation)("7.1.0","settings.WRAP_MODE is deprecated, use BaseTexture.defaultOptions.wrapMode"),h.BaseTexture.defaultOptions.wrapMode=e}},SCALE_MODE:{get:()=>h.BaseTexture.defaultOptions.scaleMode,set(e){(0,a.deprecation)("7.1.0","settings.SCALE_MODE is deprecated, use BaseTexture.defaultOptions.scaleMode"),h.BaseTexture.defaultOptions.scaleMode=e}},MIPMAP_TEXTURES:{get:()=>h.BaseTexture.defaultOptions.mipmap,set(e){(0,a.deprecation)("7.1.0","settings.MIPMAP_TEXTURES is deprecated, use BaseTexture.defaultOptions.mipmap"),h.BaseTexture.defaultOptions.mipmap=e}},ANISOTROPIC_LEVEL:{get:()=>h.BaseTexture.defaultOptions.anisotropicLevel,set(e){(0,a.deprecation)("7.1.0","settings.ANISOTROPIC_LEVEL is deprecated, use BaseTexture.defaultOptions.anisotropicLevel"),h.BaseTexture.defaultOptions.anisotropicLevel=e}},FILTER_RESOLUTION:{get:()=>((0,a.deprecation)("7.1.0","settings.FILTER_RESOLUTION is deprecated, use Filter.defaultResolution"),n.Filter.defaultResolution),set(e){n.Filter.defaultResolution=e}},FILTER_MULTISAMPLE:{get:()=>((0,a.deprecation)("7.1.0","settings.FILTER_MULTISAMPLE is deprecated, use Filter.defaultMultisample"),n.Filter.defaultMultisample),set(e){n.Filter.defaultMultisample=e}},SPRITE_MAX_TEXTURES:{get:()=>o.BatchRenderer.defaultMaxTextures,set(e){(0,a.deprecation)("7.1.0","settings.SPRITE_MAX_TEXTURES is deprecated, use BatchRenderer.defaultMaxTextures"),o.BatchRenderer.defaultMaxTextures=e}},SPRITE_BATCH_SIZE:{get:()=>o.BatchRenderer.defaultBatchSize,set(e){(0,a.deprecation)("7.1.0","settings.SPRITE_BATCH_SIZE is deprecated, use BatchRenderer.defaultBatchSize"),o.BatchRenderer.defaultBatchSize=e}},CAN_UPLOAD_SAME_BUFFER:{get:()=>o.BatchRenderer.canUploadSameBuffer,set(e){(0,a.deprecation)("7.1.0","settings.CAN_UPLOAD_SAME_BUFFER is deprecated, use BatchRenderer.canUploadSameBuffer"),o.BatchRenderer.canUploadSameBuffer=e}},GC_MODE:{get:()=>m.TextureGCSystem.defaultMode,set(e){(0,a.deprecation)("7.1.0","settings.GC_MODE is deprecated, use TextureGCSystem.defaultMode"),m.TextureGCSystem.defaultMode=e}},GC_MAX_IDLE:{get:()=>m.TextureGCSystem.defaultMaxIdle,set(e){(0,a.deprecation)("7.1.0","settings.GC_MAX_IDLE is deprecated, use TextureGCSystem.defaultMaxIdle"),m.TextureGCSystem.defaultMaxIdle=e}},GC_MAX_CHECK_COUNT:{get:()=>m.TextureGCSystem.defaultCheckCountMax,set(e){(0,a.deprecation)("7.1.0","settings.GC_MAX_CHECK_COUNT is deprecated, use TextureGCSystem.defaultCheckCountMax"),m.TextureGCSystem.defaultCheckCountMax=e}},PRECISION_VERTEX:{get:()=>l.Program.defaultVertexPrecision,set(e){(0,a.deprecation)("7.1.0","settings.PRECISION_VERTEX is deprecated, use Program.defaultVertexPrecision"),l.Program.defaultVertexPrecision=e}},PRECISION_FRAGMENT:{get:()=>l.Program.defaultFragmentPrecision,set(e){(0,a.deprecation)("7.1.0","settings.PRECISION_FRAGMENT is deprecated, use Program.defaultFragmentPrecision"),l.Program.defaultFragmentPrecision=e}}})},{"@pixi/constants":"68v8p","@pixi/settings":"fYTIf","@pixi/utils":"4Acrm","./batch/BatchRenderer.mjs":"aHPLz","./filters/Filter.mjs":"2DnTX","./shader/Program.mjs":"h96LB","./systems.mjs":"kqqaW","./textures/BaseTexture.mjs":"gFSHz","./context/ContextSystem.mjs":"1ugwQ","./background/BackgroundSystem.mjs":"d4UV1","./view/ViewSystem.mjs":"1PJBr","./startup/StartupSystem.mjs":"1h92k","./textures/TextureGCSystem.mjs":"1EzcD"}],"68v8p":[function(e,t,r){let s,i,a,o,n,l,h,u,c,d,p,m,f,_,g,y,x,b,T,v;var A=e("@parcel/transformer-js/src/esmodule-helpers.js");A.defineInteropFlag(r),A.export(r,"ALPHA_MODES",()=>B),A.export(r,"BLEND_MODES",()=>P),A.export(r,"BUFFER_BITS",()=>S),A.export(r,"BUFFER_TYPE",()=>V),A.export(r,"CLEAR_MODES",()=>D),A.export(r,"COLOR_MASK_BITS",()=>U),A.export(r,"DRAW_MODES",()=>M),A.export(r,"ENV",()=>j),A.export(r,"FORMATS",()=>C),A.export(r,"GC_MODES",()=>N),A.export(r,"MASK_TYPES",()=>G),A.export(r,"MIPMAP_MODES",()=>O),A.export(r,"MSAA_QUALITY",()=>H),A.export(r,"PRECISION",()=>k),A.export(r,"RENDERER_TYPE",()=>E),A.export(r,"SAMPLER_TYPES",()=>I),A.export(r,"SCALE_MODES",()=>w),A.export(r,"TARGETS",()=>R),A.export(r,"TYPES",()=>F),A.export(r,"WRAP_MODES",()=>L);var j=((s=j||{})[s.WEBGL_LEGACY=0]="WEBGL_LEGACY",s[s.WEBGL=1]="WEBGL",s[s.WEBGL2=2]="WEBGL2",s),E=((i=E||{})[i.UNKNOWN=0]="UNKNOWN",i[i.WEBGL=1]="WEBGL",i[i.CANVAS=2]="CANVAS",i),S=((a=S||{})[a.COLOR=16384]="COLOR",a[a.DEPTH=256]="DEPTH",a[a.STENCIL=1024]="STENCIL",a),P=((o=P||{})[o.NORMAL=0]="NORMAL",o[o.ADD=1]="ADD",o[o.MULTIPLY=2]="MULTIPLY",o[o.SCREEN=3]="SCREEN",o[o.OVERLAY=4]="OVERLAY",o[o.DARKEN=5]="DARKEN",o[o.LIGHTEN=6]="LIGHTEN",o[o.COLOR_DODGE=7]="COLOR_DODGE",o[o.COLOR_BURN=8]="COLOR_BURN",o[o.HARD_LIGHT=9]="HARD_LIGHT",o[o.SOFT_LIGHT=10]="SOFT_LIGHT",o[o.DIFFERENCE=11]="DIFFERENCE",o[o.EXCLUSION=12]="EXCLUSION",o[o.HUE=13]="HUE",o[o.SATURATION=14]="SATURATION",o[o.COLOR=15]="COLOR",o[o.LUMINOSITY=16]="LUMINOSITY",o[o.NORMAL_NPM=17]="NORMAL_NPM",o[o.ADD_NPM=18]="ADD_NPM",o[o.SCREEN_NPM=19]="SCREEN_NPM",o[o.NONE=20]="NONE",o[o.SRC_OVER=0]="SRC_OVER",o[o.SRC_IN=21]="SRC_IN",o[o.SRC_OUT=22]="SRC_OUT",o[o.SRC_ATOP=23]="SRC_ATOP",o[o.DST_OVER=24]="DST_OVER",o[o.DST_IN=25]="DST_IN",o[o.DST_OUT=26]="DST_OUT",o[o.DST_ATOP=27]="DST_ATOP",o[o.ERASE=26]="ERASE",o[o.SUBTRACT=28]="SUBTRACT",o[o.XOR=29]="XOR",o),M=((n=M||{})[n.POINTS=0]="POINTS",n[n.LINES=1]="LINES",n[n.LINE_LOOP=2]="LINE_LOOP",n[n.LINE_STRIP=3]="LINE_STRIP",n[n.TRIANGLES=4]="TRIANGLES",n[n.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",n[n.TRIANGLE_FAN=6]="TRIANGLE_FAN",n),C=((l=C||{})[l.RGBA=6408]="RGBA",l[l.RGB=6407]="RGB",l[l.RG=33319]="RG",l[l.RED=6403]="RED",l[l.RGBA_INTEGER=36249]="RGBA_INTEGER",l[l.RGB_INTEGER=36248]="RGB_INTEGER",l[l.RG_INTEGER=33320]="RG_INTEGER",l[l.RED_INTEGER=36244]="RED_INTEGER",l[l.ALPHA=6406]="ALPHA",l[l.LUMINANCE=6409]="LUMINANCE",l[l.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",l[l.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",l[l.DEPTH_STENCIL=34041]="DEPTH_STENCIL",l),R=((h=R||{})[h.TEXTURE_2D=3553]="TEXTURE_2D",h[h.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",h[h.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",h[h.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",h[h.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",h[h.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",h[h.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",h[h.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",h[h.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",h),F=((u=F||{})[u.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",u[u.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",u[u.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",u[u.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",u[u.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",u[u.UNSIGNED_INT=5125]="UNSIGNED_INT",u[u.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",u[u.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",u[u.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",u[u.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",u[u.BYTE=5120]="BYTE",u[u.SHORT=5122]="SHORT",u[u.INT=5124]="INT",u[u.FLOAT=5126]="FLOAT",u[u.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",u[u.HALF_FLOAT=36193]="HALF_FLOAT",u),I=((c=I||{})[c.FLOAT=0]="FLOAT",c[c.INT=1]="INT",c[c.UINT=2]="UINT",c),w=((d=w||{})[d.NEAREST=0]="NEAREST",d[d.LINEAR=1]="LINEAR",d),L=((p=L||{})[p.CLAMP=33071]="CLAMP",p[p.REPEAT=10497]="REPEAT",p[p.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",p),O=((m=O||{})[m.OFF=0]="OFF",m[m.POW2=1]="POW2",m[m.ON=2]="ON",m[m.ON_MANUAL=3]="ON_MANUAL",m),B=((f=B||{})[f.NPM=0]="NPM",f[f.UNPACK=1]="UNPACK",f[f.PMA=2]="PMA",f[f.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",f[f.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",f[f.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA",f),D=((_=D||{})[_.NO=0]="NO",_[_.YES=1]="YES",_[_.AUTO=2]="AUTO",_[_.BLEND=0]="BLEND",_[_.CLEAR=1]="CLEAR",_[_.BLIT=2]="BLIT",_),N=((g=N||{})[g.AUTO=0]="AUTO",g[g.MANUAL=1]="MANUAL",g),k=((y=k||{}).LOW="lowp",y.MEDIUM="mediump",y.HIGH="highp",y),G=((x=G||{})[x.NONE=0]="NONE",x[x.SCISSOR=1]="SCISSOR",x[x.STENCIL=2]="STENCIL",x[x.SPRITE=3]="SPRITE",x[x.COLOR=4]="COLOR",x),U=((b=U||{})[b.RED=1]="RED",b[b.GREEN=2]="GREEN",b[b.BLUE=4]="BLUE",b[b.ALPHA=8]="ALPHA",b),H=((T=H||{})[T.NONE=0]="NONE",T[T.LOW=2]="LOW",T[T.MEDIUM=4]="MEDIUM",T[T.HIGH=8]="HIGH",T),V=((v=V||{})[v.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",v[v.ARRAY_BUFFER=34962]="ARRAY_BUFFER",v[v.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",v)},{"@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],fYTIf:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"BrowserAdapter",()=>i.BrowserAdapter),s.export(r,"isMobile",()=>o.isMobile),s.export(r,"settings",()=>a.settings);var i=e("./adapter.mjs");e("./ICanvas.mjs"),e("./ICanvasRenderingContext2D.mjs");var a=e("./settings.mjs"),o=e("./utils/isMobile.mjs")},{"./adapter.mjs":"5lCmr","./ICanvas.mjs":"cUVrA","./ICanvasRenderingContext2D.mjs":"coZO5","./settings.mjs":"4Jihf","./utils/isMobile.mjs":"g28FK","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"5lCmr":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"BrowserAdapter",()=>i);let i={createCanvas:(e,t)=>{let r=document.createElement("canvas");return r.width=e,r.height=t,r},getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(e,t)=>fetch(e,t),parseXML:e=>new DOMParser().parseFromString(e,"text/xml")}},{"@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],cUVrA:[function(e,t,r){},{}],coZO5:[function(e,t,r){},{}],"4Jihf":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"settings",()=>i);let i={ADAPTER:e("./adapter.mjs").BrowserAdapter,RESOLUTION:1,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1}},{"./adapter.mjs":"5lCmr","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],g28FK:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"isMobile",()=>o);var i=e("ismobilejs"),a=s.interopDefault(i);let o=(a.default.default??a.default)(globalThis.navigator)},{ismobilejs:"5ausk","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"5ausk":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"default",()=>a.default);var i=e("./isMobile");s.exportAll(i,r);var a=s.interopDefault(i)},{"./isMobile":"kljuw","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],kljuw:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"default",()=>b);var i=/iPhone/i,a=/iPod/i,o=/iPad/i,n=/\biOS-universal(?:.+)Mac\b/i,l=/\bAndroid(?:.+)Mobile\b/i,h=/Android/i,u=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,c=/Silk/i,d=/Windows Phone/i,p=/\bWindows(?:.+)ARM\b/i,m=/BlackBerry/i,f=/BB10/i,_=/Opera Mini/i,g=/\b(CriOS|Chrome)(?:.+)Mobile/i,y=/Mobile(?:.+)Firefox\b/i,x=function(e){return void 0!==e&&"MacIntel"===e.platform&&"number"==typeof e.maxTouchPoints&&e.maxTouchPoints>1&&"undefined"==typeof MSStream};function b(e){var t,r={userAgent:"",platform:"",maxTouchPoints:0};e||"undefined"==typeof navigator?"string"==typeof e?r.userAgent=e:e&&e.userAgent&&(r={userAgent:e.userAgent,platform:e.platform,maxTouchPoints:e.maxTouchPoints||0}):r={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0};var s=r.userAgent,b=s.split("[FBAN");void 0!==b[1]&&(s=b[0]),void 0!==(b=s.split("Twitter"))[1]&&(s=b[0]);var T=(t=s,function(e){return e.test(t)}),v={apple:{phone:T(i)&&!T(d),ipod:T(a),tablet:!T(i)&&(T(o)||x(r))&&!T(d),universal:T(n),device:(T(i)||T(a)||T(o)||T(n)||x(r))&&!T(d)},amazon:{phone:T(u),tablet:!T(u)&&T(c),device:T(u)||T(c)},android:{phone:!T(d)&&T(u)||!T(d)&&T(l),tablet:!T(d)&&!T(u)&&!T(l)&&(T(c)||T(h)),device:!T(d)&&(T(u)||T(c)||T(l)||T(h))||T(/\bokhttp\b/i)},windows:{phone:T(d),tablet:T(p),device:T(d)||T(p)},other:{blackberry:T(m),blackberry10:T(f),opera:T(_),firefox:T(y),chrome:T(g),device:T(m)||T(f)||T(_)||T(y)||T(g)},any:!1,phone:!1,tablet:!1};return v.any=v.apple.device||v.android.device||v.windows.device||v.other.device,v.phone=v.apple.phone||v.android.phone||v.windows.phone,v.tablet=v.apple.tablet||v.android.tablet||v.windows.tablet,v}},{"@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"4Acrm":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"BaseTextureCache",()=>S.BaseTextureCache),s.export(r,"BoundingBox",()=>E.BoundingBox),s.export(r,"CanvasRenderTarget",()=>P.CanvasRenderTarget),s.export(r,"DATA_URI",()=>_.DATA_URI),s.export(r,"EventEmitter",()=>o.default),s.export(r,"ProgramCache",()=>S.ProgramCache),s.export(r,"TextureCache",()=>S.TextureCache),s.export(r,"clearTextureCache",()=>S.clearTextureCache),s.export(r,"correctBlendMode",()=>f.correctBlendMode),s.export(r,"createIndicesForQuads",()=>g.createIndicesForQuads),s.export(r,"decomposeDataUri",()=>R.decomposeDataUri),s.export(r,"deprecation",()=>j.deprecation),s.export(r,"destroyTextureCache",()=>S.destroyTextureCache),s.export(r,"detectVideoAlphaMode",()=>c.detectVideoAlphaMode),s.export(r,"determineCrossOrigin",()=>F.determineCrossOrigin),s.export(r,"earcut",()=>l.default),s.export(r,"getBufferType",()=>y.getBufferType),s.export(r,"getCanvasBoundingBox",()=>M.getCanvasBoundingBox),s.export(r,"getResolutionOfUrl",()=>I.getResolutionOfUrl),s.export(r,"hex2rgb",()=>m.hex2rgb),s.export(r,"hex2string",()=>m.hex2string),s.export(r,"interleaveTypedArrays",()=>x.interleaveTypedArrays),s.export(r,"isMobile",()=>i.isMobile),s.export(r,"isPow2",()=>b.isPow2),s.export(r,"isWebGLSupported",()=>p.isWebGLSupported),s.export(r,"log2",()=>b.log2),s.export(r,"nextPow2",()=>b.nextPow2),s.export(r,"path",()=>u.path),s.export(r,"premultiplyBlendMode",()=>f.premultiplyBlendMode),s.export(r,"premultiplyRgba",()=>f.premultiplyRgba),s.export(r,"premultiplyTint",()=>f.premultiplyTint),s.export(r,"premultiplyTintToRgba",()=>f.premultiplyTintToRgba),s.export(r,"removeItems",()=>T.removeItems),s.export(r,"rgb2hex",()=>m.rgb2hex),s.export(r,"sayHello",()=>d.sayHello),s.export(r,"sign",()=>v.sign),s.export(r,"skipHello",()=>d.skipHello),s.export(r,"string2hex",()=>m.string2hex),s.export(r,"trimCanvas",()=>C.trimCanvas),s.export(r,"uid",()=>A.uid),s.export(r,"url",()=>h.url),e("./settings.mjs");var i=e("@pixi/settings"),a=e("eventemitter3"),o=s.interopDefault(a),n=e("earcut"),l=s.interopDefault(n),h=e("./url.mjs"),u=e("./path.mjs"),c=e("./browser/detectVideoAlphaMode.mjs"),d=e("./browser/hello.mjs"),p=e("./browser/isWebGLSupported.mjs"),m=e("./color/hex.mjs"),f=e("./color/premultiply.mjs"),_=e("./const.mjs"),g=e("./data/createIndicesForQuads.mjs"),y=e("./data/getBufferType.mjs"),x=e("./data/interleaveTypedArrays.mjs"),b=e("./data/pow2.mjs"),T=e("./data/removeItems.mjs"),v=e("./data/sign.mjs"),A=e("./data/uid.mjs"),j=e("./logging/deprecation.mjs"),E=e("./media/BoundingBox.mjs"),S=e("./media/caches.mjs"),P=e("./media/CanvasRenderTarget.mjs"),M=e("./media/getCanvasBoundingBox.mjs"),C=e("./media/trimCanvas.mjs"),R=e("./network/decomposeDataUri.mjs"),F=e("./network/determineCrossOrigin.mjs"),I=e("./network/getResolutionOfUrl.mjs");e("./types/index.mjs")},{"./settings.mjs":"m2X0a","@pixi/settings":"fYTIf",eventemitter3:"eBkYS",earcut:"8ASkb","./url.mjs":"7PcvP","./path.mjs":"bVkCK","./browser/detectVideoAlphaMode.mjs":"4dZRE","./browser/hello.mjs":"9TVsy","./browser/isWebGLSupported.mjs":"8cVin","./color/hex.mjs":"4Wc3m","./color/premultiply.mjs":"9tsC3","./const.mjs":"7WHrk","./data/createIndicesForQuads.mjs":"cILkp","./data/getBufferType.mjs":"Uiee8","./data/interleaveTypedArrays.mjs":"awVZv","./data/pow2.mjs":"66v42","./data/removeItems.mjs":"iRnre","./data/sign.mjs":"jQ1sr","./data/uid.mjs":"7AnNw","./logging/deprecation.mjs":"dMNOj","./media/BoundingBox.mjs":"llAu8","./media/caches.mjs":"7dBb0","./media/CanvasRenderTarget.mjs":"hipLf","./media/getCanvasBoundingBox.mjs":"dDAhc","./media/trimCanvas.mjs":"4t1C4","./network/decomposeDataUri.mjs":"ptaZT","./network/determineCrossOrigin.mjs":"aieiR","./network/getResolutionOfUrl.mjs":"jhKpU","./types/index.mjs":"i5q9D","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],m2X0a:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"settings",()=>i.settings);var i=e("@pixi/settings");i.settings.RETINA_PREFIX=/@([0-9\.]+)x/,i.settings.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1},{"@pixi/settings":"fYTIf","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],eBkYS:[function(e,t,r){var s=Object.prototype.hasOwnProperty,i="~";function a(){}function o(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function n(e,t,r,s,a){if("function"!=typeof r)throw TypeError("The listener must be a function");var n=new o(r,s||e,a),l=i?i+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],n]:e._events[l].push(n):(e._events[l]=n,e._eventsCount++),e}function l(e,t){0==--e._eventsCount?e._events=new a:delete e._events[t]}function h(){this._events=new a,this._eventsCount=0}Object.create&&(a.prototype=Object.create(null),new a().__proto__||(i=!1)),h.prototype.eventNames=function(){var e,t,r=[];if(0===this._eventsCount)return r;for(t in e=this._events)s.call(e,t)&&r.push(i?t.slice(1):t);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(e)):r},h.prototype.listeners=function(e){var t=i?i+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var s=0,a=r.length,o=Array(a);s<a;s++)o[s]=r[s].fn;return o},h.prototype.listenerCount=function(e){var t=i?i+e:e,r=this._events[t];return r?r.fn?1:r.length:0},h.prototype.emit=function(e,t,r,s,a,o){var n=i?i+e:e;if(!this._events[n])return!1;var l,h,u=this._events[n],c=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),c){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,r),!0;case 4:return u.fn.call(u.context,t,r,s),!0;case 5:return u.fn.call(u.context,t,r,s,a),!0;case 6:return u.fn.call(u.context,t,r,s,a,o),!0}for(h=1,l=Array(c-1);h<c;h++)l[h-1]=arguments[h];u.fn.apply(u.context,l)}else{var d,p=u.length;for(h=0;h<p;h++)switch(u[h].once&&this.removeListener(e,u[h].fn,void 0,!0),c){case 1:u[h].fn.call(u[h].context);break;case 2:u[h].fn.call(u[h].context,t);break;case 3:u[h].fn.call(u[h].context,t,r);break;case 4:u[h].fn.call(u[h].context,t,r,s);break;default:if(!l)for(d=1,l=Array(c-1);d<c;d++)l[d-1]=arguments[d];u[h].fn.apply(u[h].context,l)}}return!0},h.prototype.on=function(e,t,r){return n(this,e,t,r,!1)},h.prototype.once=function(e,t,r){return n(this,e,t,r,!0)},h.prototype.removeListener=function(e,t,r,s){var a=i?i+e:e;if(!this._events[a])return this;if(!t)return l(this,a),this;var o=this._events[a];if(o.fn)o.fn!==t||s&&!o.once||r&&o.context!==r||l(this,a);else{for(var n=0,h=[],u=o.length;n<u;n++)(o[n].fn!==t||s&&!o[n].once||r&&o[n].context!==r)&&h.push(o[n]);h.length?this._events[a]=1===h.length?h[0]:h:l(this,a)}return this},h.prototype.removeAllListeners=function(e){var t;return e?(t=i?i+e:e,this._events[t]&&l(this,t)):(this._events=new a,this._eventsCount=0),this},h.prototype.off=h.prototype.removeListener,h.prototype.addListener=h.prototype.on,h.prefixed=i,h.EventEmitter=h,t.exports=h},{}],"8ASkb":[function(e,t,r){function s(e,t,r){r=r||2;var s,d,p,_,y,x,b,T=t&&t.length,v=T?t[0]*r:e.length,A=i(e,0,v,r,!0),j=[];if(!A||A.next===A.prev)return j;if(T&&(A=function(e,t,r,s){var n,u,c,d,p,_=[];for(n=0,u=t.length;n<u;n++)c=t[n]*s,d=n<u-1?t[n+1]*s:e.length,(p=i(e,c,d,s,!1))===p.next&&(p.steiner=!0),_.push(function(e){var t=e,r=e;do(t.x<r.x||t.x===r.x&&t.y<r.y)&&(r=t),t=t.next;while(t!==e)return r}(p));for(_.sort(o),n=0;n<_.length;n++)r=function(e,t){var r=function(e,t){var r,s,i,a=t,o=e.x,n=e.y,u=-1/0;do{if(n<=a.y&&n>=a.next.y&&a.next.y!==a.y){var c=a.x+(n-a.y)*(a.next.x-a.x)/(a.next.y-a.y);if(c<=o&&c>u&&(u=c,i=a.x<a.next.x?a:a.next,c===o))return i}a=a.next}while(a!==t)if(!i)return null;var d,p=i,f=i.x,_=i.y,g=1/0;a=i;do o>=a.x&&a.x>=f&&o!==a.x&&l(n<_?o:u,n,f,_,n<_?u:o,n,a.x,a.y)&&(d=Math.abs(n-a.y)/(o-a.x),m(a,e)&&(d<g||d===g&&(a.x>i.x||a.x===i.x&&(r=i,s=a,0>h(r.prev,r,s.prev)&&0>h(s.next,r,r.next))))&&(i=a,g=d)),a=a.next;while(a!==p)return i}(e,t);if(!r)return t;var s=f(r,e);return a(s,s.next),a(r,r.next)}(_[n],r);return r}(e,t,A,r)),e.length>80*r){s=p=e[0],d=_=e[1];for(var E=r;E<v;E+=r)y=e[E],x=e[E+1],y<s&&(s=y),x<d&&(d=x),y>p&&(p=y),x>_&&(_=x);b=0!==(b=Math.max(p-s,_-d))?32767/b:0}return function e(t,r,s,i,o,d,p){if(t){!p&&d&&function(e,t,r,s){var i=e;do 0===i.z&&(i.z=n(i.x,i.y,t,r,s)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==e)i.prevZ.nextZ=null,i.prevZ=null,function(e){var t,r,s,i,a,o,n,l,h=1;do{for(r=e,e=null,a=null,o=0;r;){for(o++,s=r,n=0,t=0;t<h&&(n++,s=s.nextZ);t++);for(l=h;n>0||l>0&&s;)0!==n&&(0===l||!s||r.z<=s.z)?(i=r,r=r.nextZ,n--):(i=s,s=s.nextZ,l--),a?a.nextZ=i:e=i,i.prevZ=a,a=i;r=s}a.nextZ=null,h*=2}while(o>1)}(i)}(t,i,o,d);for(var _,y,x=t;t.prev!==t.next;){if(_=t.prev,y=t.next,d?function(e,t,r,s){var i=e.prev,a=e.next;if(h(i,e,a)>=0)return!1;for(var o=i.x,u=e.x,c=a.x,d=i.y,p=e.y,m=a.y,f=o<u?o<c?o:c:u<c?u:c,_=d<p?d<m?d:m:p<m?p:m,g=o>u?o>c?o:c:u>c?u:c,y=d>p?d>m?d:m:p>m?p:m,x=n(f,_,t,r,s),b=n(g,y,t,r,s),T=e.prevZ,v=e.nextZ;T&&T.z>=x&&v&&v.z<=b;){if(T.x>=f&&T.x<=g&&T.y>=_&&T.y<=y&&T!==i&&T!==a&&l(o,d,u,p,c,m,T.x,T.y)&&h(T.prev,T,T.next)>=0||(T=T.prevZ,v.x>=f&&v.x<=g&&v.y>=_&&v.y<=y&&v!==i&&v!==a&&l(o,d,u,p,c,m,v.x,v.y)&&h(v.prev,v,v.next)>=0))return!1;v=v.nextZ}for(;T&&T.z>=x;){if(T.x>=f&&T.x<=g&&T.y>=_&&T.y<=y&&T!==i&&T!==a&&l(o,d,u,p,c,m,T.x,T.y)&&h(T.prev,T,T.next)>=0)return!1;T=T.prevZ}for(;v&&v.z<=b;){if(v.x>=f&&v.x<=g&&v.y>=_&&v.y<=y&&v!==i&&v!==a&&l(o,d,u,p,c,m,v.x,v.y)&&h(v.prev,v,v.next)>=0)return!1;v=v.nextZ}return!0}(t,i,o,d):function(e){var t=e.prev,r=e.next;if(h(t,e,r)>=0)return!1;for(var s=t.x,i=e.x,a=r.x,o=t.y,n=e.y,u=r.y,c=s<i?s<a?s:a:i<a?i:a,d=o<n?o<u?o:u:n<u?n:u,p=s>i?s>a?s:a:i>a?i:a,m=o>n?o>u?o:u:n>u?n:u,f=r.next;f!==t;){if(f.x>=c&&f.x<=p&&f.y>=d&&f.y<=m&&l(s,o,i,n,a,u,f.x,f.y)&&h(f.prev,f,f.next)>=0)return!1;f=f.next}return!0}(t)){r.push(_.i/s|0),r.push(t.i/s|0),r.push(y.i/s|0),g(t),t=y.next,x=y.next;continue}if((t=y)===x){p?1===p?e(t=function(e,t,r){var s=e;do{var i=s.prev,o=s.next.next;!u(i,o)&&c(i,s,s.next,o)&&m(i,o)&&m(o,i)&&(t.push(i.i/r|0),t.push(s.i/r|0),t.push(o.i/r|0),g(s),g(s.next),s=e=o),s=s.next}while(s!==e)return a(s)}(a(t),r,s),r,s,i,o,d,2):2===p&&function(t,r,s,i,o,n){var l=t;do{for(var d,p,_=l.next.next;_!==l.prev;){if(l.i!==_.i&&(d=l,p=_,d.next.i!==p.i&&d.prev.i!==p.i&&!function(e,t){var r=e;do{if(r.i!==e.i&&r.next.i!==e.i&&r.i!==t.i&&r.next.i!==t.i&&c(r,r.next,e,t))return!0;r=r.next}while(r!==e)return!1}(d,p)&&(m(d,p)&&m(p,d)&&function(e,t){var r=e,s=!1,i=(e.x+t.x)/2,a=(e.y+t.y)/2;do r.y>a!=r.next.y>a&&r.next.y!==r.y&&i<(r.next.x-r.x)*(a-r.y)/(r.next.y-r.y)+r.x&&(s=!s),r=r.next;while(r!==e)return s}(d,p)&&(h(d.prev,d,p.prev)||h(d,p.prev,p))||u(d,p)&&h(d.prev,d,d.next)>0&&h(p.prev,p,p.next)>0))){var g=f(l,_);l=a(l,l.next),g=a(g,g.next),e(l,r,s,i,o,n,0),e(g,r,s,i,o,n,0);return}_=_.next}l=l.next}while(l!==t)}(t,r,s,i,o,d):e(a(t),r,s,i,o,d,1);break}}}}(A,j,r,s,d,b,0),j}function i(e,t,r,s,i){var a,o;if(i===x(e,t,r,s)>0)for(a=t;a<r;a+=s)o=_(a,e[a],e[a+1],o);else for(a=r-s;a>=t;a-=s)o=_(a,e[a],e[a+1],o);return o&&u(o,o.next)&&(g(o),o=o.next),o}function a(e,t){if(!e)return e;t||(t=e);var r,s=e;do if(r=!1,!s.steiner&&(u(s,s.next)||0===h(s.prev,s,s.next))){if(g(s),(s=t=s.prev)===s.next)break;r=!0}else s=s.next;while(r||s!==t)return t}function o(e,t){return e.x-t.x}function n(e,t,r,s,i){return(e=((e=((e=((e=((e=(e-r)*i|0)|e<<8)&16711935)|e<<4)&252645135)|e<<2)&858993459)|e<<1)&1431655765)|(t=((t=((t=((t=((t=(t-s)*i|0)|t<<8)&16711935)|t<<4)&252645135)|t<<2)&858993459)|t<<1)&1431655765)<<1}function l(e,t,r,s,i,a,o,n){return(i-o)*(t-n)>=(e-o)*(a-n)&&(e-o)*(s-n)>=(r-o)*(t-n)&&(r-o)*(a-n)>=(i-o)*(s-n)}function h(e,t,r){return(t.y-e.y)*(r.x-t.x)-(t.x-e.x)*(r.y-t.y)}function u(e,t){return e.x===t.x&&e.y===t.y}function c(e,t,r,s){var i=p(h(e,t,r)),a=p(h(e,t,s)),o=p(h(r,s,e)),n=p(h(r,s,t));return!!(i!==a&&o!==n||0===i&&d(e,r,t)||0===a&&d(e,s,t)||0===o&&d(r,e,s)||0===n&&d(r,t,s))}function d(e,t,r){return t.x<=Math.max(e.x,r.x)&&t.x>=Math.min(e.x,r.x)&&t.y<=Math.max(e.y,r.y)&&t.y>=Math.min(e.y,r.y)}function p(e){return e>0?1:e<0?-1:0}function m(e,t){return 0>h(e.prev,e,e.next)?h(e,t,e.next)>=0&&h(e,e.prev,t)>=0:0>h(e,t,e.prev)||0>h(e,e.next,t)}function f(e,t){var r=new y(e.i,e.x,e.y),s=new y(t.i,t.x,t.y),i=e.next,a=t.prev;return e.next=t,t.prev=e,r.next=i,i.prev=r,s.next=r,r.prev=s,a.next=s,s.prev=a,s}function _(e,t,r,s){var i=new y(e,t,r);return s?(i.next=s.next,i.prev=s,s.next.prev=i,s.next=i):(i.prev=i,i.next=i),i}function g(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function y(e,t,r){this.i=e,this.x=t,this.y=r,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function x(e,t,r,s){for(var i=0,a=t,o=r-s;a<r;a+=s)i+=(e[o]-e[a])*(e[a+1]+e[o+1]),o=a;return i}t.exports=s,t.exports.default=s,s.deviation=function(e,t,r,s){var i=t&&t.length,a=i?t[0]*r:e.length,o=Math.abs(x(e,0,a,r));if(i)for(var n=0,l=t.length;n<l;n++){var h=t[n]*r,u=n<l-1?t[n+1]*r:e.length;o-=Math.abs(x(e,h,u,r))}var c=0;for(n=0;n<s.length;n+=3){var d=s[n]*r,p=s[n+1]*r,m=s[n+2]*r;c+=Math.abs((e[d]-e[m])*(e[p+1]-e[d+1])-(e[d]-e[p])*(e[m+1]-e[d+1]))}return 0===o&&0===c?0:Math.abs((c-o)/o)},s.flatten=function(e){for(var t=e[0][0].length,r={vertices:[],holes:[],dimensions:t},s=0,i=0;i<e.length;i++){for(var a=0;a<e[i].length;a++)for(var o=0;o<t;o++)r.vertices.push(e[i][a][o]);i>0&&(s+=e[i-1].length,r.holes.push(s))}return r}},{}],"7PcvP":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"url",()=>o);var i=e("url"),a=e("./logging/deprecation.mjs");let o={get parse(){return(0,a.deprecation)("7.3.0","utils.url.parse is deprecated, use native URL API instead."),i.parse},get format(){return(0,a.deprecation)("7.3.0","utils.url.format is deprecated, use native URL API instead."),i.format},get resolve(){return(0,a.deprecation)("7.3.0","utils.url.resolve is deprecated, use native URL API instead."),i.resolve}}},{url:"ctjTw","./logging/deprecation.mjs":"dMNOj","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],ctjTw:[function(e,t,r){var s=e("6aa635927f16f681");function i(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var a=/^([a-z0-9.+-]+:)/i,o=/:[0-9]*$/,n=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,l=["'"].concat(["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","	"])),h=["%","/","?",";","#"].concat(l),u=["/","?","#"],c=/^[+a-z0-9A-Z_-]{0,63}$/,d=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,p={javascript:!0,"javascript:":!0},m={javascript:!0,"javascript:":!0},f={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},_=e("6724c84b9b69726b");function g(e,t,r){if(e&&"object"==typeof e&&e instanceof i)return e;var s=new i;return s.parse(e,t,r),s}i.prototype.parse=function(e,t,r){if("string"!=typeof e)throw TypeError("Parameter 'url' must be a string, not "+typeof e);var i=e.indexOf("?"),o=-1!==i&&i<e.indexOf("#")?"?":"#",g=e.split(o);g[0]=g[0].replace(/\\/g,"/");var y=e=g.join(o);if(y=y.trim(),!r&&1===e.split("#").length){var x=n.exec(y);if(x)return this.path=y,this.href=y,this.pathname=x[1],x[2]?(this.search=x[2],t?this.query=_.parse(this.search.substr(1)):this.query=this.search.substr(1)):t&&(this.search="",this.query={}),this}var b=a.exec(y);if(b){var T=(b=b[0]).toLowerCase();this.protocol=T,y=y.substr(b.length)}if(r||b||y.match(/^\/\/[^@/]+@[^@/]+/)){var v="//"===y.substr(0,2);v&&!(b&&m[b])&&(y=y.substr(2),this.slashes=!0)}if(!m[b]&&(v||b&&!f[b])){for(var A,j,E=-1,S=0;S<u.length;S++){var P=y.indexOf(u[S]);-1!==P&&(-1===E||P<E)&&(E=P)}-1!==(j=-1===E?y.lastIndexOf("@"):y.lastIndexOf("@",E))&&(A=y.slice(0,j),y=y.slice(j+1),this.auth=decodeURIComponent(A)),E=-1;for(var S=0;S<h.length;S++){var P=y.indexOf(h[S]);-1!==P&&(-1===E||P<E)&&(E=P)}-1===E&&(E=y.length),this.host=y.slice(0,E),y=y.slice(E),this.parseHost(),this.hostname=this.hostname||"";var M="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!M)for(var C=this.hostname.split(/\./),S=0,R=C.length;S<R;S++){var F=C[S];if(F&&!F.match(c)){for(var I="",w=0,L=F.length;w<L;w++)F.charCodeAt(w)>127?I+="x":I+=F[w];if(!I.match(c)){var O=C.slice(0,S),B=C.slice(S+1),D=F.match(d);D&&(O.push(D[1]),B.unshift(D[2])),B.length&&(y="/"+B.join(".")+y),this.hostname=O.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),M||(this.hostname=s.toASCII(this.hostname));var N=this.port?":"+this.port:"",k=this.hostname||"";this.host=k+N,this.href+=this.host,M&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==y[0]&&(y="/"+y))}if(!p[T])for(var S=0,R=l.length;S<R;S++){var G=l[S];if(-1!==y.indexOf(G)){var U=encodeURIComponent(G);U===G&&(U=escape(G)),y=y.split(G).join(U)}}var H=y.indexOf("#");-1!==H&&(this.hash=y.substr(H),y=y.slice(0,H));var V=y.indexOf("?");if(-1!==V?(this.search=y.substr(V),this.query=y.substr(V+1),t&&(this.query=_.parse(this.query)),y=y.slice(0,V)):t&&(this.search="",this.query={}),y&&(this.pathname=y),f[T]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var N=this.pathname||"",X=this.search||"";this.path=N+X}return this.href=this.format(),this},i.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":")+"@");var t=this.protocol||"",r=this.pathname||"",s=this.hash||"",i=!1,a="";this.host?i=e+this.host:this.hostname&&(i=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&"object"==typeof this.query&&Object.keys(this.query).length&&(a=_.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var o=this.search||a&&"?"+a||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||f[t])&&!1!==i?(i="//"+(i||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):i||(i=""),s&&"#"!==s.charAt(0)&&(s="#"+s),o&&"?"!==o.charAt(0)&&(o="?"+o),t+i+(r=r.replace(/[?#]/g,function(e){return encodeURIComponent(e)}))+(o=o.replace("#","%23"))+s},i.prototype.resolve=function(e){return this.resolveObject(g(e,!1,!0)).format()},i.prototype.resolveObject=function(e){if("string"==typeof e){var t=new i;t.parse(e,!1,!0),e=t}for(var r=new i,s=Object.keys(this),a=0;a<s.length;a++){var o=s[a];r[o]=this[o]}if(r.hash=e.hash,""===e.href)return r.href=r.format(),r;if(e.slashes&&!e.protocol){for(var n=Object.keys(e),l=0;l<n.length;l++){var h=n[l];"protocol"!==h&&(r[h]=e[h])}return f[r.protocol]&&r.hostname&&!r.pathname&&(r.pathname="/",r.path=r.pathname),r.href=r.format(),r}if(e.protocol&&e.protocol!==r.protocol){if(!f[e.protocol]){for(var u=Object.keys(e),c=0;c<u.length;c++){var d=u[c];r[d]=e[d]}return r.href=r.format(),r}if(r.protocol=e.protocol,e.host||m[e.protocol])r.pathname=e.pathname;else{for(var p=(e.pathname||"").split("/");p.length&&!(e.host=p.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==p[0]&&p.unshift(""),p.length<2&&p.unshift(""),r.pathname=p.join("/")}if(r.search=e.search,r.query=e.query,r.host=e.host||"",r.auth=e.auth,r.hostname=e.hostname||e.host,r.port=e.port,r.pathname||r.search){var _=r.pathname||"",g=r.search||"";r.path=_+g}return r.slashes=r.slashes||e.slashes,r.href=r.format(),r}var y=r.pathname&&"/"===r.pathname.charAt(0),x=e.host||e.pathname&&"/"===e.pathname.charAt(0),b=x||y||r.host&&e.pathname,T=b,v=r.pathname&&r.pathname.split("/")||[],p=e.pathname&&e.pathname.split("/")||[],A=r.protocol&&!f[r.protocol];if(A&&(r.hostname="",r.port=null,r.host&&(""===v[0]?v[0]=r.host:v.unshift(r.host)),r.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===p[0]?p[0]=e.host:p.unshift(e.host)),e.host=null),b=b&&(""===p[0]||""===v[0])),x)r.host=e.host||""===e.host?e.host:r.host,r.hostname=e.hostname||""===e.hostname?e.hostname:r.hostname,r.search=e.search,r.query=e.query,v=p;else if(p.length)v||(v=[]),v.pop(),v=v.concat(p),r.search=e.search,r.query=e.query;else if(null!=e.search){if(A){r.host=v.shift(),r.hostname=r.host;var j=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@");j&&(r.auth=j.shift(),r.hostname=j.shift(),r.host=r.hostname)}return r.search=e.search,r.query=e.query,(null!==r.pathname||null!==r.search)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!v.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var E=v.slice(-1)[0],S=(r.host||e.host||v.length>1)&&("."===E||".."===E)||""===E,P=0,M=v.length;M>=0;M--)"."===(E=v[M])?v.splice(M,1):".."===E?(v.splice(M,1),P++):P&&(v.splice(M,1),P--);if(!b&&!T)for(;P--;P)v.unshift("..");b&&""!==v[0]&&(!v[0]||"/"!==v[0].charAt(0))&&v.unshift(""),S&&"/"!==v.join("/").substr(-1)&&v.push("");var C=""===v[0]||v[0]&&"/"===v[0].charAt(0);if(A){r.hostname=C?"":v.length?v.shift():"",r.host=r.hostname;var j=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@");j&&(r.auth=j.shift(),r.hostname=j.shift(),r.host=r.hostname)}return(b=b||r.host&&v.length)&&!C&&v.unshift(""),v.length>0?r.pathname=v.join("/"):(r.pathname=null,r.path=null),(null!==r.pathname||null!==r.search)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=e.auth||r.auth,r.slashes=r.slashes||e.slashes,r.href=r.format(),r},i.prototype.parseHost=function(){var e=this.host,t=o.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)},r.parse=g,r.resolve=function(e,t){return g(e,!1,!0).resolve(t)},r.resolveObject=function(e,t){return e?g(e,!1,!0).resolveObject(t):t},r.format=function(e){return("string"==typeof e&&(e=g(e)),e instanceof i)?e.format():i.prototype.format.call(e)},r.Url=i},{"6aa635927f16f681":"akW0Y","6724c84b9b69726b":"jNLqW"}],akW0Y:[function(e,t,r){var s=arguments[3];!function(e){var i=r&&!r.nodeType&&r,a=t&&!t.nodeType&&t,o="object"==typeof s&&s;(o.global===o||o.window===o||o.self===o)&&(e=o);var n,l,h=/^xn--/,u=/[^\x20-\x7E]/,c=/[\x2E\u3002\uFF0E\uFF61]/g,d={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},p=Math.floor,m=String.fromCharCode;function f(e){throw RangeError(d[e])}function _(e,t){for(var r=e.length,s=[];r--;)s[r]=t(e[r]);return s}function g(e,t){var r=e.split("@"),s="";return r.length>1&&(s=r[0]+"@",e=r[1]),s+_((e=e.replace(c,".")).split("."),t).join(".")}function y(e){for(var t,r,s=[],i=0,a=e.length;i<a;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<a?(64512&(r=e.charCodeAt(i++)))==56320?s.push(((1023&t)<<10)+(1023&r)+65536):(s.push(t),i--):s.push(t);return s}function x(e){return _(e,function(e){var t="";return e>65535&&(e-=65536,t+=m(e>>>10&1023|55296),e=56320|1023&e),t+=m(e)}).join("")}function b(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function T(e,t,r){var s=0;for(e=r?p(e/700):e>>1,e+=p(e/t);e>455;s+=36)e=p(e/35);return p(s+36*e/(e+38))}function v(e){var t,r,s,i,a,o,n,l,h,u,c,d=[],m=e.length,_=0,g=128,y=72;for((s=e.lastIndexOf("-"))<0&&(s=0),i=0;i<s;++i)e.charCodeAt(i)>=128&&f("not-basic"),d.push(e.charCodeAt(i));for(a=s>0?s+1:0;a<m;){for(o=_,n=1,l=36;a>=m&&f("invalid-input"),((h=(t=e.charCodeAt(a++))-48<10?t-22:t-65<26?t-65:t-97<26?t-97:36)>=36||h>p((2147483647-_)/n))&&f("overflow"),_+=h*n,!(h<(u=l<=y?1:l>=y+26?26:l-y));l+=36)n>p(2147483647/(c=36-u))&&f("overflow"),n*=c;y=T(_-o,r=d.length+1,0==o),p(_/r)>2147483647-g&&f("overflow"),g+=p(_/r),_%=r,d.splice(_++,0,g)}return x(d)}function A(e){var t,r,s,i,a,o,n,l,h,u,c,d,_,g,x,v=[];for(o=0,d=(e=y(e)).length,t=128,r=0,a=72;o<d;++o)(c=e[o])<128&&v.push(m(c));for(s=i=v.length,i&&v.push("-");s<d;){for(n=2147483647,o=0;o<d;++o)(c=e[o])>=t&&c<n&&(n=c);for(n-t>p((2147483647-r)/(_=s+1))&&f("overflow"),r+=(n-t)*_,t=n,o=0;o<d;++o)if((c=e[o])<t&&++r>2147483647&&f("overflow"),c==t){for(l=r,h=36;!(l<(u=h<=a?1:h>=a+26?26:h-a));h+=36)x=l-u,g=36-u,v.push(m(b(u+x%g,0))),l=p(x/g);v.push(m(b(l,0))),a=T(r,_,s==i),r=0,++s}++r,++t}return v.join("")}if(n={version:"1.4.1",ucs2:{decode:y,encode:x},decode:v,encode:A,toASCII:function(e){return g(e,function(e){return u.test(e)?"xn--"+A(e):e})},toUnicode:function(e){return g(e,function(e){return h.test(e)?v(e.slice(4).toLowerCase()):e})}},"function"==typeof define&&"object"==typeof define.amd&&define.amd)define("punycode",function(){return n});else if(i&&a){if(t.exports==i)a.exports=n;else for(l in n)n.hasOwnProperty(l)&&(i[l]=n[l])}else e.punycode=n}(this)},{}],jNLqW:[function(e,t,r){var s=e("a472ccaa2f2351e9"),i=e("7ffa4249597bf32b"),a=e("454df9476704f887");t.exports={formats:a,parse:i,stringify:s}},{a472ccaa2f2351e9:"ks9uU","7ffa4249597bf32b":"gVprk","454df9476704f887":"cBLal"}],ks9uU:[function(e,t,r){var s=e("6246bbb805756d41"),i=e("44263cc7b702ebf"),a=e("929f8531a94a537c"),o=Object.prototype.hasOwnProperty,n={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},l=Array.isArray,h=Array.prototype.push,u=function(e,t){h.apply(e,l(t)?t:[t])},c=Date.prototype.toISOString,d=a.default,p={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:i.encode,encodeValuesOnly:!1,format:d,formatter:a.formatters[d],indices:!1,serializeDate:function(e){return c.call(e)},skipNulls:!1,strictNullHandling:!1},m={},f=function e(t,r,a,o,n,h,c,d,f,_,g,y,x,b,T,v){for(var A,j,E=t,S=v,P=0,M=!1;void 0!==(S=S.get(m))&&!M;){var C=S.get(t);if(P+=1,void 0!==C){if(C===P)throw RangeError("Cyclic object value");M=!0}void 0===S.get(m)&&(P=0)}if("function"==typeof d?E=d(r,E):E instanceof Date?E=g(E):"comma"===a&&l(E)&&(E=i.maybeMap(E,function(e){return e instanceof Date?g(e):e})),null===E){if(n)return c&&!b?c(r,p.encoder,T,"key",y):r;E=""}if("string"==typeof(A=E)||"number"==typeof A||"boolean"==typeof A||"symbol"==typeof A||"bigint"==typeof A||i.isBuffer(E))return c?[x(b?r:c(r,p.encoder,T,"key",y))+"="+x(c(E,p.encoder,T,"value",y))]:[x(r)+"="+x(String(E))];var R=[];if(void 0===E)return R;if("comma"===a&&l(E))b&&c&&(E=i.maybeMap(E,c)),j=[{value:E.length>0?E.join(",")||null:void 0}];else if(l(d))j=d;else{var F=Object.keys(E);j=f?F.sort(f):F}for(var I=o&&l(E)&&1===E.length?r+"[]":r,w=0;w<j.length;++w){var L=j[w],O="object"==typeof L&&void 0!==L.value?L.value:E[L];if(!h||null!==O){var B=l(E)?"function"==typeof a?a(I,L):I:I+(_?"."+L:"["+L+"]");v.set(t,P);var D=s();D.set(m,v),u(R,e(O,B,a,o,n,h,"comma"===a&&b&&l(E)?null:c,d,f,_,g,y,x,b,T,D))}}return R},_=function(e){if(!e)return p;if(null!==e.encoder&&void 0!==e.encoder&&"function"!=typeof e.encoder)throw TypeError("Encoder has to be a function.");var t=e.charset||p.charset;if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=a.default;if(void 0!==e.format){if(!o.call(a.formatters,e.format))throw TypeError("Unknown format option provided.");r=e.format}var s=a.formatters[r],i=p.filter;return("function"==typeof e.filter||l(e.filter))&&(i=e.filter),{addQueryPrefix:"boolean"==typeof e.addQueryPrefix?e.addQueryPrefix:p.addQueryPrefix,allowDots:void 0===e.allowDots?p.allowDots:!!e.allowDots,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:p.charsetSentinel,delimiter:void 0===e.delimiter?p.delimiter:e.delimiter,encode:"boolean"==typeof e.encode?e.encode:p.encode,encoder:"function"==typeof e.encoder?e.encoder:p.encoder,encodeValuesOnly:"boolean"==typeof e.encodeValuesOnly?e.encodeValuesOnly:p.encodeValuesOnly,filter:i,format:r,formatter:s,serializeDate:"function"==typeof e.serializeDate?e.serializeDate:p.serializeDate,skipNulls:"boolean"==typeof e.skipNulls?e.skipNulls:p.skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:p.strictNullHandling}};t.exports=function(e,t){var r,i,a=e,o=_(t);"function"==typeof o.filter?a=(0,o.filter)("",a):l(o.filter)&&(r=o.filter);var h=[];if("object"!=typeof a||null===a)return"";i=t&&t.arrayFormat in n?t.arrayFormat:t&&"indices"in t?t.indices?"indices":"repeat":"indices";var c=n[i];if(t&&"commaRoundTrip"in t&&"boolean"!=typeof t.commaRoundTrip)throw TypeError("`commaRoundTrip` must be a boolean, or absent");var d="comma"===c&&t&&t.commaRoundTrip;r||(r=Object.keys(a)),o.sort&&r.sort(o.sort);for(var p=s(),m=0;m<r.length;++m){var g=r[m];o.skipNulls&&null===a[g]||u(h,f(a[g],g,c,d,o.strictNullHandling,o.skipNulls,o.encode?o.encoder:null,o.filter,o.sort,o.allowDots,o.serializeDate,o.format,o.formatter,o.encodeValuesOnly,o.charset,p))}var y=h.join(o.delimiter),x=!0===o.addQueryPrefix?"?":"";return o.charsetSentinel&&("iso-8859-1"===o.charset?x+="utf8=%26%2310003%3B&":x+="utf8=%E2%9C%93&"),y.length>0?x+y:""}},{"6246bbb805756d41":"4XxCc","44263cc7b702ebf":"gbYnj","929f8531a94a537c":"cBLal"}],"4XxCc":[function(e,t,r){var s=e("7911ec51a2dc9f3e"),i=e("125062ab9035288f"),a=e("9f4f5a92d8c6543"),o=e("1d3f7a3f029b095e"),n=s("%WeakMap%",!0),l=s("%Map%",!0),h=i("WeakMap.prototype.get",!0),u=i("WeakMap.prototype.set",!0),c=i("WeakMap.prototype.has",!0),d=i("Map.prototype.get",!0),p=i("Map.prototype.set",!0),m=i("Map.prototype.has",!0),f=function(e,t){for(var r,s=e;null!==(r=s.next);s=r)if(r.key===t)return s.next=r.next,r.next=e.next,e.next=r,r},_=function(e,t){var r=f(e,t);return r&&r.value},g=function(e,t,r){var s=f(e,t);s?s.value=r:e.next={key:t,next:e.next,value:r}};t.exports=function(){var e,t,r,s={assert:function(e){if(!s.has(e))throw new o("Side channel does not contain "+a(e))},get:function(s){if(n&&s&&("object"==typeof s||"function"==typeof s)){if(e)return h(e,s)}else if(l){if(t)return d(t,s)}else if(r)return _(r,s)},has:function(s){if(n&&s&&("object"==typeof s||"function"==typeof s)){if(e)return c(e,s)}else if(l){if(t)return m(t,s)}else if(r)return!!f(r,s);return!1},set:function(s,i){n&&s&&("object"==typeof s||"function"==typeof s)?(e||(e=new n),u(e,s,i)):l?(t||(t=new l),p(t,s,i)):(r||(r={key:{},next:null}),g(r,s,i))}};return s}},{"7911ec51a2dc9f3e":"4xeKk","125062ab9035288f":"a9ppF","9f4f5a92d8c6543":"fY2nc","1d3f7a3f029b095e":"4iI1M"}],"4xeKk":[function(e,t,r){var s=e("ff34c740859aa28e"),i=e("349515b7ea9b6cef"),a=e("9da01653b2dd9abf"),o=e("68586abd6b0136da"),n=e("662263fdbc077fc8"),l=e("abdfc34e5f6bb86"),h=e("daca1f932429e03e"),u=Function,c=function(e){try{return u('"use strict"; return ('+e+").constructor;")()}catch(e){}},d=Object.getOwnPropertyDescriptor;if(d)try{d({},"")}catch(e){d=null}var p=function(){throw new l},m=d?function(){try{return arguments.callee,p}catch(e){try{return d(arguments,"callee").get}catch(e){return p}}}():p,f=e("1f00f712d594ccf")(),_=e("23730654306aa64c")(),g=Object.getPrototypeOf||(_?function(e){return e.__proto__}:null),y={},x="undefined"!=typeof Uint8Array&&g?g(Uint8Array):void 0,b={__proto__:null,"%AggregateError%":"undefined"==typeof AggregateError?void 0:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?void 0:ArrayBuffer,"%ArrayIteratorPrototype%":f&&g?g([][Symbol.iterator]()):void 0,"%AsyncFromSyncIteratorPrototype%":void 0,"%AsyncFunction%":y,"%AsyncGenerator%":y,"%AsyncGeneratorFunction%":y,"%AsyncIteratorPrototype%":y,"%Atomics%":"undefined"==typeof Atomics?void 0:Atomics,"%BigInt%":"undefined"==typeof BigInt?void 0:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?void 0:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?void 0:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?void 0:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":s,"%eval%":eval,"%EvalError%":i,"%Float32Array%":"undefined"==typeof Float32Array?void 0:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?void 0:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?void 0:FinalizationRegistry,"%Function%":u,"%GeneratorFunction%":y,"%Int8Array%":"undefined"==typeof Int8Array?void 0:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?void 0:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?void 0:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":f&&g?g(g([][Symbol.iterator]())):void 0,"%JSON%":"object"==typeof JSON?JSON:void 0,"%Map%":"undefined"==typeof Map?void 0:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&f&&g?g(new Map()[Symbol.iterator]()):void 0,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?void 0:Promise,"%Proxy%":"undefined"==typeof Proxy?void 0:Proxy,"%RangeError%":a,"%ReferenceError%":o,"%Reflect%":"undefined"==typeof Reflect?void 0:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?void 0:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&f&&g?g(new Set()[Symbol.iterator]()):void 0,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?void 0:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":f&&g?g(""[Symbol.iterator]()):void 0,"%Symbol%":f?Symbol:void 0,"%SyntaxError%":n,"%ThrowTypeError%":m,"%TypedArray%":x,"%TypeError%":l,"%Uint8Array%":"undefined"==typeof Uint8Array?void 0:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?void 0:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?void 0:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?void 0:Uint32Array,"%URIError%":h,"%WeakMap%":"undefined"==typeof WeakMap?void 0:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?void 0:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?void 0:WeakSet};if(g)try{null.error}catch(e){var T=g(g(e));b["%Error.prototype%"]=T}var v=function e(t){var r;if("%AsyncFunction%"===t)r=c("async function () {}");else if("%GeneratorFunction%"===t)r=c("function* () {}");else if("%AsyncGeneratorFunction%"===t)r=c("async function* () {}");else if("%AsyncGenerator%"===t){var s=e("%AsyncGeneratorFunction%");s&&(r=s.prototype)}else if("%AsyncIteratorPrototype%"===t){var i=e("%AsyncGenerator%");i&&g&&(r=g(i.prototype))}return b[t]=r,r},A={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},j=e("7c5e688e48cd07b0"),E=e("af36d49b4b8c6c7c"),S=j.call(Function.call,Array.prototype.concat),P=j.call(Function.apply,Array.prototype.splice),M=j.call(Function.call,String.prototype.replace),C=j.call(Function.call,String.prototype.slice),R=j.call(Function.call,RegExp.prototype.exec),F=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,I=/\\(\\)?/g,w=function(e){var t=C(e,0,1),r=C(e,-1);if("%"===t&&"%"!==r)throw new n("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==t)throw new n("invalid intrinsic syntax, expected opening `%`");var s=[];return M(e,F,function(e,t,r,i){s[s.length]=r?M(i,I,"$1"):t||e}),s},L=function(e,t){var r,s=e;if(E(A,s)&&(s="%"+(r=A[s])[0]+"%"),E(b,s)){var i=b[s];if(i===y&&(i=v(s)),void 0===i&&!t)throw new l("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:r,name:s,value:i}}throw new n("intrinsic "+e+" does not exist!")};t.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new l("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new l('"allowMissing" argument must be a boolean');if(null===R(/^%?[^%]*%?$/,e))throw new n("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=w(e),s=r.length>0?r[0]:"",i=L("%"+s+"%",t),a=i.name,o=i.value,h=!1,u=i.alias;u&&(s=u[0],P(r,S([0,1],u)));for(var c=1,p=!0;c<r.length;c+=1){var m=r[c],f=C(m,0,1),_=C(m,-1);if(('"'===f||"'"===f||"`"===f||'"'===_||"'"===_||"`"===_)&&f!==_)throw new n("property names with quotes must have matching quotes");if("constructor"!==m&&p||(h=!0),s+="."+m,E(b,a="%"+s+"%"))o=b[a];else if(null!=o){if(!(m in o)){if(!t)throw new l("base intrinsic for "+e+" exists, but the property is not available.");return}if(d&&c+1>=r.length){var g=d(o,m);o=(p=!!g)&&"get"in g&&!("originalValue"in g.get)?g.get:o[m]}else p=E(o,m),o=o[m];p&&!h&&(b[a]=o)}}return o}},{ff34c740859aa28e:"9XYXC","349515b7ea9b6cef":"4FJiQ","9da01653b2dd9abf":"TZYuV","68586abd6b0136da":"9Lkgh","662263fdbc077fc8":"02Qaa",abdfc34e5f6bb86:"4iI1M",daca1f932429e03e:"aNWu0","1f00f712d594ccf":"8xjth","23730654306aa64c":"46Zes","7c5e688e48cd07b0":"j16Mn",af36d49b4b8c6c7c:"ccP99"}],"9XYXC":[function(e,t,r){t.exports=Error},{}],"4FJiQ":[function(e,t,r){t.exports=EvalError},{}],TZYuV:[function(e,t,r){t.exports=RangeError},{}],"9Lkgh":[function(e,t,r){t.exports=ReferenceError},{}],"02Qaa":[function(e,t,r){t.exports=SyntaxError},{}],"4iI1M":[function(e,t,r){t.exports=TypeError},{}],aNWu0:[function(e,t,r){t.exports=URIError},{}],"8xjth":[function(e,t,r){var s="undefined"!=typeof Symbol&&Symbol,i=e("3fb25678c62d2fce");t.exports=function(){return"function"==typeof s&&"function"==typeof Symbol&&"symbol"==typeof s("foo")&&"symbol"==typeof Symbol("bar")&&i()}},{"3fb25678c62d2fce":"cFplQ"}],cFplQ:[function(e,t,r){t.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),r=Object(t);if("string"==typeof t||"[object Symbol]"!==Object.prototype.toString.call(t)||"[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var s=Object.getOwnPropertySymbols(e);if(1!==s.length||s[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(e,t);if(42!==i.value||!0!==i.enumerable)return!1}return!0}},{}],"46Zes":[function(e,t,r){var s={foo:{}},i=Object;t.exports=function(){return({__proto__:s}).foo===s.foo&&!(({__proto__:null})instanceof i)}},{}],j16Mn:[function(e,t,r){var s=e("12e173b4dbaee960");t.exports=Function.prototype.bind||s},{"12e173b4dbaee960":"ebtRJ"}],ebtRJ:[function(e,t,r){var s=Object.prototype.toString,i=Math.max,a=function(e,t){for(var r=[],s=0;s<e.length;s+=1)r[s]=e[s];for(var i=0;i<t.length;i+=1)r[i+e.length]=t[i];return r},o=function(e,t){for(var r=[],s=t||0,i=0;s<e.length;s+=1,i+=1)r[i]=e[s];return r},n=function(e,t){for(var r="",s=0;s<e.length;s+=1)r+=e[s],s+1<e.length&&(r+=t);return r};t.exports=function(e){var t,r=this;if("function"!=typeof r||"[object Function]"!==s.apply(r))throw TypeError("Function.prototype.bind called on incompatible "+r);for(var l=o(arguments,1),h=i(0,r.length-l.length),u=[],c=0;c<h;c++)u[c]="$"+c;if(t=Function("binder","return function ("+n(u,",")+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof t){var s=r.apply(this,a(l,arguments));return Object(s)===s?s:this}return r.apply(e,a(l,arguments))}),r.prototype){var d=function(){};d.prototype=r.prototype,t.prototype=new d,d.prototype=null}return t}},{}],ccP99:[function(e,t,r){var s=Function.prototype.call,i=Object.prototype.hasOwnProperty,a=e("126cb75e62f8e17b");t.exports=a.call(s,i)},{"126cb75e62f8e17b":"j16Mn"}],a9ppF:[function(e,t,r){var s=e("8b08ecb81cf4de17"),i=e("266fc50410cfc4a"),a=i(s("String.prototype.indexOf"));t.exports=function(e,t){var r=s(e,!!t);return"function"==typeof r&&a(e,".prototype.")>-1?i(r):r}},{"8b08ecb81cf4de17":"4xeKk","266fc50410cfc4a":"3nGgf"}],"3nGgf":[function(e,t,r){var s=e("4f9d84d5de4909bc"),i=e("68d2ad3775278f43"),a=e("f4b53071c102d4e"),o=e("761613670c43be80"),n=i("%Function.prototype.apply%"),l=i("%Function.prototype.call%"),h=i("%Reflect.apply%",!0)||s.call(l,n),u=e("3426ee59b177cf96"),c=i("%Math.max%");t.exports=function(e){if("function"!=typeof e)throw new o("a function is required");var t=h(s,l,arguments);return a(t,1+c(0,e.length-(arguments.length-1)),!0)};var d=function(){return h(s,n,arguments)};u?u(t.exports,"apply",{value:d}):t.exports.apply=d},{"4f9d84d5de4909bc":"j16Mn","68d2ad3775278f43":"4xeKk",f4b53071c102d4e:"3FyKL","761613670c43be80":"4iI1M","3426ee59b177cf96":"hvcaa"}],"3FyKL":[function(e,t,r){var s=e("8b1c9107ef1524f2"),i=e("37dd1486f0f556ef"),a=e("6a9d2b46085df706")(),o=e("2d412b0f532d1834"),n=e("4352c534d27fe477"),l=s("%Math.floor%");t.exports=function(e,t){if("function"!=typeof e)throw new n("`fn` is not a function");if("number"!=typeof t||t<0||t>4294967295||l(t)!==t)throw new n("`length` must be a positive 32-bit integer");var r=arguments.length>2&&!!arguments[2],s=!0,h=!0;if("length"in e&&o){var u=o(e,"length");u&&!u.configurable&&(s=!1),u&&!u.writable&&(h=!1)}return(s||h||!r)&&(a?i(e,"length",t,!0,!0):i(e,"length",t)),e}},{"8b1c9107ef1524f2":"4xeKk","37dd1486f0f556ef":"gwoHx","6a9d2b46085df706":"jnzA9","2d412b0f532d1834":"5QU2T","4352c534d27fe477":"4iI1M"}],gwoHx:[function(e,t,r){var s=e("f17fd23367965521"),i=e("50f12088ee0f6bb"),a=e("45c79de2b2f9c949"),o=e("3f9bd39335781ec7");t.exports=function(e,t,r){if(!e||"object"!=typeof e&&"function"!=typeof e)throw new a("`obj` must be an object or a function`");if("string"!=typeof t&&"symbol"!=typeof t)throw new a("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!=typeof arguments[3]&&null!==arguments[3])throw new a("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!=typeof arguments[4]&&null!==arguments[4])throw new a("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!=typeof arguments[5]&&null!==arguments[5])throw new a("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!=typeof arguments[6])throw new a("`loose`, if provided, must be a boolean");var n=arguments.length>3?arguments[3]:null,l=arguments.length>4?arguments[4]:null,h=arguments.length>5?arguments[5]:null,u=arguments.length>6&&arguments[6],c=!!o&&o(e,t);if(s)s(e,t,{configurable:null===h&&c?c.configurable:!h,enumerable:null===n&&c?c.enumerable:!n,value:r,writable:null===l&&c?c.writable:!l});else if(!u&&(n||l||h))throw new i("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");else e[t]=r}},{f17fd23367965521:"hvcaa","50f12088ee0f6bb":"02Qaa","45c79de2b2f9c949":"4iI1M","3f9bd39335781ec7":"5QU2T"}],hvcaa:[function(e,t,r){var s=e("8e0b8e4026aaf38a")("%Object.defineProperty%",!0)||!1;if(s)try{s({},"a",{value:1})}catch(e){s=!1}t.exports=s},{"8e0b8e4026aaf38a":"4xeKk"}],"5QU2T":[function(e,t,r){var s=e("693e651525841e04")("%Object.getOwnPropertyDescriptor%",!0);if(s)try{s([],"length")}catch(e){s=null}t.exports=s},{"693e651525841e04":"4xeKk"}],jnzA9:[function(e,t,r){var s=e("1c3b0ce871129f60"),i=function(){return!!s};i.hasArrayLengthDefineBug=function(){if(!s)return null;try{return 1!==s([],"length",{value:1}).length}catch(e){return!0}},t.exports=i},{"1c3b0ce871129f60":"hvcaa"}],fY2nc:[function(e,t,r){var s=arguments[3],i="function"==typeof Map&&Map.prototype,a=Object.getOwnPropertyDescriptor&&i?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,o=i&&a&&"function"==typeof a.get?a.get:null,n=i&&Map.prototype.forEach,l="function"==typeof Set&&Set.prototype,h=Object.getOwnPropertyDescriptor&&l?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,u=l&&h&&"function"==typeof h.get?h.get:null,c=l&&Set.prototype.forEach,d="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,p="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,m="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,f=Boolean.prototype.valueOf,_=Object.prototype.toString,g=Function.prototype.toString,y=String.prototype.match,x=String.prototype.slice,b=String.prototype.replace,T=String.prototype.toUpperCase,v=String.prototype.toLowerCase,A=RegExp.prototype.test,j=Array.prototype.concat,E=Array.prototype.join,S=Array.prototype.slice,P=Math.floor,M="function"==typeof BigInt?BigInt.prototype.valueOf:null,C=Object.getOwnPropertySymbols,R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,F="function"==typeof Symbol&&"object"==typeof Symbol.iterator,I="function"==typeof Symbol&&Symbol.toStringTag&&(typeof Symbol.toStringTag===F?"object":"symbol")?Symbol.toStringTag:null,w=Object.prototype.propertyIsEnumerable,L=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function O(e,t){if(e===1/0||e===-1/0||e!=e||e&&e>-1e3&&e<1e3||A.call(/e/,t))return t;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof e){var s=e<0?-P(-e):P(e);if(s!==e){var i=String(s),a=x.call(t,i.length+1);return b.call(i,r,"$&_")+"."+b.call(b.call(a,/([0-9]{3})/g,"$&_"),/_$/,"")}}return b.call(t,r,"$&_")}var B=e("faefcb1694f2ad90"),D=B.custom,N=H(D)?D:null;function k(e,t,r){var s="double"===(r.quoteStyle||t)?'"':"'";return s+e+s}function G(e){return"[object Array]"===W(e)&&(!I||!("object"==typeof e&&I in e))}function U(e){return"[object RegExp]"===W(e)&&(!I||!("object"==typeof e&&I in e))}function H(e){if(F)return e&&"object"==typeof e&&e instanceof Symbol;if("symbol"==typeof e)return!0;if(!e||"object"!=typeof e||!R)return!1;try{return R.call(e),!0}catch(e){}return!1}t.exports=function e(t,r,i,a){var l=r||{};if(X(l,"quoteStyle")&&"single"!==l.quoteStyle&&"double"!==l.quoteStyle)throw TypeError('option "quoteStyle" must be "single" or "double"');if(X(l,"maxStringLength")&&("number"==typeof l.maxStringLength?l.maxStringLength<0&&l.maxStringLength!==1/0:null!==l.maxStringLength))throw TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var h=!X(l,"customInspect")||l.customInspect;if("boolean"!=typeof h&&"symbol"!==h)throw TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(X(l,"indent")&&null!==l.indent&&"	"!==l.indent&&!(parseInt(l.indent,10)===l.indent&&l.indent>0))throw TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(X(l,"numericSeparator")&&"boolean"!=typeof l.numericSeparator)throw TypeError('option "numericSeparator", if provided, must be `true` or `false`');var _=l.numericSeparator;if(void 0===t)return"undefined";if(null===t)return"null";if("boolean"==typeof t)return t?"true":"false";if("string"==typeof t)return function e(t,r){if(t.length>r.maxStringLength){var s=t.length-r.maxStringLength;return e(x.call(t,0,r.maxStringLength),r)+"... "+s+" more character"+(s>1?"s":"")}return k(b.call(b.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,z),"single",r)}(t,l);if("number"==typeof t){if(0===t)return 1/0/t>0?"0":"-0";var T=String(t);return _?O(t,T):T}if("bigint"==typeof t){var A=String(t)+"n";return _?O(t,A):A}var P=void 0===l.depth?5:l.depth;if(void 0===i&&(i=0),i>=P&&P>0&&"object"==typeof t)return G(t)?"[Array]":"[Object]";var C=function(e,t){var r;if("	"===e.indent)r="	";else{if("number"!=typeof e.indent||!(e.indent>0))return null;r=E.call(Array(e.indent+1)," ")}return{base:r,prev:E.call(Array(t+1),r)}}(l,i);if(void 0===a)a=[];else if(Y(a,t)>=0)return"[Circular]";function D(t,r,s){if(r&&(a=S.call(a)).push(r),s){var o={depth:l.depth};return X(l,"quoteStyle")&&(o.quoteStyle=l.quoteStyle),e(t,o,i+1,a)}return e(t,l,i+1,a)}if("function"==typeof t&&!U(t)){var V=function(e){if(e.name)return e.name;var t=y.call(g.call(e),/^function\s*([\w$]+)/);return t?t[1]:null}(t),J=Z(t,D);return"[Function"+(V?": "+V:" (anonymous)")+"]"+(J.length>0?" { "+E.call(J,", ")+" }":"")}if(H(t)){var ee=F?b.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):R.call(t);return"object"!=typeof t||F?ee:$(ee)}if(t&&"object"==typeof t&&("undefined"!=typeof HTMLElement&&t instanceof HTMLElement||"string"==typeof t.nodeName&&"function"==typeof t.getAttribute)){for(var et,er="<"+v.call(String(t.nodeName)),es=t.attributes||[],ei=0;ei<es.length;ei++)er+=" "+es[ei].name+"="+k((et=es[ei].value,b.call(String(et),/"/g,"&quot;")),"double",l);return er+=">",t.childNodes&&t.childNodes.length&&(er+="..."),er+="</"+v.call(String(t.nodeName))+">"}if(G(t)){if(0===t.length)return"[]";var ea=Z(t,D);return C&&!function(e){for(var t=0;t<e.length;t++)if(Y(e[t],"\n")>=0)return!1;return!0}(ea)?"["+Q(ea,C)+"]":"[ "+E.call(ea,", ")+" ]"}if("[object Error]"===W(t)&&(!I||!("object"==typeof t&&I in t))){var eo=Z(t,D);return"cause"in Error.prototype||!("cause"in t)||w.call(t,"cause")?0===eo.length?"["+String(t)+"]":"{ ["+String(t)+"] "+E.call(eo,", ")+" }":"{ ["+String(t)+"] "+E.call(j.call("[cause]: "+D(t.cause),eo),", ")+" }"}if("object"==typeof t&&h){if(N&&"function"==typeof t[N]&&B)return B(t,{depth:P-i});if("symbol"!==h&&"function"==typeof t.inspect)return t.inspect()}if(function(e){if(!o||!e||"object"!=typeof e)return!1;try{o.call(e);try{u.call(e)}catch(e){return!0}return e instanceof Map}catch(e){}return!1}(t)){var en=[];return n&&n.call(t,function(e,r){en.push(D(r,t,!0)+" => "+D(e,t))}),K("Map",o.call(t),en,C)}if(function(e){if(!u||!e||"object"!=typeof e)return!1;try{u.call(e);try{o.call(e)}catch(e){return!0}return e instanceof Set}catch(e){}return!1}(t)){var el=[];return c&&c.call(t,function(e){el.push(D(e,t))}),K("Set",u.call(t),el,C)}if(function(e){if(!d||!e||"object"!=typeof e)return!1;try{d.call(e,d);try{p.call(e,p)}catch(e){return!0}return e instanceof WeakMap}catch(e){}return!1}(t))return q("WeakMap");if(function(e){if(!p||!e||"object"!=typeof e)return!1;try{p.call(e,p);try{d.call(e,d)}catch(e){return!0}return e instanceof WeakSet}catch(e){}return!1}(t))return q("WeakSet");if(function(e){if(!m||!e||"object"!=typeof e)return!1;try{return m.call(e),!0}catch(e){}return!1}(t))return q("WeakRef");if("[object Number]"===W(t)&&(!I||!("object"==typeof t&&I in t)))return $(D(Number(t)));if(function(e){if(!e||"object"!=typeof e||!M)return!1;try{return M.call(e),!0}catch(e){}return!1}(t))return $(D(M.call(t)));if("[object Boolean]"===W(t)&&(!I||!("object"==typeof t&&I in t)))return $(f.call(t));if("[object String]"===W(t)&&(!I||!("object"==typeof t&&I in t)))return $(D(String(t)));if("undefined"!=typeof window&&t===window)return"{ [object Window] }";if(t===s)return"{ [object globalThis] }";if(!("[object Date]"===W(t)&&(!I||!("object"==typeof t&&I in t)))&&!U(t)){var eh=Z(t,D),eu=L?L(t)===Object.prototype:t instanceof Object||t.constructor===Object,ec=t instanceof Object?"":"null prototype",ed=!eu&&I&&Object(t)===t&&I in t?x.call(W(t),8,-1):ec?"Object":"",ep=(eu||"function"!=typeof t.constructor?"":t.constructor.name?t.constructor.name+" ":"")+(ed||ec?"["+E.call(j.call([],ed||[],ec||[]),": ")+"] ":"");return 0===eh.length?ep+"{}":C?ep+"{"+Q(eh,C)+"}":ep+"{ "+E.call(eh,", ")+" }"}return String(t)};var V=Object.prototype.hasOwnProperty||function(e){return e in this};function X(e,t){return V.call(e,t)}function W(e){return _.call(e)}function Y(e,t){if(e.indexOf)return e.indexOf(t);for(var r=0,s=e.length;r<s;r++)if(e[r]===t)return r;return -1}function z(e){var t=e.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return r?"\\"+r:"\\x"+(t<16?"0":"")+T.call(t.toString(16))}function $(e){return"Object("+e+")"}function q(e){return e+" { ? }"}function K(e,t,r,s){return e+" ("+t+") {"+(s?Q(r,s):E.call(r,", "))+"}"}function Q(e,t){if(0===e.length)return"";var r="\n"+t.prev+t.base;return r+E.call(e,","+r)+"\n"+t.prev}function Z(e,t){var r,s=G(e),i=[];if(s){i.length=e.length;for(var a=0;a<e.length;a++)i[a]=X(e,a)?t(e[a],e):""}var o="function"==typeof C?C(e):[];if(F){r={};for(var n=0;n<o.length;n++)r["$"+o[n]]=o[n]}for(var l in e)if(X(e,l)&&(!s||String(Number(l))!==l||!(l<e.length))){if(F&&r["$"+l]instanceof Symbol)continue;A.call(/[^\w$]/,l)?i.push(t(l,e)+": "+t(e[l],e)):i.push(l+": "+t(e[l],e))}if("function"==typeof C)for(var h=0;h<o.length;h++)w.call(e,o[h])&&i.push("["+t(o[h])+"]: "+t(e[o[h]],e));return i}},{faefcb1694f2ad90:"fJAdp"}],fJAdp:[function(e,t,r){},{}],gbYnj:[function(e,t,r){var s=e("7adf3674f81a2c87"),i=Object.prototype.hasOwnProperty,a=Array.isArray,o=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),n=function(e){for(;e.length>1;){var t=e.pop(),r=t.obj[t.prop];if(a(r)){for(var s=[],i=0;i<r.length;++i)void 0!==r[i]&&s.push(r[i]);t.obj[t.prop]=s}}},l=function(e,t){for(var r=t&&t.plainObjects?Object.create(null):{},s=0;s<e.length;++s)void 0!==e[s]&&(r[s]=e[s]);return r};t.exports={arrayToObject:l,assign:function(e,t){return Object.keys(t).reduce(function(e,r){return e[r]=t[r],e},e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],r=[],s=0;s<t.length;++s)for(var i=t[s],a=i.obj[i.prop],o=Object.keys(a),l=0;l<o.length;++l){var h=o[l],u=a[h];"object"==typeof u&&null!==u&&-1===r.indexOf(u)&&(t.push({obj:a,prop:h}),r.push(u))}return n(t),e},decode:function(e,t,r){var s=e.replace(/\+/g," ");if("iso-8859-1"===r)return s.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(s)}catch(e){return s}},encode:function(e,t,r,i,a){if(0===e.length)return e;var n=e;if("symbol"==typeof e?n=Symbol.prototype.toString.call(e):"string"!=typeof e&&(n=String(e)),"iso-8859-1"===r)return escape(n).replace(/%u[0-9a-f]{4}/gi,function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"});for(var l="",h=0;h<n.length;++h){var u=n.charCodeAt(h);if(45===u||46===u||95===u||126===u||u>=48&&u<=57||u>=65&&u<=90||u>=97&&u<=122||a===s.RFC1738&&(40===u||41===u)){l+=n.charAt(h);continue}if(u<128){l+=o[u];continue}if(u<2048){l+=o[192|u>>6]+o[128|63&u];continue}if(u<55296||u>=57344){l+=o[224|u>>12]+o[128|u>>6&63]+o[128|63&u];continue}h+=1,l+=o[240|(u=65536+((1023&u)<<10|1023&n.charCodeAt(h)))>>18]+o[128|u>>12&63]+o[128|u>>6&63]+o[128|63&u]}return l},isBuffer:function(e){return!!e&&"object"==typeof e&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},maybeMap:function(e,t){if(a(e)){for(var r=[],s=0;s<e.length;s+=1)r.push(t(e[s]));return r}return t(e)},merge:function e(t,r,s){if(!r)return t;if("object"!=typeof r){if(a(t))t.push(r);else{if(!t||"object"!=typeof t)return[t,r];(s&&(s.plainObjects||s.allowPrototypes)||!i.call(Object.prototype,r))&&(t[r]=!0)}return t}if(!t||"object"!=typeof t)return[t].concat(r);var o=t;return(a(t)&&!a(r)&&(o=l(t,s)),a(t)&&a(r))?(r.forEach(function(r,a){if(i.call(t,a)){var o=t[a];o&&"object"==typeof o&&r&&"object"==typeof r?t[a]=e(o,r,s):t.push(r)}else t[a]=r}),t):Object.keys(r).reduce(function(t,a){var o=r[a];return i.call(t,a)?t[a]=e(t[a],o,s):t[a]=o,t},o)}}},{"7adf3674f81a2c87":"cBLal"}],cBLal:[function(e,t,r){var s=String.prototype.replace,i=/%20/g,a="RFC3986";t.exports={default:a,formatters:{RFC1738:function(e){return s.call(e,i,"+")},RFC3986:function(e){return String(e)}},RFC1738:"RFC1738",RFC3986:a}},{}],gVprk:[function(e,t,r){var s=e("e76649c95dd0e736"),i=Object.prototype.hasOwnProperty,a=Array.isArray,o={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:s.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},n=function(e,t){return e&&"string"==typeof e&&t.comma&&e.indexOf(",")>-1?e.split(","):e},l=function(e,t){var r={__proto__:null},l=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,h=t.parameterLimit===1/0?void 0:t.parameterLimit,u=l.split(t.delimiter,h),c=-1,d=t.charset;if(t.charsetSentinel)for(p=0;p<u.length;++p)0===u[p].indexOf("utf8=")&&("utf8=%E2%9C%93"===u[p]?d="utf-8":"utf8=%26%2310003%3B"===u[p]&&(d="iso-8859-1"),c=p,p=u.length);for(p=0;p<u.length;++p)if(p!==c){var p,m,f,_=u[p],g=_.indexOf("]="),y=-1===g?_.indexOf("="):g+1;-1===y?(m=t.decoder(_,o.decoder,d,"key"),f=t.strictNullHandling?null:""):(m=t.decoder(_.slice(0,y),o.decoder,d,"key"),f=s.maybeMap(n(_.slice(y+1),t),function(e){return t.decoder(e,o.decoder,d,"value")})),f&&t.interpretNumericEntities&&"iso-8859-1"===d&&(f=f.replace(/&#(\d+);/g,function(e,t){return String.fromCharCode(parseInt(t,10))})),_.indexOf("[]=")>-1&&(f=a(f)?[f]:f),i.call(r,m)?r[m]=s.combine(r[m],f):r[m]=f}return r},h=function(e,t,r,s){for(var i=s?t:n(t,r),a=e.length-1;a>=0;--a){var o,l=e[a];if("[]"===l&&r.parseArrays)o=[].concat(i);else{o=r.plainObjects?Object.create(null):{};var h="["===l.charAt(0)&&"]"===l.charAt(l.length-1)?l.slice(1,-1):l,u=parseInt(h,10);r.parseArrays||""!==h?!isNaN(u)&&l!==h&&String(u)===h&&u>=0&&r.parseArrays&&u<=r.arrayLimit?(o=[])[u]=i:"__proto__"!==h&&(o[h]=i):o={0:i}}i=o}return i},u=function(e,t,r,s){if(e){var a=r.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/g,n=r.depth>0&&/(\[[^[\]]*])/.exec(a),l=n?a.slice(0,n.index):a,u=[];if(l){if(!r.plainObjects&&i.call(Object.prototype,l)&&!r.allowPrototypes)return;u.push(l)}for(var c=0;r.depth>0&&null!==(n=o.exec(a))&&c<r.depth;){if(c+=1,!r.plainObjects&&i.call(Object.prototype,n[1].slice(1,-1))&&!r.allowPrototypes)return;u.push(n[1])}return n&&u.push("["+a.slice(n.index)+"]"),h(u,t,r,s)}},c=function(e){if(!e)return o;if(null!==e.decoder&&void 0!==e.decoder&&"function"!=typeof e.decoder)throw TypeError("Decoder has to be a function.");if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t=void 0===e.charset?o.charset:e.charset;return{allowDots:void 0===e.allowDots?o.allowDots:!!e.allowDots,allowPrototypes:"boolean"==typeof e.allowPrototypes?e.allowPrototypes:o.allowPrototypes,allowSparse:"boolean"==typeof e.allowSparse?e.allowSparse:o.allowSparse,arrayLimit:"number"==typeof e.arrayLimit?e.arrayLimit:o.arrayLimit,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:o.charsetSentinel,comma:"boolean"==typeof e.comma?e.comma:o.comma,decoder:"function"==typeof e.decoder?e.decoder:o.decoder,delimiter:"string"==typeof e.delimiter||s.isRegExp(e.delimiter)?e.delimiter:o.delimiter,depth:"number"==typeof e.depth||!1===e.depth?+e.depth:o.depth,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof e.interpretNumericEntities?e.interpretNumericEntities:o.interpretNumericEntities,parameterLimit:"number"==typeof e.parameterLimit?e.parameterLimit:o.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"==typeof e.plainObjects?e.plainObjects:o.plainObjects,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:o.strictNullHandling}};t.exports=function(e,t){var r=c(t);if(""===e||null==e)return r.plainObjects?Object.create(null):{};for(var i="string"==typeof e?l(e,r):e,a=r.plainObjects?Object.create(null):{},o=Object.keys(i),n=0;n<o.length;++n){var h=o[n],d=u(h,i[h],r,"string"==typeof e);a=s.merge(a,d,r)}return!0===r.allowSparse?a:s.compact(a)}},{e76649c95dd0e736:"gbYnj"}],dMNOj:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"deprecation",()=>a);let i={};function a(e,t,r=3){if(i[t])return;let s=Error().stack;typeof s>"u"?console.warn("PixiJS Deprecation Warning: ",`${t}
Deprecated since v${e}`):(s=s.split(`
`).splice(r).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",`${t}
Deprecated since v${e}`),console.warn(s),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",`${t}
Deprecated since v${e}`),console.warn(s))),i[t]=!0}},{"@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],bVkCK:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"path",()=>n);var i=e("@pixi/settings");function a(e){if("string"!=typeof e)throw TypeError(`Path must be a string. Received ${JSON.stringify(e)}`)}function o(e){return e.split("?")[0].split("#")[0]}let n={toPosix:e=>e.replace(RegExp("\\".replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"g"),"/"),isUrl(e){return/^https?:/.test(this.toPosix(e))},isDataUrl:e=>/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(e),isBlobUrl:e=>e.startsWith("blob:"),hasProtocol(e){return/^[^/:]+:/.test(this.toPosix(e))},getProtocol(e){a(e),e=this.toPosix(e);let t=/^file:\/\/\//.exec(e);if(t)return t[0];let r=/^[^/:]+:\/{0,2}/.exec(e);return r?r[0]:""},toAbsolute(e,t,r){if(a(e),this.isDataUrl(e)||this.isBlobUrl(e))return e;let s=o(this.toPosix(t??(0,i.settings).ADAPTER.getBaseUrl())),l=o(this.toPosix(r??this.rootname(s)));return(e=this.toPosix(e)).startsWith("/")?n.join(l,e.slice(1)):this.isAbsolute(e)?e:this.join(s,e)},normalize(e){if(a(e),0===e.length)return".";if(this.isDataUrl(e)||this.isBlobUrl(e))return e;e=this.toPosix(e);let t="",r=e.startsWith("/");this.hasProtocol(e)&&(t=this.rootname(e),e=e.slice(t.length));let s=e.endsWith("/");return(e=function(e,t){let r="",s=0,i=-1,a=0,o=-1;for(let n=0;n<=e.length;++n){if(n<e.length)o=e.charCodeAt(n);else{if(47===o)break;o=47}if(47===o){if(!(i===n-1||1===a)){if(i!==n-1&&2===a){if(r.length<2||2!==s||46!==r.charCodeAt(r.length-1)||46!==r.charCodeAt(r.length-2)){if(r.length>2){let e=r.lastIndexOf("/");if(e!==r.length-1){-1===e?(r="",s=0):s=(r=r.slice(0,e)).length-1-r.lastIndexOf("/"),i=n,a=0;continue}}else if(2===r.length||1===r.length){r="",s=0,i=n,a=0;continue}}t&&(r.length>0?r+="/..":r="..",s=2)}else r.length>0?r+=`/${e.slice(i+1,n)}`:r=e.slice(i+1,n),s=n-i-1}i=n,a=0}else 46===o&&-1!==a?++a:a=-1}return r}(e,!1)).length>0&&s&&(e+="/"),r?`/${e}`:t+e},isAbsolute(e){return a(e),e=this.toPosix(e),!!this.hasProtocol(e)||e.startsWith("/")},join(...e){let t;if(0===e.length)return".";for(let r=0;r<e.length;++r){let s=e[r];if(a(s),s.length>0){if(void 0===t)t=s;else{let i=e[r-1]??"";this.joinExtensions.includes(this.extname(i).toLowerCase())?t+=`/../${s}`:t+=`/${s}`}}}return void 0===t?".":this.normalize(t)},dirname(e){if(a(e),0===e.length)return".";let t=(e=this.toPosix(e)).charCodeAt(0),r=47===t,s=-1,i=!0,o=this.getProtocol(e),n=e;e=e.slice(o.length);for(let r=e.length-1;r>=1;--r)if(47===(t=e.charCodeAt(r))){if(!i){s=r;break}}else i=!1;return -1===s?r?"/":this.isUrl(n)?o+e:o:r&&1===s?"//":o+e.slice(0,s)},rootname(e){a(e);let t="";if(t=(e=this.toPosix(e)).startsWith("/")?"/":this.getProtocol(e),this.isUrl(e)){let r=e.indexOf("/",t.length);(t=-1!==r?e.slice(0,r):e).endsWith("/")||(t+="/")}return t},basename(e,t){a(e),t&&a(t),e=o(this.toPosix(e));let r=0,s=-1,i=!0,n;if(void 0!==t&&t.length>0&&t.length<=e.length){if(t.length===e.length&&t===e)return"";let a=t.length-1,o=-1;for(n=e.length-1;n>=0;--n){let l=e.charCodeAt(n);if(47===l){if(!i){r=n+1;break}}else -1===o&&(i=!1,o=n+1),a>=0&&(l===t.charCodeAt(a)?-1==--a&&(s=n):(a=-1,s=o))}return r===s?s=o:-1===s&&(s=e.length),e.slice(r,s)}for(n=e.length-1;n>=0;--n)if(47===e.charCodeAt(n)){if(!i){r=n+1;break}}else -1===s&&(i=!1,s=n+1);return -1===s?"":e.slice(r,s)},extname(e){a(e),e=o(this.toPosix(e));let t=-1,r=0,s=-1,i=!0,n=0;for(let a=e.length-1;a>=0;--a){let o=e.charCodeAt(a);if(47===o){if(!i){r=a+1;break}continue}-1===s&&(i=!1,s=a+1),46===o?-1===t?t=a:1!==n&&(n=1):-1!==t&&(n=-1)}return -1===t||-1===s||0===n||1===n&&t===s-1&&t===r+1?"":e.slice(t,s)},parse(e){let t;a(e);let r={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return r;let s=(e=o(this.toPosix(e))).charCodeAt(0),i=this.isAbsolute(e);r.root=this.rootname(e),t=i||this.hasProtocol(e)?1:0;let n=-1,l=0,h=-1,u=!0,c=e.length-1,d=0;for(;c>=t;--c){if(47===(s=e.charCodeAt(c))){if(!u){l=c+1;break}continue}-1===h&&(u=!1,h=c+1),46===s?-1===n?n=c:1!==d&&(d=1):-1!==n&&(d=-1)}return -1===n||-1===h||0===d||1===d&&n===h-1&&n===l+1?-1!==h&&(0===l&&i?r.base=r.name=e.slice(1,h):r.base=r.name=e.slice(l,h)):(0===l&&i?(r.name=e.slice(1,n),r.base=e.slice(1,h)):(r.name=e.slice(l,n),r.base=e.slice(l,h)),r.ext=e.slice(n,h)),r.dir=this.dirname(e),r},sep:"/",delimiter:":",joinExtensions:[".html"]}},{"@pixi/settings":"fYTIf","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"4dZRE":[function(e,t,r){let s;var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r),i.export(r,"detectVideoAlphaMode",()=>o);var a=e("@pixi/constants");async function o(){return s??(s=(async()=>{let e=document.createElement("canvas").getContext("webgl");if(!e)return a.ALPHA_MODES.UNPACK;let t=await new Promise(e=>{let t=document.createElement("video");t.onloadeddata=()=>e(t),t.onerror=()=>e(null),t.autoplay=!1,t.crossOrigin="anonymous",t.preload="auto",t.src="data:video/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQJChYECGFOAZwEAAAAAAAHTEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHGTbuMU6uEElTDZ1OsggEXTbuMU6uEHFO7a1OsggG97AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmoCrXsYMPQkBNgIRMYXZmV0GETGF2ZkSJiEBEAAAAAAAAFlSua8yuAQAAAAAAAEPXgQFzxYgAAAAAAAAAAZyBACK1nIN1bmSIgQCGhVZfVlA5g4EBI+ODhAJiWgDglLCBArqBApqBAlPAgQFVsIRVuYEBElTDZ9Vzc9JjwItjxYgAAAAAAAAAAWfInEWjh0VOQ09ERVJEh49MYXZjIGxpYnZweC12cDlnyKJFo4hEVVJBVElPTkSHlDAwOjAwOjAwLjA0MDAwMDAwMAAAH0O2dcfngQCgwqGggQAAAIJJg0IAABAAFgA4JBwYSgAAICAAEb///4r+AAB1oZ2mm+6BAaWWgkmDQgAAEAAWADgkHBhKAAAgIABIQBxTu2uRu4+zgQC3iveBAfGCAXHwgQM=",t.load()});if(!t)return a.ALPHA_MODES.UNPACK;let r=e.createTexture();e.bindTexture(e.TEXTURE_2D,r);let s=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,s),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,r,0),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,e.NONE),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,t);let i=new Uint8Array(4);return e.readPixels(0,0,1,1,e.RGBA,e.UNSIGNED_BYTE,i),e.deleteFramebuffer(s),e.deleteTexture(r),e.getExtension("WEBGL_lose_context")?.loseContext(),i[0]<=i[3]?a.ALPHA_MODES.PMA:a.ALPHA_MODES.UNPACK})()),s}},{"@pixi/constants":"68v8p","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"9TVsy":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"sayHello",()=>o),s.export(r,"skipHello",()=>a);var i=e("../logging/deprecation.mjs");function a(){(0,i.deprecation)("7.0.0","skipHello is deprecated, please use settings.RENDER_OPTIONS.hello")}function o(){(0,i.deprecation)("7.0.0",'sayHello is deprecated, please use Renderer\'s "hello" option')}},{"../logging/deprecation.mjs":"dMNOj","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"8cVin":[function(e,t,r){let s;var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r),i.export(r,"isWebGLSupported",()=>o),e("../settings.mjs");var a=e("@pixi/settings");function o(){return typeof s>"u"&&(s=function(){let e={stencil:!0,failIfMajorPerformanceCaveat:a.settings.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!(0,a.settings).ADAPTER.getWebGLRenderingContext())return!1;let t=(0,a.settings).ADAPTER.createCanvas(),r=t.getContext("webgl",e)||t.getContext("experimental-webgl",e),s=!!r?.getContextAttributes()?.stencil;if(r){let e=r.getExtension("WEBGL_lose_context");e&&e.loseContext()}return r=null,s}catch{return!1}}()),s}},{"../settings.mjs":"m2X0a","@pixi/settings":"fYTIf","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"4Wc3m":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"hex2rgb",()=>o),s.export(r,"hex2string",()=>n),s.export(r,"rgb2hex",()=>h),s.export(r,"string2hex",()=>l);var i=e("@pixi/color"),a=e("../logging/deprecation.mjs");function o(e,t=[]){return(0,a.deprecation)("7.2.0","utils.hex2rgb is deprecated, use Color#toRgbArray instead"),(0,i.Color).shared.setValue(e).toRgbArray(t)}function n(e){return(0,a.deprecation)("7.2.0","utils.hex2string is deprecated, use Color#toHex instead"),(0,i.Color).shared.setValue(e).toHex()}function l(e){return(0,a.deprecation)("7.2.0","utils.string2hex is deprecated, use Color#toNumber instead"),(0,i.Color).shared.setValue(e).toNumber()}function h(e){return(0,a.deprecation)("7.2.0","utils.rgb2hex is deprecated, use Color#toNumber instead"),(0,i.Color).shared.setValue(e).toNumber()}},{"@pixi/color":"6G5hv","../logging/deprecation.mjs":"dMNOj","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"6G5hv":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"Color",()=>i.Color);var i=e("./Color.mjs")},{"./Color.mjs":"h80Zy","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],h80Zy:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"Color",()=>l);var i=e("@pixi/colord"),a=e("@pixi/colord/plugins/names"),o=s.interopDefault(a);(0,i.extend)([o.default]);let n=class e{constructor(e=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=e}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(e){return this.value=e,this}set value(t){if(t instanceof e)this._value=this.cloneSource(t._value),this._int=t._int,this._components.set(t._components);else{if(null===t)throw Error("Cannot set PIXI.Color#value to null");null!==this._value&&this.isSourceEqual(this._value,t)||(this.normalize(t),this._value=this.cloneSource(t))}}get value(){return this._value}cloneSource(e){return"string"==typeof e||"number"==typeof e||e instanceof Number||null===e?e:Array.isArray(e)||ArrayBuffer.isView(e)?e.slice(0):"object"==typeof e&&null!==e?{...e}:e}isSourceEqual(e,t){let r=typeof e;if(r!==typeof t)return!1;if("number"===r||"string"===r||e instanceof Number)return e===t;if(Array.isArray(e)&&Array.isArray(t)||ArrayBuffer.isView(e)&&ArrayBuffer.isView(t))return e.length===t.length&&e.every((e,r)=>e===t[r]);if(null!==e&&null!==t){let r=Object.keys(e),s=Object.keys(t);return r.length===s.length&&r.every(r=>e[r]===t[r])}return e===t}toRgba(){let[e,t,r,s]=this._components;return{r:e,g:t,b:r,a:s}}toRgb(){let[e,t,r]=this._components;return{r:e,g:t,b:r}}toRgbaString(){let[e,t,r]=this.toUint8RgbArray();return`rgba(${e},${t},${r},${this.alpha})`}toUint8RgbArray(e){let[t,r,s]=this._components;return(e=e??[])[0]=Math.round(255*t),e[1]=Math.round(255*r),e[2]=Math.round(255*s),e}toRgbArray(e){e=e??[];let[t,r,s]=this._components;return e[0]=t,e[1]=r,e[2]=s,e}toNumber(){return this._int}toLittleEndianNumber(){let e=this._int;return(e>>16)+(65280&e)+((255&e)<<16)}multiply(t){let[r,s,i,a]=e.temp.setValue(t)._components;return this._components[0]*=r,this._components[1]*=s,this._components[2]*=i,this._components[3]*=a,this.refreshInt(),this._value=null,this}premultiply(e,t=!0){return t&&(this._components[0]*=e,this._components[1]*=e,this._components[2]*=e),this._components[3]=e,this.refreshInt(),this._value=null,this}toPremultiplied(e,t=!0){if(1===e)return -16777216+this._int;if(0===e)return t?0:this._int;let r=this._int>>16&255,s=this._int>>8&255,i=255&this._int;return t&&(r=r*e+.5|0,s=s*e+.5|0,i=i*e+.5|0),(255*e<<24)+(r<<16)+(s<<8)+i}toHex(){let e=this._int.toString(16);return`#${"000000".substring(0,6-e.length)+e}`}toHexa(){let e=Math.round(255*this._components[3]).toString(16);return this.toHex()+"00".substring(0,2-e.length)+e}setAlpha(e){return this._components[3]=this._clamp(e),this}round(e){let[t,r,s]=this._components;return this._components[0]=Math.round(t*e)/e,this._components[1]=Math.round(r*e)/e,this._components[2]=Math.round(s*e)/e,this.refreshInt(),this._value=null,this}toArray(e){e=e??[];let[t,r,s,i]=this._components;return e[0]=t,e[1]=r,e[2]=s,e[3]=i,e}normalize(t){let r,s,a,o;if(("number"==typeof t||t instanceof Number)&&t>=0&&t<=16777215){let e=t;r=(e>>16&255)/255,s=(e>>8&255)/255,a=(255&e)/255,o=1}else if((Array.isArray(t)||t instanceof Float32Array)&&t.length>=3&&t.length<=4)t=this._clamp(t),[r,s,a,o=1]=t;else if((t instanceof Uint8Array||t instanceof Uint8ClampedArray)&&t.length>=3&&t.length<=4)t=this._clamp(t,0,255),[r,s,a,o=255]=t,r/=255,s/=255,a/=255,o/=255;else if("string"==typeof t||"object"==typeof t){if("string"==typeof t){let r=e.HEX_PATTERN.exec(t);r&&(t=`#${r[2]}`)}let n=(0,i.colord)(t);n.isValid()&&({r,g:s,b:a,a:o}=n.rgba,r/=255,s/=255,a/=255)}if(void 0!==r)this._components[0]=r,this._components[1]=s,this._components[2]=a,this._components[3]=o,this.refreshInt();else throw Error(`Unable to convert color ${t}`)}refreshInt(){this._clamp(this._components);let[e,t,r]=this._components;this._int=(255*e<<16)+(255*t<<8)+(255*r|0)}_clamp(e,t=0,r=1){return"number"==typeof e?Math.min(Math.max(e,t),r):(e.forEach((s,i)=>{e[i]=Math.min(Math.max(s,t),r)}),e)}};n.shared=new n,n.temp=new n,n.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;let l=n},{"@pixi/colord":"1yOKn","@pixi/colord/plugins/names":"31HMi","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"1yOKn":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"Colord",()=>R),s.export(r,"colord",()=>F),s.export(r,"extend",()=>w),s.export(r,"getFormat",()=>S),s.export(r,"random",()=>L);var i={grad:.9,turn:360,rad:360/(2*Math.PI)},a=function(e){return"string"==typeof e?e.length>0:"number"==typeof e},o=function(e,t,r){return void 0===t&&(t=0),void 0===r&&(r=Math.pow(10,t)),Math.round(r*e)/r+0},n=function(e,t,r){return void 0===t&&(t=0),void 0===r&&(r=1),e>r?r:e>t?e:t},l=function(e){return(e=isFinite(e)?e%360:0)>0?e:e+360},h=function(e){return{r:n(e.r,0,255),g:n(e.g,0,255),b:n(e.b,0,255),a:n(e.a)}},u=function(e){return{r:o(e.r),g:o(e.g),b:o(e.b),a:o(e.a,3)}},c=/^#([0-9a-f]{3,8})$/i,d=function(e){var t=e.toString(16);return t.length<2?"0"+t:t},p=function(e){var t=e.r,r=e.g,s=e.b,i=e.a,a=Math.max(t,r,s),o=a-Math.min(t,r,s),n=o?a===t?(r-s)/o:a===r?2+(s-t)/o:4+(t-r)/o:0;return{h:60*(n<0?n+6:n),s:a?o/a*100:0,v:a/255*100,a:i}},m=function(e){var t=e.h,r=e.s,s=e.v,i=e.a;t=t/360*6,r/=100,s/=100;var a=Math.floor(t),o=s*(1-r),n=s*(1-(t-a)*r),l=s*(1-(1-t+a)*r),h=a%6;return{r:255*[s,n,o,o,l,s][h],g:255*[l,s,s,n,o,o][h],b:255*[o,o,l,s,s,n][h],a:i}},f=function(e){return{h:l(e.h),s:n(e.s,0,100),l:n(e.l,0,100),a:n(e.a)}},_=function(e){return{h:o(e.h),s:o(e.s),l:o(e.l),a:o(e.a,3)}},g=function(e){var t,r;return m((t=e.s,{h:e.h,s:(t*=((r=e.l)<50?r:100-r)/100)>0?2*t/(r+t)*100:0,v:r+t,a:e.a}))},y=function(e){var t,r,s,i;return{h:(t=p(e)).h,s:(i=(200-(r=t.s))*(s=t.v)/100)>0&&i<200?r*s/100/(i<=100?i:200-i)*100:0,l:i/2,a:t.a}},x=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,b=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,T=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,v=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,A={string:[[function(e){var t=c.exec(e);return t?(e=t[1]).length<=4?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:4===e.length?o(parseInt(e[3]+e[3],16)/255,2):1}:6===e.length||8===e.length?{r:parseInt(e.substr(0,2),16),g:parseInt(e.substr(2,2),16),b:parseInt(e.substr(4,2),16),a:8===e.length?o(parseInt(e.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(e){var t=T.exec(e)||v.exec(e);return t?t[2]!==t[4]||t[4]!==t[6]?null:h({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:void 0===t[7]?1:Number(t[7])/(t[8]?100:1)}):null},"rgb"],[function(e){var t,r,s=x.exec(e)||b.exec(e);return s?g(f({h:(t=s[1],void 0===(r=s[2])&&(r="deg"),Number(t)*(i[r]||1)),s:Number(s[3]),l:Number(s[4]),a:void 0===s[5]?1:Number(s[5])/(s[6]?100:1)})):null},"hsl"]],object:[[function(e){var t=e.r,r=e.g,s=e.b,i=e.a;return a(t)&&a(r)&&a(s)?h({r:Number(t),g:Number(r),b:Number(s),a:Number(void 0===i?1:i)}):null},"rgb"],[function(e){var t=e.h,r=e.s,s=e.l,i=e.a;return a(t)&&a(r)&&a(s)?g(f({h:Number(t),s:Number(r),l:Number(s),a:Number(void 0===i?1:i)})):null},"hsl"],[function(e){var t,r=e.h,s=e.s,i=e.v,o=e.a;return a(r)&&a(s)&&a(i)?m({h:l((t={h:Number(r),s:Number(s),v:Number(i),a:Number(void 0===o?1:o)}).h),s:n(t.s,0,100),v:n(t.v,0,100),a:n(t.a)}):null},"hsv"]]},j=function(e,t){for(var r=0;r<t.length;r++){var s=t[r][0](e);if(s)return[s,t[r][1]]}return[null,void 0]},E=function(e){return"string"==typeof e?j(e.trim(),A.string):"object"==typeof e&&null!==e?j(e,A.object):[null,void 0]},S=function(e){return E(e)[1]},P=function(e,t){var r=y(e);return{h:r.h,s:n(r.s+100*t,0,100),l:r.l,a:r.a}},M=function(e){return(299*e.r+587*e.g+114*e.b)/1e3/255},C=function(e,t){var r=y(e);return{h:r.h,s:r.s,l:n(r.l+100*t,0,100),a:r.a}},R=function(){function e(e){this.parsed=E(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return e.prototype.isValid=function(){return null!==this.parsed},e.prototype.brightness=function(){return o(M(this.rgba),2)},e.prototype.isDark=function(){return .5>M(this.rgba)},e.prototype.isLight=function(){return M(this.rgba)>=.5},e.prototype.toHex=function(){var e,t,r,s,i,a;return t=(e=u(this.rgba)).r,r=e.g,s=e.b,a=(i=e.a)<1?d(o(255*i)):"","#"+d(t)+d(r)+d(s)+a},e.prototype.toRgb=function(){return u(this.rgba)},e.prototype.toRgbString=function(){var e,t,r,s,i;return t=(e=u(this.rgba)).r,r=e.g,s=e.b,(i=e.a)<1?"rgba("+t+", "+r+", "+s+", "+i+")":"rgb("+t+", "+r+", "+s+")"},e.prototype.toHsl=function(){return _(y(this.rgba))},e.prototype.toHslString=function(){var e,t,r,s,i;return t=(e=_(y(this.rgba))).h,r=e.s,s=e.l,(i=e.a)<1?"hsla("+t+", "+r+"%, "+s+"%, "+i+")":"hsl("+t+", "+r+"%, "+s+"%)"},e.prototype.toHsv=function(){var e;return{h:o((e=p(this.rgba)).h),s:o(e.s),v:o(e.v),a:o(e.a,3)}},e.prototype.invert=function(){var e;return F({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a})},e.prototype.saturate=function(e){return void 0===e&&(e=.1),F(P(this.rgba,e))},e.prototype.desaturate=function(e){return void 0===e&&(e=.1),F(P(this.rgba,-e))},e.prototype.grayscale=function(){return F(P(this.rgba,-1))},e.prototype.lighten=function(e){return void 0===e&&(e=.1),F(C(this.rgba,e))},e.prototype.darken=function(e){return void 0===e&&(e=.1),F(C(this.rgba,-e))},e.prototype.rotate=function(e){return void 0===e&&(e=15),this.hue(this.hue()+e)},e.prototype.alpha=function(e){var t;return"number"==typeof e?F({r:(t=this.rgba).r,g:t.g,b:t.b,a:e}):o(this.rgba.a,3)},e.prototype.hue=function(e){var t=y(this.rgba);return"number"==typeof e?F({h:e,s:t.s,l:t.l,a:t.a}):o(t.h)},e.prototype.isEqual=function(e){return this.toHex()===F(e).toHex()},e}(),F=function(e){return e instanceof R?e:new R(e)},I=[],w=function(e){e.forEach(function(e){0>I.indexOf(e)&&(e(R,A),I.push(e))})},L=function(){return new R({r:255*Math.random(),g:255*Math.random(),b:255*Math.random()})}},{"@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"31HMi":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"default",()=>function(e,t){var r={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},s={};for(var i in r)s[r[i]]=i;var a={};e.prototype.toName=function(t){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var i,o=s[this.toHex()];if(o)return o;if(null==t?void 0:t.closest){var n=this.toRgb(),l=1/0,h="black";if(!a.length)for(var u in r)a[u]=new e(r[u]).toRgb();for(var c in r){var d=(i=a[c],Math.pow(n.r-i.r,2)+Math.pow(n.g-i.g,2)+Math.pow(n.b-i.b,2));d<l&&(l=d,h=c)}return h}},t.string.push([function(t){var s=t.toLowerCase(),i="transparent"===s?"#0000":r[s];return i?new e(i).toRgb():null},"name"])})},{"@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"9tsC3":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"correctBlendMode",()=>l),s.export(r,"premultiplyBlendMode",()=>n),s.export(r,"premultiplyRgba",()=>h),s.export(r,"premultiplyTint",()=>u),s.export(r,"premultiplyTintToRgba",()=>c);var i=e("@pixi/color"),a=e("@pixi/constants"),o=e("../logging/deprecation.mjs");let n=function(){let e=[],t=[];for(let r=0;r<32;r++)e[r]=r,t[r]=r;e[a.BLEND_MODES.NORMAL_NPM]=a.BLEND_MODES.NORMAL,e[a.BLEND_MODES.ADD_NPM]=a.BLEND_MODES.ADD,e[a.BLEND_MODES.SCREEN_NPM]=a.BLEND_MODES.SCREEN,t[a.BLEND_MODES.NORMAL]=a.BLEND_MODES.NORMAL_NPM,t[a.BLEND_MODES.ADD]=a.BLEND_MODES.ADD_NPM,t[a.BLEND_MODES.SCREEN]=a.BLEND_MODES.SCREEN_NPM;let r=[];return r.push(t),r.push(e),r}();function l(e,t){return n[t?1:0][e]}function h(e,t,r,s=!0){return(0,o.deprecation)("7.2.0","utils.premultiplyRgba has moved to Color.premultiply"),(0,i.Color).shared.setValue(e).premultiply(t,s).toArray(r??new Float32Array(4))}function u(e,t){return(0,o.deprecation)("7.2.0","utils.premultiplyTint has moved to Color.toPremultiplied"),(0,i.Color).shared.setValue(e).toPremultiplied(t)}function c(e,t,r,s=!0){return(0,o.deprecation)("7.2.0","utils.premultiplyTintToRgba has moved to Color.premultiply"),(0,i.Color).shared.setValue(e).premultiply(t,s).toArray(r??new Float32Array(4))}},{"@pixi/color":"6G5hv","@pixi/constants":"68v8p","../logging/deprecation.mjs":"dMNOj","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"7WHrk":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"DATA_URI",()=>i);let i=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i},{"@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],cILkp:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");function i(e,t=null){let r=6*e;if((t=t||new Uint16Array(r)).length!==r)throw Error(`Out buffer length is incorrect, got ${t.length} and expected ${r}`);for(let e=0,s=0;e<r;e+=6,s+=4)t[e+0]=s+0,t[e+1]=s+1,t[e+2]=s+2,t[e+3]=s+0,t[e+4]=s+2,t[e+5]=s+3;return t}s.defineInteropFlag(r),s.export(r,"createIndicesForQuads",()=>i)},{"@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],Uiee8:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");function i(e){if(4===e.BYTES_PER_ELEMENT)return e instanceof Float32Array?"Float32Array":e instanceof Uint32Array?"Uint32Array":"Int32Array";if(2===e.BYTES_PER_ELEMENT){if(e instanceof Uint16Array)return"Uint16Array"}else if(1===e.BYTES_PER_ELEMENT&&e instanceof Uint8Array)return"Uint8Array";return null}s.defineInteropFlag(r),s.export(r,"getBufferType",()=>i)},{"@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],awVZv:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"interleaveTypedArrays",()=>o);var i=e("./getBufferType.mjs");let a={Float32Array,Uint32Array,Int32Array,Uint8Array};function o(e,t){let r=0,s=0,o={};for(let i=0;i<e.length;i++)s+=t[i],r+=e[i].length;let n=new ArrayBuffer(4*r),l=null,h=0;for(let r=0;r<e.length;r++){let u=t[r],c=e[r],d=(0,i.getBufferType)(c);o[d]||(o[d]=new a[d](n)),l=o[d];for(let e=0;e<c.length;e++)l[(e/u|0)*s+h+e%u]=c[e];h+=u}return new Float32Array(n)}},{"./getBufferType.mjs":"Uiee8","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"66v42":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");function i(e){return e+=0===e?1:0,--e,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,(e|=e>>>16)+1}function a(e){return!(e&e-1)&&!!e}function o(e){let t=(e>65535?1:0)<<4,r=((e>>>=t)>255?1:0)<<3;return e>>>=r,t|=r,r=(e>15?1:0)<<2,e>>>=r,t|=r,r=(e>3?1:0)<<1,e>>>=r,(t|=r)|e>>1}s.defineInteropFlag(r),s.export(r,"isPow2",()=>a),s.export(r,"log2",()=>o),s.export(r,"nextPow2",()=>i)},{"@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],iRnre:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");function i(e,t,r){let s;let i=e.length;if(t>=i||0===r)return;r=t+r>i?i-t:r;let a=i-r;for(s=t;s<a;++s)e[s]=e[s+r];e.length=a}s.defineInteropFlag(r),s.export(r,"removeItems",()=>i)},{"@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],jQ1sr:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");function i(e){return 0===e?0:e<0?-1:1}s.defineInteropFlag(r),s.export(r,"sign",()=>i)},{"@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"7AnNw":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"uid",()=>a);let i=0;function a(){return++i}},{"@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],llAu8:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"BoundingBox",()=>a);let i=class{constructor(e,t,r,s){this.left=e,this.top=t,this.right=r,this.bottom=s}get width(){return this.right-this.left}get height(){return this.bottom-this.top}isEmpty(){return this.left===this.right||this.top===this.bottom}};i.EMPTY=new i(0,0,0,0);let a=i},{"@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"7dBb0":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"BaseTextureCache",()=>o),s.export(r,"ProgramCache",()=>i),s.export(r,"TextureCache",()=>a),s.export(r,"clearTextureCache",()=>l),s.export(r,"destroyTextureCache",()=>n);let i={},a=Object.create(null),o=Object.create(null);function n(){let e;for(e in a)a[e].destroy();for(e in o)o[e].destroy()}function l(){let e;for(e in a)delete a[e];for(e in o)delete o[e]}},{"@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],hipLf:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"CanvasRenderTarget",()=>a);var i=e("@pixi/settings");class a{constructor(e,t,r){this._canvas=(0,i.settings).ADAPTER.createCanvas(),this._context=this._canvas.getContext("2d"),this.resolution=r||i.settings.RESOLUTION,this.resize(e,t)}clear(){this._checkDestroyed(),this._context.setTransform(1,0,0,1,0,0),this._context.clearRect(0,0,this._canvas.width,this._canvas.height)}resize(e,t){this._checkDestroyed(),this._canvas.width=Math.round(e*this.resolution),this._canvas.height=Math.round(t*this.resolution)}destroy(){this._context=null,this._canvas=null}get width(){return this._checkDestroyed(),this._canvas.width}set width(e){this._checkDestroyed(),this._canvas.width=Math.round(e)}get height(){return this._checkDestroyed(),this._canvas.height}set height(e){this._checkDestroyed(),this._canvas.height=Math.round(e)}get canvas(){return this._checkDestroyed(),this._canvas}get context(){return this._checkDestroyed(),this._context}_checkDestroyed(){if(null===this._canvas)throw TypeError("The CanvasRenderTarget has already been destroyed")}}},{"@pixi/settings":"fYTIf","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],dDAhc:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"getCanvasBoundingBox",()=>n);var i=e("./BoundingBox.mjs");function a(e,t,r){for(let s=0,i=4*r*t;s<t;++s,i+=4)if(0!==e[i+3])return!1;return!0}function o(e,t,r,s,i){let a=4*t;for(let t=s,o=s*a+4*r;t<=i;++t,o+=a)if(0!==e[o+3])return!1;return!0}function n(e){let{width:t,height:r}=e,s=e.getContext("2d",{willReadFrequently:!0});if(null===s)throw TypeError("Failed to get canvas 2D context");let n=s.getImageData(0,0,t,r).data,l=0,h=0,u=t-1,c=r-1;for(;h<r&&a(n,t,h);)++h;if(h===r)return i.BoundingBox.EMPTY;for(;a(n,t,c);)--c;for(;o(n,t,l,h,c);)++l;for(;o(n,t,u,h,c);)--u;return++u,++c,new i.BoundingBox(l,h,u,c)}},{"./BoundingBox.mjs":"llAu8","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"4t1C4":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"trimCanvas",()=>a);var i=e("./getCanvasBoundingBox.mjs");function a(e){let t=(0,i.getCanvasBoundingBox)(e),{width:r,height:s}=t,a=null;if(!t.isEmpty()){let i=e.getContext("2d");if(null===i)throw TypeError("Failed to get canvas 2D context");a=i.getImageData(t.left,t.top,r,s)}return{width:r,height:s,data:a}}},{"./getCanvasBoundingBox.mjs":"dDAhc","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],ptaZT:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"decomposeDataUri",()=>a);var i=e("../const.mjs");function a(e){let t=(0,i.DATA_URI).exec(e);if(t)return{mediaType:t[1]?t[1].toLowerCase():void 0,subType:t[2]?t[2].toLowerCase():void 0,charset:t[3]?t[3].toLowerCase():void 0,encoding:t[4]?t[4].toLowerCase():void 0,data:t[5]}}},{"../const.mjs":"7WHrk","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],aieiR:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");function i(e,t=globalThis.location){if(e.startsWith("data:"))return"";t=t||globalThis.location;let r=new URL(e,document.baseURI);return r.hostname!==t.hostname||r.port!==t.port||r.protocol!==t.protocol?"anonymous":""}s.defineInteropFlag(r),s.export(r,"determineCrossOrigin",()=>i)},{"@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],jhKpU:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"getResolutionOfUrl",()=>a),e("../settings.mjs");var i=e("@pixi/settings");function a(e,t=1){let r=i.settings.RETINA_PREFIX?.exec(e);return r?parseFloat(r[1]):t}},{"../settings.mjs":"m2X0a","@pixi/settings":"fYTIf","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],i5q9D:[function(e,t,r){},{}],aHPLz:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"BatchRenderer",()=>E);var i=e("@pixi/color"),a=e("@pixi/constants"),o=e("@pixi/extensions"),n=e("@pixi/settings"),l=e("@pixi/utils"),h=e("../geometry/ViewableBuffer.mjs"),u=e("../shader/utils/checkMaxIfStatementsInShader.mjs"),c=e("../state/State.mjs"),d=e("../textures/BaseTexture.mjs"),p=e("./BatchDrawCall.mjs"),m=e("./BatchGeometry.mjs"),f=e("./BatchShaderGenerator.mjs"),_=e("./BatchTextureArray.mjs"),g=e("./canUploadSameBuffer.mjs"),y=e("./maxRecommendedTextures.mjs"),x=e("./ObjectRenderer.mjs"),b=e("./texture.frag.mjs"),T=s.interopDefault(b),v=e("./texture.vert.mjs"),A=s.interopDefault(v);let j=class e extends x.ObjectRenderer{constructor(t){super(t),this.setShaderGenerator(),this.geometryClass=m.BatchGeometry,this.vertexSize=6,this.state=(0,c.State).for2d(),this.size=4*e.defaultBatchSize,this._vertexCount=0,this._indexCount=0,this._bufferedElements=[],this._bufferedTextures=[],this._bufferSize=0,this._shader=null,this._packedGeometries=[],this._packedGeometryPoolSize=2,this._flushId=0,this._aBuffers={},this._iBuffers={},this.maxTextures=1,this.renderer.on("prerender",this.onPrerender,this),t.runners.contextChange.add(this),this._dcIndex=0,this._aIndex=0,this._iIndex=0,this._attributeBuffer=null,this._indexBuffer=null,this._tempBoundTextures=[]}static get defaultMaxTextures(){return this._defaultMaxTextures=this._defaultMaxTextures??(0,y.maxRecommendedTextures)(32),this._defaultMaxTextures}static set defaultMaxTextures(e){this._defaultMaxTextures=e}static get canUploadSameBuffer(){return this._canUploadSameBuffer=this._canUploadSameBuffer??(0,g.canUploadSameBuffer)(),this._canUploadSameBuffer}static set canUploadSameBuffer(e){this._canUploadSameBuffer=e}get MAX_TEXTURES(){return(0,l.deprecation)("7.1.0","BatchRenderer#MAX_TEXTURES renamed to BatchRenderer#maxTextures"),this.maxTextures}static get defaultVertexSrc(){return A.default}static get defaultFragmentTemplate(){return T.default}setShaderGenerator({vertex:t=e.defaultVertexSrc,fragment:r=e.defaultFragmentTemplate}={}){this.shaderGenerator=new f.BatchShaderGenerator(t,r)}contextChange(){let t=this.renderer.gl;n.settings.PREFER_ENV===a.ENV.WEBGL_LEGACY?this.maxTextures=1:(this.maxTextures=Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),e.defaultMaxTextures),this.maxTextures=(0,u.checkMaxIfStatementsInShader)(this.maxTextures,t)),this._shader=this.shaderGenerator.generateShader(this.maxTextures);for(let e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]=new this.geometryClass;this.initFlushBuffers()}initFlushBuffers(){let{_drawCallPool:t,_textureArrayPool:r}=e,s=this.size/4,i=Math.floor(s/this.maxTextures)+1;for(;t.length<s;)t.push(new p.BatchDrawCall);for(;r.length<i;)r.push(new _.BatchTextureArray);for(let e=0;e<this.maxTextures;e++)this._tempBoundTextures[e]=null}onPrerender(){this._flushId=0}render(e){e._texture.valid&&(this._vertexCount+e.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=e.vertexData.length/2,this._indexCount+=e.indices.length,this._bufferedTextures[this._bufferSize]=e._texture.baseTexture,this._bufferedElements[this._bufferSize++]=e)}buildTexturesAndDrawCalls(){let{_bufferedTextures:t,maxTextures:r}=this,s=e._textureArrayPool,i=this.renderer.batch,a=this._tempBoundTextures,o=this.renderer.textureGC.count,n=++d.BaseTexture._globalBatch,l=0,h=s[0],u=0;i.copyBoundTextures(a,r);for(let e=0;e<this._bufferSize;++e){let c=t[e];t[e]=null,c._batchEnabled!==n&&(h.count>=r&&(i.boundArray(h,a,n,r),this.buildDrawCalls(h,u,e),u=e,h=s[++l],++n),c._batchEnabled=n,c.touched=o,h.elements[h.count++]=c)}h.count>0&&(i.boundArray(h,a,n,r),this.buildDrawCalls(h,u,this._bufferSize),++l,++n);for(let e=0;e<a.length;e++)a[e]=null;d.BaseTexture._globalBatch=n}buildDrawCalls(t,r,s){let{_bufferedElements:i,_attributeBuffer:a,_indexBuffer:o,vertexSize:n}=this,h=e._drawCallPool,u=this._dcIndex,c=this._aIndex,d=this._iIndex,p=h[u];p.start=this._iIndex,p.texArray=t;for(let e=r;e<s;++e){let s=i[e],m=s._texture.baseTexture,f=l.premultiplyBlendMode[m.alphaMode?1:0][s.blendMode];i[e]=null,r<e&&p.blend!==f&&(p.size=d-p.start,r=e,(p=h[++u]).texArray=t,p.start=d),this.packInterleavedGeometry(s,a,o,c,d),c+=s.vertexData.length/2*n,d+=s.indices.length,p.blend=f}r<s&&(p.size=d-p.start,++u),this._dcIndex=u,this._aIndex=c,this._iIndex=d}bindAndClearTexArray(e){let t=this.renderer.texture;for(let r=0;r<e.count;r++)t.bind(e.elements[r],e.ids[r]),e.elements[r]=null;e.count=0}updateGeometry(){let{_packedGeometries:t,_attributeBuffer:r,_indexBuffer:s}=this;e.canUploadSameBuffer?(t[this._flushId]._buffer.update(r.rawBinaryData),t[this._flushId]._indexBuffer.update(s),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,t[this._flushId]=new this.geometryClass),t[this._flushId]._buffer.update(r.rawBinaryData),t[this._flushId]._indexBuffer.update(s),this.renderer.geometry.bind(t[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)}drawBatches(){let t=this._dcIndex,{gl:r,state:s}=this.renderer,i=e._drawCallPool,a=null;for(let e=0;e<t;e++){let{texArray:t,type:o,size:n,start:l,blend:h}=i[e];a!==t&&(a=t,this.bindAndClearTexArray(t)),this.state.blendMode=h,s.set(this.state),r.drawElements(o,n,r.UNSIGNED_SHORT,2*l)}}flush(){0!==this._vertexCount&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)}start(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.maxTextures),this.renderer.shader.bind(this._shader),e.canUploadSameBuffer&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])}stop(){this.flush()}destroy(){for(let e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]&&this._packedGeometries[e].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),super.destroy()}getAttributeBuffer(e){let t=(0,l.nextPow2)(Math.ceil(e/8)),r=(0,l.log2)(t),s=8*t;this._aBuffers.length<=r&&(this._iBuffers.length=r+1);let i=this._aBuffers[s];return i||(this._aBuffers[s]=i=new h.ViewableBuffer(s*this.vertexSize*4)),i}getIndexBuffer(e){let t=(0,l.nextPow2)(Math.ceil(e/12)),r=(0,l.log2)(t);this._iBuffers.length<=r&&(this._iBuffers.length=r+1);let s=this._iBuffers[r];return s||(this._iBuffers[r]=s=new Uint16Array(12*t)),s}packInterleavedGeometry(e,t,r,s,a){let{uint32View:o,float32View:n}=t,l=s/this.vertexSize,h=e.uvs,u=e.indices,c=e.vertexData,d=e._texture.baseTexture._batchLocation,p=Math.min(e.worldAlpha,1),m=(0,i.Color).shared.setValue(e._tintRGB).toPremultiplied(p,e._texture.baseTexture.alphaMode>0);for(let e=0;e<c.length;e+=2)n[s++]=c[e],n[s++]=c[e+1],n[s++]=h[e],n[s++]=h[e+1],o[s++]=m,n[s++]=d;for(let e=0;e<u.length;e++)r[a++]=l+u[e]}};j.defaultBatchSize=4096,j.extension={name:"batch",type:o.ExtensionType.RendererPlugin},j._drawCallPool=[],j._textureArrayPool=[];let E=j;(0,o.extensions).add(E)},{"@pixi/color":"6G5hv","@pixi/constants":"68v8p","@pixi/extensions":"LXrqQ","@pixi/settings":"fYTIf","@pixi/utils":"4Acrm","../geometry/ViewableBuffer.mjs":"bkGCq","../shader/utils/checkMaxIfStatementsInShader.mjs":"1n1h6","../state/State.mjs":"8tAVV","../textures/BaseTexture.mjs":"gFSHz","./BatchDrawCall.mjs":"ggZTt","./BatchGeometry.mjs":"kTvDS","./BatchShaderGenerator.mjs":"aW5Xm","./BatchTextureArray.mjs":"1rWeK","./canUploadSameBuffer.mjs":"8pqNP","./maxRecommendedTextures.mjs":"hsm56","./ObjectRenderer.mjs":"6mKqv","./texture.frag.mjs":"adU4D","./texture.vert.mjs":"eYlLH","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],LXrqQ:[function(e,t,r){let s;var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r),i.export(r,"ExtensionType",()=>a),i.export(r,"extensions",()=>l);var a=((s=a||{}).Renderer="renderer",s.Application="application",s.RendererSystem="renderer-webgl-system",s.RendererPlugin="renderer-webgl-plugin",s.CanvasRendererSystem="renderer-canvas-system",s.CanvasRendererPlugin="renderer-canvas-plugin",s.Asset="asset",s.LoadParser="load-parser",s.ResolveParser="resolve-parser",s.CacheParser="cache-parser",s.DetectionParser="detection-parser",s);let o=e=>{if("function"==typeof e||"object"==typeof e&&e.extension){if(!e.extension)throw Error("Extension class must have an extension object");e={..."object"!=typeof e.extension?{type:e.extension}:e.extension,ref:e}}if("object"==typeof e)e={...e};else throw Error("Invalid extension type");return"string"==typeof e.type&&(e.type=[e.type]),e},n=(e,t)=>o(e).priority??t,l={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...e){return e.map(o).forEach(e=>{e.type.forEach(t=>this._removeHandlers[t]?.(e))}),this},add(...e){return e.map(o).forEach(e=>{e.type.forEach(t=>{let r=this._addHandlers,s=this._queue;r[t]?r[t]?.(e):(s[t]=s[t]||[],s[t]?.push(e))})}),this},handle(e,t,r){let s=this._addHandlers,i=this._removeHandlers;if(s[e]||i[e])throw Error(`Extension type ${e} already has a handler`);s[e]=t,i[e]=r;let a=this._queue;return a[e]&&(a[e]?.forEach(e=>t(e)),delete a[e]),this},handleByMap(e,t){return this.handle(e,e=>{e.name&&(t[e.name]=e.ref)},e=>{e.name&&delete t[e.name]})},handleByList(e,t,r=-1){return this.handle(e,e=>{t.includes(e.ref)||(t.push(e.ref),t.sort((e,t)=>n(t,r)-n(e,r)))},e=>{let r=t.indexOf(e.ref);-1!==r&&t.splice(r,1)})}}},{"@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],bkGCq:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"ViewableBuffer",()=>i);class i{constructor(e){"number"==typeof e?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get uint16View(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}view(e){return this[`${e}View`]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw Error(`${e} isn't a valid view type`)}}}},{"@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"1n1h6":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"checkMaxIfStatementsInShader",()=>a);let i=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function a(e,t){if(0===e)throw Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");let r=t.createShader(t.FRAGMENT_SHADER);for(;;){let s=i.replace(/%forloop%/gi,function(e){let t="";for(let r=0;r<e;++r)r>0&&(t+=`
else `),r<e-1&&(t+=`if(test == ${r}.0){}`);return t}(e));if(t.shaderSource(r,s),t.compileShader(r),t.getShaderParameter(r,t.COMPILE_STATUS))break;e=e/2|0}return e}},{"@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"8tAVV":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"State",()=>a);var i=e("@pixi/constants");class a{constructor(){this.data=0,this.blendMode=i.BLEND_MODES.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(1&this.data)}set blend(e){!!(1&this.data)!==e&&(this.data^=1)}get offsets(){return!!(2&this.data)}set offsets(e){!!(2&this.data)!==e&&(this.data^=2)}get culling(){return!!(4&this.data)}set culling(e){!!(4&this.data)!==e&&(this.data^=4)}get depthTest(){return!!(8&this.data)}set depthTest(e){!!(8&this.data)!==e&&(this.data^=8)}get depthMask(){return!!(32&this.data)}set depthMask(e){!!(32&this.data)!==e&&(this.data^=32)}get clockwiseFrontFace(){return!!(16&this.data)}set clockwiseFrontFace(e){!!(16&this.data)!==e&&(this.data^=16)}get blendMode(){return this._blendMode}set blendMode(e){this.blend=e!==i.BLEND_MODES.NONE,this._blendMode=e}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){this.offsets=!!e,this._polygonOffset=e}static for2d(){let e=new a;return e.depthTest=!1,e.blend=!0,e}}a.prototype.toString=function(){return`[@pixi/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`}},{"@pixi/constants":"68v8p","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],gFSHz:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"BaseTexture",()=>d);var i=e("@pixi/constants"),a=e("@pixi/settings"),o=e("@pixi/utils"),n=e("./resources/autoDetectResource.mjs"),l=e("./resources/BufferResource.mjs"),h=e("./resources/Resource.mjs");let u={scaleMode:i.SCALE_MODES.NEAREST,alphaMode:i.ALPHA_MODES.NPM},c=class e extends o.EventEmitter{constructor(t=null,r=null){super();let{alphaMode:s,mipmap:i,anisotropicLevel:l,scaleMode:u,width:c,height:d,wrapMode:p,format:m,type:f,target:_,resolution:g,resourceOptions:y}=r=Object.assign({},e.defaultOptions,r);!t||t instanceof h.Resource||((t=(0,n.autoDetectResource)(t,y)).internal=!0),this.resolution=g||a.settings.RESOLUTION,this.width=Math.round((c||0)*this.resolution)/this.resolution,this.height=Math.round((d||0)*this.resolution)/this.resolution,this._mipmap=i,this.anisotropicLevel=l,this._wrapMode=p,this._scaleMode=u,this.format=m,this.type=f,this.target=_,this.alphaMode=s,this.uid=(0,o.uid)(),this.touched=0,this.isPowerOfTwo=!1,this._refreshPOT(),this._glTextures={},this.dirtyId=0,this.dirtyStyleId=0,this.cacheId=null,this.valid=c>0&&d>0,this.textureCacheIds=[],this.destroyed=!1,this.resource=null,this._batchEnabled=0,this._batchLocation=0,this.parentTextureArray=null,this.setResource(t)}get realWidth(){return Math.round(this.width*this.resolution)}get realHeight(){return Math.round(this.height*this.resolution)}get mipmap(){return this._mipmap}set mipmap(e){this._mipmap!==e&&(this._mipmap=e,this.dirtyStyleId++)}get scaleMode(){return this._scaleMode}set scaleMode(e){this._scaleMode!==e&&(this._scaleMode=e,this.dirtyStyleId++)}get wrapMode(){return this._wrapMode}set wrapMode(e){this._wrapMode!==e&&(this._wrapMode=e,this.dirtyStyleId++)}setStyle(e,t){let r;return void 0!==e&&e!==this.scaleMode&&(this.scaleMode=e,r=!0),void 0!==t&&t!==this.mipmap&&(this.mipmap=t,r=!0),r&&this.dirtyStyleId++,this}setSize(e,t,r){return r=r||this.resolution,this.setRealSize(e*r,t*r,r)}setRealSize(e,t,r){return this.resolution=r||this.resolution,this.width=Math.round(e)/this.resolution,this.height=Math.round(t)/this.resolution,this._refreshPOT(),this.update(),this}_refreshPOT(){this.isPowerOfTwo=(0,o.isPow2)(this.realWidth)&&(0,o.isPow2)(this.realHeight)}setResolution(e){let t=this.resolution;return t===e||(this.resolution=e,this.valid&&(this.width=Math.round(this.width*t)/e,this.height=Math.round(this.height*t)/e,this.emit("update",this)),this._refreshPOT()),this}setResource(e){if(this.resource===e)return this;if(this.resource)throw Error("Resource can be set only once");return e.bind(this),this.resource=e,this}update(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))}onError(e){this.emit("error",this,e)}destroy(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete o.BaseTextureCache[this.cacheId],delete o.TextureCache[this.cacheId],this.cacheId=null),this.valid=!1,this.dispose(),e.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0,this.emit("destroyed",this),this.removeAllListeners()}dispose(){this.emit("dispose",this)}castToBaseTexture(){return this}static from(t,r,s=a.settings.STRICT_TEXTURE_CACHE){let i="string"==typeof t,n=null;if(i)n=t;else{if(!t._pixiId){let e=r?.pixiIdPrefix||"pixiid";t._pixiId=`${e}_${(0,o.uid)()}`}n=t._pixiId}let l=o.BaseTextureCache[n];if(i&&s&&!l)throw Error(`The cacheId "${n}" does not exist in BaseTextureCache.`);return l||((l=new e(t,r)).cacheId=n,e.addToCache(l,n)),l}static fromBuffer(t,r,s,a){let o,n;t=t||new Float32Array(r*s*4);let h=new l.BufferResource(t,{width:r,height:s,...a?.resourceOptions});return t instanceof Float32Array?(o=i.FORMATS.RGBA,n=i.TYPES.FLOAT):t instanceof Int32Array?(o=i.FORMATS.RGBA_INTEGER,n=i.TYPES.INT):t instanceof Uint32Array?(o=i.FORMATS.RGBA_INTEGER,n=i.TYPES.UNSIGNED_INT):t instanceof Int16Array?(o=i.FORMATS.RGBA_INTEGER,n=i.TYPES.SHORT):t instanceof Uint16Array?(o=i.FORMATS.RGBA_INTEGER,n=i.TYPES.UNSIGNED_SHORT):t instanceof Int8Array?(o=i.FORMATS.RGBA,n=i.TYPES.BYTE):(o=i.FORMATS.RGBA,n=i.TYPES.UNSIGNED_BYTE),h.internal=!0,new e(h,Object.assign({},u,{type:n,format:o},a))}static addToCache(e,t){t&&(e.textureCacheIds.includes(t)||e.textureCacheIds.push(t),o.BaseTextureCache[t]&&o.BaseTextureCache[t]!==e&&console.warn(`BaseTexture added to the cache with an id [${t}] that already had an entry`),o.BaseTextureCache[t]=e)}static removeFromCache(e){if("string"==typeof e){let t=o.BaseTextureCache[e];if(t){let r=t.textureCacheIds.indexOf(e);return r>-1&&t.textureCacheIds.splice(r,1),delete o.BaseTextureCache[e],t}}else if(e?.textureCacheIds){for(let t=0;t<e.textureCacheIds.length;++t)delete o.BaseTextureCache[e.textureCacheIds[t]];return e.textureCacheIds.length=0,e}return null}};c.defaultOptions={mipmap:i.MIPMAP_MODES.POW2,anisotropicLevel:0,scaleMode:i.SCALE_MODES.LINEAR,wrapMode:i.WRAP_MODES.CLAMP,alphaMode:i.ALPHA_MODES.UNPACK,target:i.TARGETS.TEXTURE_2D,format:i.FORMATS.RGBA,type:i.TYPES.UNSIGNED_BYTE},c._globalBatch=0;let d=c},{"@pixi/constants":"68v8p","@pixi/settings":"fYTIf","@pixi/utils":"4Acrm","./resources/autoDetectResource.mjs":"fDXU4","./resources/BufferResource.mjs":"evIz9","./resources/Resource.mjs":"gFk3n","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],fDXU4:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"INSTALLED",()=>i),s.export(r,"autoDetectResource",()=>a);let i=[];function a(e,t){if(!e)return null;let r="";if("string"==typeof e){let t=/\.(\w{3,4})(?:$|\?|#)/i.exec(e);t&&(r=t[1].toLowerCase())}for(let s=i.length-1;s>=0;--s){let a=i[s];if(a.test&&a.test(e,r))return new a(e,t)}throw Error("Unrecognized source type to auto-detect Resource")}},{"@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],evIz9:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"BufferResource",()=>o);var i=e("@pixi/constants"),a=e("./Resource.mjs");class o extends a.Resource{constructor(e,t){let{width:r,height:s}=t||{};if(!r||!s)throw Error("BufferResource width or height invalid");super(r,s),this.data=e,this.unpackAlignment=t.unpackAlignment??4}upload(e,t,r){let s=e.gl;s.pixelStorei(s.UNPACK_ALIGNMENT,this.unpackAlignment),s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.alphaMode===i.ALPHA_MODES.UNPACK);let a=t.realWidth,o=t.realHeight;return r.width===a&&r.height===o?s.texSubImage2D(t.target,0,0,0,a,o,t.format,r.type,this.data):(r.width=a,r.height=o,s.texImage2D(t.target,0,r.internalFormat,a,o,0,t.format,r.type,this.data)),!0}dispose(){this.data=null}static test(e){return null===e||e instanceof Int8Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array}}},{"@pixi/constants":"68v8p","./Resource.mjs":"gFk3n","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],gFk3n:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"Resource",()=>a);var i=e("@pixi/runner");class a{constructor(e=0,t=0){this._width=e,this._height=t,this.destroyed=!1,this.internal=!1,this.onResize=new i.Runner("setRealSize"),this.onUpdate=new i.Runner("update"),this.onError=new i.Runner("onError")}bind(e){this.onResize.add(e),this.onUpdate.add(e),this.onError.add(e),(this._width||this._height)&&this.onResize.emit(this._width,this._height)}unbind(e){this.onResize.remove(e),this.onUpdate.remove(e),this.onError.remove(e)}resize(e,t){(e!==this._width||t!==this._height)&&(this._width=e,this._height=t,this.onResize.emit(e,t))}get valid(){return!!this._width&&!!this._height}update(){this.destroyed||this.onUpdate.emit()}load(){return Promise.resolve(this)}get width(){return this._width}get height(){return this._height}style(e,t,r){return!1}dispose(){}destroy(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)}static test(e,t){return!1}}},{"@pixi/runner":"rXCrp","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],rXCrp:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"Runner",()=>i.Runner);var i=e("./Runner.mjs")},{"./Runner.mjs":"enMct","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],enMct:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"Runner",()=>i);class i{constructor(e){this.items=[],this._name=e,this._aliasCount=0}emit(e,t,r,s,i,a,o,n){if(arguments.length>8)throw Error("max arguments reached");let{name:l,items:h}=this;this._aliasCount++;for(let u=0,c=h.length;u<c;u++)h[u][l](e,t,r,s,i,a,o,n);return h===this.items&&this._aliasCount--,this}ensureNonAliasedItems(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))}add(e){return e[this._name]&&(this.ensureNonAliasedItems(),this.remove(e),this.items.push(e)),this}remove(e){let t=this.items.indexOf(e);return -1!==t&&(this.ensureNonAliasedItems(),this.items.splice(t,1)),this}contains(e){return this.items.includes(e)}removeAll(){return this.ensureNonAliasedItems(),this.items.length=0,this}destroy(){this.removeAll(),this.items.length=0,this._name=""}get empty(){return 0===this.items.length}get name(){return this._name}}Object.defineProperties(i.prototype,{dispatch:{value:i.prototype.emit},run:{value:i.prototype.emit}})},{"@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],ggZTt:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"BatchDrawCall",()=>a);var i=e("@pixi/constants");class a{constructor(){this.texArray=null,this.blend=0,this.type=i.DRAW_MODES.TRIANGLES,this.start=0,this.size=0,this.data=null}}},{"@pixi/constants":"68v8p","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],kTvDS:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"BatchGeometry",()=>n);var i=e("@pixi/constants"),a=e("../geometry/Buffer.mjs"),o=e("../geometry/Geometry.mjs");class n extends o.Geometry{constructor(e=!1){super(),this._buffer=new a.Buffer(null,e,!1),this._indexBuffer=new a.Buffer(null,e,!0),this.addAttribute("aVertexPosition",this._buffer,2,!1,i.TYPES.FLOAT).addAttribute("aTextureCoord",this._buffer,2,!1,i.TYPES.FLOAT).addAttribute("aColor",this._buffer,4,!0,i.TYPES.UNSIGNED_BYTE).addAttribute("aTextureId",this._buffer,1,!0,i.TYPES.FLOAT).addIndex(this._indexBuffer)}}},{"@pixi/constants":"68v8p","../geometry/Buffer.mjs":"6FX9J","../geometry/Geometry.mjs":"6KykX","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"6FX9J":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"Buffer",()=>n);var i=e("@pixi/constants"),a=e("@pixi/runner");let o=0;class n{constructor(e,t=!0,r=!1){this.data=e||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=r,this.static=t,this.id=o++,this.disposeRunner=new a.Runner("disposeBuffer")}update(e){e instanceof Array&&(e=new Float32Array(e)),this.data=e||this.data,this._updateID++}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.data=null}set index(e){this.type=e?i.BUFFER_TYPE.ELEMENT_ARRAY_BUFFER:i.BUFFER_TYPE.ARRAY_BUFFER}get index(){return this.type===i.BUFFER_TYPE.ELEMENT_ARRAY_BUFFER}static from(e){return e instanceof Array&&(e=new Float32Array(e)),new n(e)}}},{"@pixi/constants":"68v8p","@pixi/runner":"rXCrp","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"6KykX":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"Geometry",()=>p);var i=e("@pixi/constants"),a=e("@pixi/runner"),o=e("@pixi/utils"),n=e("./Attribute.mjs"),l=e("./Buffer.mjs"),h=e("./utils/interleaveTypedArrays.mjs");let u={5126:4,5123:2,5121:1},c=0,d={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array};class p{constructor(e=[],t={}){this.buffers=e,this.indexBuffer=null,this.attributes=t,this.glVertexArrayObjects={},this.id=c++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new a.Runner("disposeGeometry"),this.refCount=0}addAttribute(e,t,r=0,s=!1,i,a,o,h=!1){if(!t)throw Error("You must pass a buffer when creating an attribute");t instanceof l.Buffer||(t instanceof Array&&(t=new Float32Array(t)),t=new l.Buffer(t));let u=e.split("|");if(u.length>1){for(let e=0;e<u.length;e++)this.addAttribute(u[e],t,r,s,i);return this}let c=this.buffers.indexOf(t);return -1===c&&(this.buffers.push(t),c=this.buffers.length-1),this.attributes[e]=new n.Attribute(c,r,s,i,a,o,h),this.instanced=this.instanced||h,this}getAttribute(e){return this.attributes[e]}getBuffer(e){return this.buffers[this.getAttribute(e).buffer]}addIndex(e){return e instanceof l.Buffer||(e instanceof Array&&(e=new Uint16Array(e)),e=new l.Buffer(e)),e.type=i.BUFFER_TYPE.ELEMENT_ARRAY_BUFFER,this.indexBuffer=e,this.buffers.includes(e)||this.buffers.push(e),this}getIndex(){return this.indexBuffer}interleave(){let e;if(1===this.buffers.length||2===this.buffers.length&&this.indexBuffer)return this;let t=[],r=[],s=new l.Buffer;for(e in this.attributes){let s=this.attributes[e],i=this.buffers[s.buffer];t.push(i.data),r.push(s.size*u[s.type]/4),s.buffer=0}for(s.data=(0,h.interleaveTypedArrays)(t,r),e=0;e<this.buffers.length;e++)this.buffers[e]!==this.indexBuffer&&this.buffers[e].destroy();return this.buffers=[s],this.indexBuffer&&this.buffers.push(this.indexBuffer),this}getSize(){for(let e in this.attributes){let t=this.attributes[e];return this.buffers[t.buffer].data.length/(t.stride/4||t.size)}return 0}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null}clone(){let e=new p;for(let t=0;t<this.buffers.length;t++)e.buffers[t]=new l.Buffer(this.buffers[t].data.slice(0));for(let t in this.attributes){let r=this.attributes[t];e.attributes[t]=new n.Attribute(r.buffer,r.size,r.normalized,r.type,r.stride,r.start,r.instance)}return this.indexBuffer&&(e.indexBuffer=e.buffers[this.buffers.indexOf(this.indexBuffer)],e.indexBuffer.type=i.BUFFER_TYPE.ELEMENT_ARRAY_BUFFER),e}static merge(e){let t;let r=new p,s=[],a=[],n=[];for(let r=0;r<e.length;r++){t=e[r];for(let e=0;e<t.buffers.length;e++)a[e]=a[e]||0,a[e]+=t.buffers[e].data.length,n[e]=0}for(let e=0;e<t.buffers.length;e++)s[e]=new d[(0,o.getBufferType)(t.buffers[e].data)](a[e]),r.buffers[e]=new l.Buffer(s[e]);for(let r=0;r<e.length;r++){t=e[r];for(let e=0;e<t.buffers.length;e++)s[e].set(t.buffers[e].data,n[e]),n[e]+=t.buffers[e].data.length}if(r.attributes=t.attributes,t.indexBuffer){r.indexBuffer=r.buffers[t.buffers.indexOf(t.indexBuffer)],r.indexBuffer.type=i.BUFFER_TYPE.ELEMENT_ARRAY_BUFFER;let s=0,a=0,o=0,n=0;for(let e=0;e<t.buffers.length;e++)if(t.buffers[e]!==t.indexBuffer){n=e;break}for(let e in t.attributes){let r=t.attributes[e];(0|r.buffer)===n&&(a+=r.size*u[r.type]/4)}for(let t=0;t<e.length;t++){let i=e[t].indexBuffer.data;for(let e=0;e<i.length;e++)r.indexBuffer.data[e+o]+=s;s+=e[t].buffers[n].data.length/a,o+=i.length}}return r}}},{"@pixi/constants":"68v8p","@pixi/runner":"rXCrp","@pixi/utils":"4Acrm","./Attribute.mjs":"8b7tn","./Buffer.mjs":"6FX9J","./utils/interleaveTypedArrays.mjs":"4KSot","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"8b7tn":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"Attribute",()=>a);var i=e("@pixi/constants");class a{constructor(e,t=0,r=!1,s=i.TYPES.FLOAT,a,o,n,l=1){this.buffer=e,this.size=t,this.normalized=r,this.type=s,this.stride=a,this.start=o,this.instance=n,this.divisor=l}destroy(){this.buffer=null}static from(e,t,r,s,i){return new a(e,t,r,s,i)}}},{"@pixi/constants":"68v8p","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"4KSot":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"interleaveTypedArrays",()=>o);var i=e("@pixi/utils");let a={Float32Array,Uint32Array,Int32Array,Uint8Array};function o(e,t){let r=0,s=0,o={};for(let i=0;i<e.length;i++)s+=t[i],r+=e[i].length;let n=new ArrayBuffer(4*r),l=null,h=0;for(let r=0;r<e.length;r++){let u=t[r],c=e[r],d=(0,i.getBufferType)(c);o[d]||(o[d]=new a[d](n)),l=o[d];for(let e=0;e<c.length;e++)l[(e/u|0)*s+h+e%u]=c[e];h+=u}return new Float32Array(n)}},{"@pixi/utils":"4Acrm","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],aW5Xm:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"BatchShaderGenerator",()=>l);var i=e("@pixi/math"),a=e("../shader/Program.mjs"),o=e("../shader/Shader.mjs"),n=e("../shader/UniformGroup.mjs");class l{constructor(e,t){if(this.vertexSrc=e,this.fragTemplate=t,this.programCache={},this.defaultGroupCache={},!t.includes("%count%"))throw Error('Fragment template must contain "%count%".');if(!t.includes("%forloop%"))throw Error('Fragment template must contain "%forloop%".')}generateShader(e){if(!this.programCache[e]){let t=new Int32Array(e);for(let r=0;r<e;r++)t[r]=r;this.defaultGroupCache[e]=(0,n.UniformGroup).from({uSamplers:t},!0);let r=this.fragTemplate;r=(r=r.replace(/%count%/gi,`${e}`)).replace(/%forloop%/gi,this.generateSampleSrc(e)),this.programCache[e]=new a.Program(this.vertexSrc,r)}let t={tint:new Float32Array([1,1,1,1]),translationMatrix:new i.Matrix,default:this.defaultGroupCache[e]};return new o.Shader(this.programCache[e],t)}generateSampleSrc(e){let t="";t+=`

`;for(let r=0;r<e;r++)r>0&&(t+=`
else `),r<e-1&&(t+=`if(vTextureId < ${r}.5)`),t+=`
{
	color = texture2D(uSamplers[${r}], vTextureCoord);
}`;return t+`

`}}},{"@pixi/math":"f1tY5","../shader/Program.mjs":"h96LB","../shader/Shader.mjs":"4DrhU","../shader/UniformGroup.mjs":"30cf1","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],f1tY5:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"Circle",()=>i.Circle),s.export(r,"DEG_TO_RAD",()=>m.DEG_TO_RAD),s.export(r,"Ellipse",()=>a.Ellipse),s.export(r,"Matrix",()=>u.Matrix),s.export(r,"ObservablePoint",()=>c.ObservablePoint),s.export(r,"PI_2",()=>m.PI_2),s.export(r,"Point",()=>d.Point),s.export(r,"Polygon",()=>o.Polygon),s.export(r,"RAD_TO_DEG",()=>m.RAD_TO_DEG),s.export(r,"Rectangle",()=>n.Rectangle),s.export(r,"RoundedRectangle",()=>l.RoundedRectangle),s.export(r,"SHAPES",()=>m.SHAPES),s.export(r,"Transform",()=>p.Transform),s.export(r,"groupD8",()=>h.groupD8);var i=e("./shapes/Circle.mjs"),a=e("./shapes/Ellipse.mjs"),o=e("./shapes/Polygon.mjs"),n=e("./shapes/Rectangle.mjs"),l=e("./shapes/RoundedRectangle.mjs"),h=e("./groupD8.mjs");e("./IPoint.mjs"),e("./IPointData.mjs");var u=e("./Matrix.mjs"),c=e("./ObservablePoint.mjs"),d=e("./Point.mjs"),p=e("./Transform.mjs"),m=e("./const.mjs")},{"./shapes/Circle.mjs":"3uyGt","./shapes/Ellipse.mjs":"gCKYR","./shapes/Polygon.mjs":"frzwq","./shapes/Rectangle.mjs":"gjjzR","./shapes/RoundedRectangle.mjs":"4iV7c","./groupD8.mjs":"4l8d9","./IPoint.mjs":"9LM07","./IPointData.mjs":"fFUTl","./Matrix.mjs":"gxGTT","./ObservablePoint.mjs":"1EuS9","./Point.mjs":"c2gzI","./Transform.mjs":"jNVQz","./const.mjs":"huzzE","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"3uyGt":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"Circle",()=>o);var i=e("../const.mjs"),a=e("./Rectangle.mjs");class o{constructor(e=0,t=0,r=0){this.x=e,this.y=t,this.radius=r,this.type=i.SHAPES.CIRC}clone(){return new o(this.x,this.y,this.radius)}contains(e,t){if(this.radius<=0)return!1;let r=this.radius*this.radius,s=this.x-e,i=this.y-t;return s*=s,i*=i,s+i<=r}getBounds(){return new a.Rectangle(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)}}o.prototype.toString=function(){return`[@pixi/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`}},{"../const.mjs":"huzzE","./Rectangle.mjs":"gjjzR","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],huzzE:[function(e,t,r){let s;var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r),i.export(r,"DEG_TO_RAD",()=>n),i.export(r,"PI_2",()=>a),i.export(r,"RAD_TO_DEG",()=>o),i.export(r,"SHAPES",()=>l);let a=2*Math.PI,o=180/Math.PI,n=Math.PI/180;var l=((s=l||{})[s.POLY=0]="POLY",s[s.RECT=1]="RECT",s[s.CIRC=2]="CIRC",s[s.ELIP=3]="ELIP",s[s.RREC=4]="RREC",s)},{"@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],gjjzR:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"Rectangle",()=>n);var i=e("../const.mjs"),a=e("../Point.mjs");let o=[new a.Point,new a.Point,new a.Point,new a.Point];class n{constructor(e=0,t=0,r=0,s=0){this.x=Number(e),this.y=Number(t),this.width=Number(r),this.height=Number(s),this.type=i.SHAPES.RECT}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}static get EMPTY(){return new n(0,0,0,0)}clone(){return new n(this.x,this.y,this.width,this.height)}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e}contains(e,t){return!(this.width<=0)&&!(this.height<=0)&&e>=this.x&&e<this.x+this.width&&t>=this.y&&t<this.y+this.height}intersects(e,t){if(!t){let t=this.x<e.x?e.x:this.x;if((this.right>e.right?e.right:this.right)<=t)return!1;let r=this.y<e.y?e.y:this.y;return(this.bottom>e.bottom?e.bottom:this.bottom)>r}let r=this.left,s=this.right,i=this.top,a=this.bottom;if(s<=r||a<=i)return!1;let n=o[0].set(e.left,e.top),l=o[1].set(e.left,e.bottom),h=o[2].set(e.right,e.top),u=o[3].set(e.right,e.bottom);if(h.x<=n.x||l.y<=n.y)return!1;let c=Math.sign(t.a*t.d-t.b*t.c);if(0===c||(t.apply(n,n),t.apply(l,l),t.apply(h,h),t.apply(u,u),Math.max(n.x,l.x,h.x,u.x)<=r||Math.min(n.x,l.x,h.x,u.x)>=s||Math.max(n.y,l.y,h.y,u.y)<=i||Math.min(n.y,l.y,h.y,u.y)>=a))return!1;let d=c*(l.y-n.y),p=c*(n.x-l.x),m=d*r+p*i,f=d*s+p*i,_=d*r+p*a,g=d*s+p*a;if(Math.max(m,f,_,g)<=d*n.x+p*n.y||Math.min(m,f,_,g)>=d*u.x+p*u.y)return!1;let y=c*(n.y-h.y),x=c*(h.x-n.x),b=y*r+x*i,T=y*s+x*i,v=y*r+x*a,A=y*s+x*a;return!(Math.max(b,T,v,A)<=y*n.x+x*n.y||Math.min(b,T,v,A)>=y*u.x+x*u.y)}pad(e=0,t=e){return this.x-=e,this.y-=t,this.width+=2*e,this.height+=2*t,this}fit(e){let t=Math.max(this.x,e.x),r=Math.min(this.x+this.width,e.x+e.width),s=Math.max(this.y,e.y),i=Math.min(this.y+this.height,e.y+e.height);return this.x=t,this.width=Math.max(r-t,0),this.y=s,this.height=Math.max(i-s,0),this}ceil(e=1,t=.001){let r=Math.ceil((this.x+this.width-t)*e)/e,s=Math.ceil((this.y+this.height-t)*e)/e;return this.x=Math.floor((this.x+t)*e)/e,this.y=Math.floor((this.y+t)*e)/e,this.width=r-this.x,this.height=s-this.y,this}enlarge(e){let t=Math.min(this.x,e.x),r=Math.max(this.x+this.width,e.x+e.width),s=Math.min(this.y,e.y),i=Math.max(this.y+this.height,e.y+e.height);return this.x=t,this.width=r-t,this.y=s,this.height=i-s,this}}n.prototype.toString=function(){return`[@pixi/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}},{"../const.mjs":"huzzE","../Point.mjs":"c2gzI","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],c2gzI:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"Point",()=>i);class i{constructor(e=0,t=0){this.x=0,this.y=0,this.x=e,this.y=t}clone(){return new i(this.x,this.y)}copyFrom(e){return this.set(e.x,e.y),this}copyTo(e){return e.set(this.x,this.y),e}equals(e){return e.x===this.x&&e.y===this.y}set(e=0,t=e){return this.x=e,this.y=t,this}}i.prototype.toString=function(){return`[@pixi/math:Point x=${this.x} y=${this.y}]`}},{"@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],gCKYR:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"Ellipse",()=>o);var i=e("../const.mjs"),a=e("./Rectangle.mjs");class o{constructor(e=0,t=0,r=0,s=0){this.x=e,this.y=t,this.width=r,this.height=s,this.type=i.SHAPES.ELIP}clone(){return new o(this.x,this.y,this.width,this.height)}contains(e,t){if(this.width<=0||this.height<=0)return!1;let r=(e-this.x)/this.width,s=(t-this.y)/this.height;return r*=r,s*=s,r+s<=1}getBounds(){return new a.Rectangle(this.x-this.width,this.y-this.height,this.width,this.height)}}o.prototype.toString=function(){return`[@pixi/math:Ellipse x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}},{"../const.mjs":"huzzE","./Rectangle.mjs":"gjjzR","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],frzwq:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"Polygon",()=>a);var i=e("../const.mjs");class a{constructor(...e){let t=Array.isArray(e[0])?e[0]:e;if("number"!=typeof t[0]){let e=[];for(let r=0,s=t.length;r<s;r++)e.push(t[r].x,t[r].y);t=e}this.points=t,this.type=i.SHAPES.POLY,this.closeStroke=!0}clone(){let e=new a(this.points.slice());return e.closeStroke=this.closeStroke,e}contains(e,t){let r=!1,s=this.points.length/2;for(let i=0,a=s-1;i<s;a=i++){let s=this.points[2*i],o=this.points[2*i+1],n=this.points[2*a],l=this.points[2*a+1];o>t!=l>t&&e<(t-o)/(l-o)*(n-s)+s&&(r=!r)}return r}}a.prototype.toString=function(){return`[@pixi/math:PolygoncloseStroke=${this.closeStroke}points=${this.points.reduce((e,t)=>`${e}, ${t}`,"")}]`}},{"../const.mjs":"huzzE","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"4iV7c":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"RoundedRectangle",()=>a);var i=e("../const.mjs");class a{constructor(e=0,t=0,r=0,s=0,a=20){this.x=e,this.y=t,this.width=r,this.height=s,this.radius=a,this.type=i.SHAPES.RREC}clone(){return new a(this.x,this.y,this.width,this.height,this.radius)}contains(e,t){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&t>=this.y&&t<=this.y+this.height){let r=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(t>=this.y+r&&t<=this.y+this.height-r||e>=this.x+r&&e<=this.x+this.width-r)return!0;let s=e-(this.x+r),i=t-(this.y+r),a=r*r;if(s*s+i*i<=a||(s=e-(this.x+this.width-r))*s+i*i<=a||s*s+(i=t-(this.y+this.height-r))*i<=a||(s=e-(this.x+r))*s+i*i<=a)return!0}return!1}}a.prototype.toString=function(){return`[@pixi/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`}},{"../const.mjs":"huzzE","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"4l8d9":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"groupD8",()=>d);var i=e("./Matrix.mjs");let a=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],o=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],n=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],l=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],h=[],u=[],c=Math.sign;!function(){for(let e=0;e<16;e++){let t=[];h.push(t);for(let r=0;r<16;r++){let s=c(a[e]*a[r]+n[e]*o[r]),i=c(o[e]*a[r]+l[e]*o[r]),h=c(a[e]*n[r]+n[e]*l[r]),u=c(o[e]*n[r]+l[e]*l[r]);for(let e=0;e<16;e++)if(a[e]===s&&o[e]===i&&n[e]===h&&l[e]===u){t.push(e);break}}}for(let e=0;e<16;e++){let t=new i.Matrix;t.set(a[e],o[e],n[e],l[e],0,0),u.push(t)}}();let d={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:e=>a[e],uY:e=>o[e],vX:e=>n[e],vY:e=>l[e],inv:e=>8&e?15&e:7&-e,add:(e,t)=>h[e][t],sub:(e,t)=>h[e][d.inv(t)],rotate180:e=>4^e,isVertical:e=>(3&e)==2,byDirection:(e,t)=>2*Math.abs(e)<=Math.abs(t)?t>=0?d.S:d.N:2*Math.abs(t)<=Math.abs(e)?e>0?d.E:d.W:t>0?e>0?d.SE:d.SW:e>0?d.NE:d.NW,matrixAppendRotationInv:(e,t,r=0,s=0)=>{let i=u[d.inv(t)];i.tx=r,i.ty=s,e.append(i)}}},{"./Matrix.mjs":"gxGTT","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],gxGTT:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"Matrix",()=>o);var i=e("./const.mjs"),a=e("./Point.mjs");class o{constructor(e=1,t=0,r=0,s=1,i=0,a=0){this.array=null,this.a=e,this.b=t,this.c=r,this.d=s,this.tx=i,this.ty=a}fromArray(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]}set(e,t,r,s,i,a){return this.a=e,this.b=t,this.c=r,this.d=s,this.tx=i,this.ty=a,this}toArray(e,t){this.array||(this.array=new Float32Array(9));let r=t||this.array;return e?(r[0]=this.a,r[1]=this.b,r[2]=0,r[3]=this.c,r[4]=this.d,r[5]=0,r[6]=this.tx,r[7]=this.ty):(r[0]=this.a,r[1]=this.c,r[2]=this.tx,r[3]=this.b,r[4]=this.d,r[5]=this.ty,r[6]=0,r[7]=0),r[8]=1,r}apply(e,t){t=t||new a.Point;let r=e.x,s=e.y;return t.x=this.a*r+this.c*s+this.tx,t.y=this.b*r+this.d*s+this.ty,t}applyInverse(e,t){t=t||new a.Point;let r=1/(this.a*this.d+-(this.c*this.b)),s=e.x,i=e.y;return t.x=this.d*r*s+-this.c*r*i+(this.ty*this.c-this.tx*this.d)*r,t.y=this.a*r*i+-this.b*r*s+(-this.ty*this.a+this.tx*this.b)*r,t}translate(e,t){return this.tx+=e,this.ty+=t,this}scale(e,t){return this.a*=e,this.d*=t,this.c*=e,this.b*=t,this.tx*=e,this.ty*=t,this}rotate(e){let t=Math.cos(e),r=Math.sin(e),s=this.a,i=this.c,a=this.tx;return this.a=s*t-this.b*r,this.b=s*r+this.b*t,this.c=i*t-this.d*r,this.d=i*r+this.d*t,this.tx=a*t-this.ty*r,this.ty=a*r+this.ty*t,this}append(e){let t=this.a,r=this.b,s=this.c,i=this.d;return this.a=e.a*t+e.b*s,this.b=e.a*r+e.b*i,this.c=e.c*t+e.d*s,this.d=e.c*r+e.d*i,this.tx=e.tx*t+e.ty*s+this.tx,this.ty=e.tx*r+e.ty*i+this.ty,this}setTransform(e,t,r,s,i,a,o,n,l){return this.a=Math.cos(o+l)*i,this.b=Math.sin(o+l)*i,this.c=-Math.sin(o-n)*a,this.d=Math.cos(o-n)*a,this.tx=e-(r*this.a+s*this.c),this.ty=t-(r*this.b+s*this.d),this}prepend(e){let t=this.tx;if(1!==e.a||0!==e.b||0!==e.c||1!==e.d){let t=this.a,r=this.c;this.a=t*e.a+this.b*e.c,this.b=t*e.b+this.b*e.d,this.c=r*e.a+this.d*e.c,this.d=r*e.b+this.d*e.d}return this.tx=t*e.a+this.ty*e.c+e.tx,this.ty=t*e.b+this.ty*e.d+e.ty,this}decompose(e){let t=this.a,r=this.b,s=this.c,a=this.d,o=e.pivot,n=-Math.atan2(-s,a),l=Math.atan2(r,t),h=Math.abs(n+l);return h<1e-5||1e-5>Math.abs(i.PI_2-h)?(e.rotation=l,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=n,e.skew.y=l),e.scale.x=Math.sqrt(t*t+r*r),e.scale.y=Math.sqrt(s*s+a*a),e.position.x=this.tx+(o.x*t+o.y*s),e.position.y=this.ty+(o.x*r+o.y*a),e}invert(){let e=this.a,t=this.b,r=this.c,s=this.d,i=this.tx,a=e*s-t*r;return this.a=s/a,this.b=-t/a,this.c=-r/a,this.d=e/a,this.tx=(r*this.ty-s*i)/a,this.ty=-(e*this.ty-t*i)/a,this}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){let e=new o;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyTo(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyFrom(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this}static get IDENTITY(){return new o}static get TEMP_MATRIX(){return new o}}o.prototype.toString=function(){return`[@pixi/math:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`}},{"./const.mjs":"huzzE","./Point.mjs":"c2gzI","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"9LM07":[function(e,t,r){},{}],fFUTl:[function(e,t,r){},{}],"1EuS9":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"ObservablePoint",()=>i);class i{constructor(e,t,r=0,s=0){this._x=r,this._y=s,this.cb=e,this.scope=t}clone(e=this.cb,t=this.scope){return new i(e,t,this._x,this._y)}set(e=0,t=e){return(this._x!==e||this._y!==t)&&(this._x=e,this._y=t,this.cb.call(this.scope)),this}copyFrom(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this.cb.call(this.scope)),this}copyTo(e){return e.set(this._x,this._y),e}equals(e){return e.x===this._x&&e.y===this._y}get x(){return this._x}set x(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))}get y(){return this._y}set y(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))}}i.prototype.toString=function(){return`[@pixi/math:ObservablePoint x=${this.x} y=${this.y} scope=${this.scope}]`}},{"@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],jNVQz:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"Transform",()=>n);var i=e("./Matrix.mjs"),a=e("./ObservablePoint.mjs");let o=class{constructor(){this.worldTransform=new i.Matrix,this.localTransform=new i.Matrix,this.position=new a.ObservablePoint(this.onChange,this,0,0),this.scale=new a.ObservablePoint(this.onChange,this,1,1),this.pivot=new a.ObservablePoint(this.onChange,this,0,0),this.skew=new a.ObservablePoint(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}onChange(){this._localID++}updateSkew(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++}updateLocalTransform(){let e=this.localTransform;this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1)}updateTransform(e){let t=this.localTransform;if(this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==e._worldID){let r=e.worldTransform,s=this.worldTransform;s.a=t.a*r.a+t.b*r.c,s.b=t.a*r.b+t.b*r.d,s.c=t.c*r.a+t.d*r.c,s.d=t.c*r.b+t.d*r.d,s.tx=t.tx*r.a+t.ty*r.c+r.tx,s.ty=t.tx*r.b+t.ty*r.d+r.ty,this._parentID=e._worldID,this._worldID++}}setFromMatrix(e){e.decompose(this),this._localID++}get rotation(){return this._rotation}set rotation(e){this._rotation!==e&&(this._rotation=e,this.updateSkew())}};o.IDENTITY=new o;let n=o;n.prototype.toString=function(){return`[@pixi/math:Transform position=(${this.position.x}, ${this.position.y}) rotation=${this.rotation} scale=(${this.scale.x}, ${this.scale.y}) skew=(${this.skew.x}, ${this.skew.y}) ]`}},{"./Matrix.mjs":"gxGTT","./ObservablePoint.mjs":"1EuS9","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],h96LB:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"Program",()=>f);var i=e("@pixi/constants"),a=e("@pixi/utils"),o=e("./defaultProgram.frag.mjs"),n=s.interopDefault(o),l=e("./defaultProgram.vert.mjs"),h=s.interopDefault(l);e("./utils/index.mjs");var u=e("./utils/setPrecision.mjs"),c=e("./utils/getMaxFragmentPrecision.mjs");let d=0,p={},m=class e{constructor(t,r,s="pixi-shader",a={}){this.extra={},this.id=d++,this.vertexSrc=t||e.defaultVertexSrc,this.fragmentSrc=r||e.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.extra=a,"#version"!==this.vertexSrc.substring(0,8)&&(p[s=s.replace(/\s+/g,"-")]?(p[s]++,s+=`-${p[s]}`):p[s]=1,this.vertexSrc=`#define SHADER_NAME ${s}
${this.vertexSrc}`,this.fragmentSrc=`#define SHADER_NAME ${s}
${this.fragmentSrc}`,this.vertexSrc=(0,u.setPrecision)(this.vertexSrc,e.defaultVertexPrecision,i.PRECISION.HIGH),this.fragmentSrc=(0,u.setPrecision)(this.fragmentSrc,e.defaultFragmentPrecision,(0,c.getMaxFragmentPrecision)())),this.glPrograms={},this.syncUniforms=null}static get defaultVertexSrc(){return h.default}static get defaultFragmentSrc(){return n.default}static from(t,r,s){let i=t+r,o=a.ProgramCache[i];return o||(a.ProgramCache[i]=o=new e(t,r,s)),o}};m.defaultVertexPrecision=i.PRECISION.HIGH,m.defaultFragmentPrecision=a.isMobile.apple.device?i.PRECISION.HIGH:i.PRECISION.MEDIUM;let f=m},{"@pixi/constants":"68v8p","@pixi/utils":"4Acrm","./defaultProgram.frag.mjs":"13fhe","./defaultProgram.vert.mjs":"fiWmL","./utils/index.mjs":"gKb4h","./utils/setPrecision.mjs":"2C9Ba","./utils/getMaxFragmentPrecision.mjs":"aGJBq","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"13fhe":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"default",()=>i);var i=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`},{"@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],fiWmL:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"default",()=>i);var i=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`},{"@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],gKb4h:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"checkMaxIfStatementsInShader",()=>i.checkMaxIfStatementsInShader),s.export(r,"compileShader",()=>a.compileShader),s.export(r,"defaultValue",()=>o.defaultValue),s.export(r,"generateUniformsSync",()=>n.generateUniformsSync),s.export(r,"getMaxFragmentPrecision",()=>l.getMaxFragmentPrecision),s.export(r,"getTestContext",()=>h.getTestContext),s.export(r,"logProgramError",()=>u.logProgramError),s.export(r,"mapSize",()=>c.mapSize),s.export(r,"mapType",()=>d.mapType),s.export(r,"setPrecision",()=>p.setPrecision),s.export(r,"uniformParsers",()=>m.uniformParsers),s.export(r,"unsafeEvalSupported",()=>f.unsafeEvalSupported);var i=e("./checkMaxIfStatementsInShader.mjs"),a=e("./compileShader.mjs"),o=e("./defaultValue.mjs"),n=e("./generateUniformsSync.mjs"),l=e("./getMaxFragmentPrecision.mjs"),h=e("./getTestContext.mjs"),u=e("./logProgramError.mjs"),c=e("./mapSize.mjs"),d=e("./mapType.mjs"),p=e("./setPrecision.mjs"),m=e("./uniformParsers.mjs"),f=e("./unsafeEvalSupported.mjs")},{"./checkMaxIfStatementsInShader.mjs":"1n1h6","./compileShader.mjs":"a8An4","./defaultValue.mjs":"l6LAG","./generateUniformsSync.mjs":"gdzrT","./getMaxFragmentPrecision.mjs":"aGJBq","./getTestContext.mjs":"hYSmC","./logProgramError.mjs":"awq03","./mapSize.mjs":"9e3ZU","./mapType.mjs":"hohwK","./setPrecision.mjs":"2C9Ba","./uniformParsers.mjs":"dObHK","./unsafeEvalSupported.mjs":"gPTrP","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],a8An4:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");function i(e,t,r){let s=e.createShader(t);return e.shaderSource(s,r),e.compileShader(s),s}s.defineInteropFlag(r),s.export(r,"compileShader",()=>i)},{"@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],l6LAG:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");function i(e){let t=Array(e);for(let e=0;e<t.length;e++)t[e]=!1;return t}function a(e,t){switch(e){case"float":case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"vec2":return new Float32Array(2*t);case"vec3":return new Float32Array(3*t);case"vec4":return new Float32Array(4*t);case"ivec2":return new Int32Array(2*t);case"ivec3":return new Int32Array(3*t);case"ivec4":return new Int32Array(4*t);case"uvec2":return new Uint32Array(2*t);case"uvec3":return new Uint32Array(3*t);case"uvec4":return new Uint32Array(4*t);case"bool":return!1;case"bvec2":return i(2*t);case"bvec3":return i(3*t);case"bvec4":return i(4*t);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}s.defineInteropFlag(r),s.export(r,"defaultValue",()=>a)},{"@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],gdzrT:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"generateUniformsSync",()=>n);var i=e("./uniformParsers.mjs");let a={float:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1f(location, v);
    }`,vec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4f(location, v[0], v[1], v[2], v[3]);
    }`,int:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,ivec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,ivec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,ivec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,uint:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1ui(location, v);
    }`,uvec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2ui(location, v[0], v[1]);
    }`,uvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3ui(location, v[0], v[1], v[2]);
    }`,uvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
    }`,bool:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1i(location, v);
    }`,bvec2:`
    if (cv[0] != v[0] || cv[1] != v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,bvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,bvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,samplerCube:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,sampler2DArray:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`},o={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function n(e,t){let r=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
    `];for(let s in e.uniforms){let n=t[s];if(!n){e.uniforms[s]?.group===!0&&(e.uniforms[s].ubo?r.push(`
                        renderer.shader.syncUniformBufferGroup(uv.${s}, '${s}');
                    `):r.push(`
                        renderer.shader.syncUniformGroup(uv.${s}, syncData);
                    `));continue}let l=e.uniforms[s],h=!1;for(let e=0;e<i.uniformParsers.length;e++)if((0,i.uniformParsers)[e].test(n,l)){r.push((0,i.uniformParsers)[e].code(s,l)),h=!0;break}if(!h){let e=(1!==n.size||n.isArray?o:a)[n.type].replace("location",`ud["${s}"].location`);r.push(`
            cu = ud["${s}"];
            cv = cu.value;
            v = uv["${s}"];
            ${e};`)}}return Function("ud","uv","renderer","syncData",r.join(`
`))}},{"./uniformParsers.mjs":"dObHK","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],dObHK:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"uniformParsers",()=>i);let i=[{test:e=>"float"===e.type&&1===e.size&&!e.isArray,code:e=>`
            if(uv["${e}"] !== ud["${e}"].value)
            {
                ud["${e}"].value = uv["${e}"]
                gl.uniform1f(ud["${e}"].location, uv["${e}"])
            }
            `},{test:(e,t)=>("sampler2D"===e.type||"samplerCube"===e.type||"sampler2DArray"===e.type)&&1===e.size&&!e.isArray&&(null==t||void 0!==t.castToBaseTexture),code:e=>`t = syncData.textureCount++;

            renderer.texture.bind(uv["${e}"], t);

            if(ud["${e}"].value !== t)
            {
                ud["${e}"].value = t;
                gl.uniform1i(ud["${e}"].location, t);
; // eslint-disable-line max-len
            }`},{test:(e,t)=>"mat3"===e.type&&1===e.size&&!e.isArray&&void 0!==t.a,code:e=>`
            gl.uniformMatrix3fv(ud["${e}"].location, false, uv["${e}"].toArray(true));
            `,codeUbo:e=>`
                var ${e}_matrix = uv.${e}.toArray(true);

                data[offset] = ${e}_matrix[0];
                data[offset+1] = ${e}_matrix[1];
                data[offset+2] = ${e}_matrix[2];
        
                data[offset + 4] = ${e}_matrix[3];
                data[offset + 5] = ${e}_matrix[4];
                data[offset + 6] = ${e}_matrix[5];
        
                data[offset + 8] = ${e}_matrix[6];
                data[offset + 9] = ${e}_matrix[7];
                data[offset + 10] = ${e}_matrix[8];
            `},{test:(e,t)=>"vec2"===e.type&&1===e.size&&!e.isArray&&void 0!==t.x,code:e=>`
                cv = ud["${e}"].value;
                v = uv["${e}"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["${e}"].location, v.x, v.y);
                }`,codeUbo:e=>`
                v = uv.${e};

                data[offset] = v.x;
                data[offset+1] = v.y;
            `},{test:e=>"vec2"===e.type&&1===e.size&&!e.isArray,code:e=>`
                cv = ud["${e}"].value;
                v = uv["${e}"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["${e}"].location, v[0], v[1]);
                }
            `},{test:(e,t)=>"vec4"===e.type&&1===e.size&&!e.isArray&&void 0!==t.width,code:e=>`
                cv = ud["${e}"].value;
                v = uv["${e}"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["${e}"].location, v.x, v.y, v.width, v.height)
                }`,codeUbo:e=>`
                    v = uv.${e};

                    data[offset] = v.x;
                    data[offset+1] = v.y;
                    data[offset+2] = v.width;
                    data[offset+3] = v.height;
                `},{test:(e,t)=>"vec4"===e.type&&1===e.size&&!e.isArray&&void 0!==t.red,code:e=>`
                cv = ud["${e}"].value;
                v = uv["${e}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.alpha)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
                    cv[3] = v.alpha;
                    gl.uniform4f(ud["${e}"].location, v.red, v.green, v.blue, v.alpha)
                }`,codeUbo:e=>`
                    v = uv.${e};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                    data[offset+3] = v.alpha;
                `},{test:(e,t)=>"vec3"===e.type&&1===e.size&&!e.isArray&&void 0!==t.red,code:e=>`
                cv = ud["${e}"].value;
                v = uv["${e}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.a)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
    
                    gl.uniform3f(ud["${e}"].location, v.red, v.green, v.blue)
                }`,codeUbo:e=>`
                    v = uv.${e};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                `},{test:e=>"vec4"===e.type&&1===e.size&&!e.isArray,code:e=>`
                cv = ud["${e}"].value;
                v = uv["${e}"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["${e}"].location, v[0], v[1], v[2], v[3])
                }`}]},{"@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],aGJBq:[function(e,t,r){let s;var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r),i.export(r,"getMaxFragmentPrecision",()=>n);var a=e("@pixi/constants"),o=e("./getTestContext.mjs");function n(){if(!s){s=a.PRECISION.MEDIUM;let e=(0,o.getTestContext)();if(e&&e.getShaderPrecisionFormat){let t=e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT);t&&(s=t.precision?a.PRECISION.HIGH:a.PRECISION.MEDIUM)}}return s}},{"@pixi/constants":"68v8p","./getTestContext.mjs":"hYSmC","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],hYSmC:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"getTestContext",()=>l);var i=e("@pixi/constants"),a=e("@pixi/settings");let o={},n=o;function l(){if(n===o||n?.isContextLost()){let e;let t=(0,a.settings).ADAPTER.createCanvas();a.settings.PREFER_ENV>=i.ENV.WEBGL2&&(e=t.getContext("webgl2",{})),e||((e=t.getContext("webgl",{})||t.getContext("experimental-webgl",{}))?e.getExtension("WEBGL_draw_buffers"):e=null),n=e}return n}},{"@pixi/constants":"68v8p","@pixi/settings":"fYTIf","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],awq03:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");function i(e,t){let r=e.getShaderSource(t).split(`
`).map((e,t)=>`${t}: ${e}`),s=e.getShaderInfoLog(t),i=s.split(`
`),a={},o=i.map(e=>parseFloat(e.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))).filter(e=>!!e&&!a[e]&&(a[e]=!0,!0)),n=[""];o.forEach(e=>{r[e-1]=`%c${r[e-1]}%c`,n.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});let l=r.join(`
`);n[0]=l,console.error(s),console.groupCollapsed("click to view full shader code"),console.warn(...n),console.groupEnd()}function a(e,t,r,s){e.getProgramParameter(t,e.LINK_STATUS)||(e.getShaderParameter(r,e.COMPILE_STATUS)||i(e,r),e.getShaderParameter(s,e.COMPILE_STATUS)||i(e,s),console.error("PixiJS Error: Could not initialize shader."),""!==e.getProgramInfoLog(t)&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",e.getProgramInfoLog(t)))}s.defineInteropFlag(r),s.export(r,"logProgramError",()=>a)},{"@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"9e3ZU":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"mapSize",()=>a);let i={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function a(e){return i[e]}},{"@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],hohwK:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"mapType",()=>o);let i=null,a={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function o(e,t){if(!i){let t=Object.keys(a);i={};for(let r=0;r<t.length;++r){let s=t[r];i[e[s]]=a[s]}}return i[t]}},{"@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"2C9Ba":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"setPrecision",()=>a);var i=e("@pixi/constants");function a(e,t,r){if("precision"!==e.substring(0,9)){let s=t;return t===i.PRECISION.HIGH&&r!==i.PRECISION.HIGH&&(s=i.PRECISION.MEDIUM),`precision ${s} float;
${e}`}return r!==i.PRECISION.HIGH&&"precision highp"===e.substring(0,15)?e.replace("precision highp","precision mediump"):e}},{"@pixi/constants":"68v8p","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],gPTrP:[function(e,t,r){let s;var i=e("@parcel/transformer-js/src/esmodule-helpers.js");function a(){if("boolean"==typeof s)return s;try{s=!0===Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")}catch{s=!1}return s}i.defineInteropFlag(r),i.export(r,"unsafeEvalSupported",()=>a)},{"@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"4DrhU":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"Shader",()=>n);var i=e("@pixi/runner"),a=e("./Program.mjs"),o=e("./UniformGroup.mjs");class n{constructor(e,t){this.uniformBindCount=0,this.program=e,t?t instanceof o.UniformGroup?this.uniformGroup=t:this.uniformGroup=new o.UniformGroup(t):this.uniformGroup=new o.UniformGroup({}),this.disposeRunner=new i.Runner("disposeShader")}checkUniformExists(e,t){if(t.uniforms[e])return!0;for(let r in t.uniforms){let s=t.uniforms[r];if(!0===s.group&&this.checkUniformExists(e,s))return!0}return!1}destroy(){this.uniformGroup=null,this.disposeRunner.emit(this),this.disposeRunner.destroy()}get uniforms(){return this.uniformGroup.uniforms}static from(e,t,r){return new n((0,a.Program).from(e,t),r)}}},{"@pixi/runner":"rXCrp","./Program.mjs":"h96LB","./UniformGroup.mjs":"30cf1","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"30cf1":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"UniformGroup",()=>n);var i=e("@pixi/constants"),a=e("../geometry/Buffer.mjs");let o=0;class n{constructor(e,t,r){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=o++,this.static=!!t,this.ubo=!!r,e instanceof a.Buffer?(this.buffer=e,this.buffer.type=i.BUFFER_TYPE.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=e,this.ubo&&(this.buffer=new a.Buffer(new Float32Array(1)),this.buffer.type=i.BUFFER_TYPE.UNIFORM_BUFFER,this.autoManage=!0))}update(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()}add(e,t,r){if(this.ubo)throw Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them");this.uniforms[e]=new n(t,r)}static from(e,t,r){return new n(e,t,r)}static uboFrom(e,t){return new n(e,t??!0,!0)}}},{"@pixi/constants":"68v8p","../geometry/Buffer.mjs":"6FX9J","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"1rWeK":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"BatchTextureArray",()=>i);class i{constructor(){this.elements=[],this.ids=[],this.count=0}clear(){for(let e=0;e<this.count;e++)this.elements[e]=null;this.count=0}}},{"@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"8pqNP":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"canUploadSameBuffer",()=>a);var i=e("@pixi/settings");function a(){return!i.isMobile.apple.device}},{"@pixi/settings":"fYTIf","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],hsm56:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"maxRecommendedTextures",()=>a);var i=e("@pixi/settings");function a(e){let t=!0,r=(0,i.settings).ADAPTER.getNavigator();if(i.isMobile.tablet||i.isMobile.phone){if(i.isMobile.apple.device){let e=r.userAgent.match(/OS (\d+)_(\d+)?/);e&&11>parseInt(e[1],10)&&(t=!1)}if(i.isMobile.android.device){let e=r.userAgent.match(/Android\s([0-9.]*)/);e&&7>parseInt(e[1],10)&&(t=!1)}}return t?e:4}},{"@pixi/settings":"fYTIf","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"6mKqv":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"ObjectRenderer",()=>i);class i{constructor(e){this.renderer=e}flush(){}destroy(){this.renderer=null}start(){}stop(){this.flush()}render(e){}}},{"@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],adU4D:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"default",()=>i);var i=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`},{"@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],eYlLH:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"default",()=>i);var i=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`},{"@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"2DnTX":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"Filter",()=>p);var i=e("@pixi/constants"),a=e("../shader/Program.mjs"),o=e("../shader/Shader.mjs"),n=e("../state/State.mjs"),l=e("./defaultFilter.frag.mjs"),h=s.interopDefault(l),u=e("./defaultFilter.vert.mjs"),c=s.interopDefault(u);let d=class e extends o.Shader{constructor(t,r,s){super((0,a.Program).from(t||e.defaultVertexSrc,r||e.defaultFragmentSrc),s),this.padding=0,this.resolution=e.defaultResolution,this.multisample=e.defaultMultisample,this.enabled=!0,this.autoFit=!0,this.state=new n.State}apply(e,t,r,s,i){e.applyFilter(this,t,r,s)}get blendMode(){return this.state.blendMode}set blendMode(e){this.state.blendMode=e}get resolution(){return this._resolution}set resolution(e){this._resolution=e}static get defaultVertexSrc(){return c.default}static get defaultFragmentSrc(){return h.default}};d.defaultResolution=1,d.defaultMultisample=i.MSAA_QUALITY.NONE;let p=d},{"@pixi/constants":"68v8p","../shader/Program.mjs":"h96LB","../shader/Shader.mjs":"4DrhU","../state/State.mjs":"8tAVV","./defaultFilter.frag.mjs":"k70Zx","./defaultFilter.vert.mjs":"fTGq6","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],k70Zx:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"default",()=>i);var i=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`},{"@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],fTGq6:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"default",()=>i);var i=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`},{"@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],kqqaW:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"BackgroundSystem",()=>i.BackgroundSystem),s.export(r,"BatchSystem",()=>a.BatchSystem),s.export(r,"ContextSystem",()=>o.ContextSystem),s.export(r,"FilterSystem",()=>n.FilterSystem),s.export(r,"FramebufferSystem",()=>l.FramebufferSystem),s.export(r,"GenerateTextureSystem",()=>f.GenerateTextureSystem),s.export(r,"GeometrySystem",()=>h.GeometrySystem),s.export(r,"MaskSystem",()=>u.MaskSystem),s.export(r,"PluginSystem",()=>p.PluginSystem),s.export(r,"ProjectionSystem",()=>m.ProjectionSystem),s.export(r,"RenderTextureSystem",()=>_.RenderTextureSystem),s.export(r,"ScissorSystem",()=>c.ScissorSystem),s.export(r,"ShaderSystem",()=>g.ShaderSystem),s.export(r,"StartupSystem",()=>y.StartupSystem),s.export(r,"StateSystem",()=>x.StateSystem),s.export(r,"StencilSystem",()=>d.StencilSystem),s.export(r,"SystemManager",()=>b.SystemManager),s.export(r,"TextureGCSystem",()=>T.TextureGCSystem),s.export(r,"TextureSystem",()=>v.TextureSystem),s.export(r,"TransformFeedbackSystem",()=>A.TransformFeedbackSystem),s.export(r,"ViewSystem",()=>j.ViewSystem);var i=e("./background/BackgroundSystem.mjs"),a=e("./batch/BatchSystem.mjs"),o=e("./context/ContextSystem.mjs"),n=e("./filters/FilterSystem.mjs"),l=e("./framebuffer/FramebufferSystem.mjs"),h=e("./geometry/GeometrySystem.mjs"),u=e("./mask/MaskSystem.mjs"),c=e("./mask/ScissorSystem.mjs"),d=e("./mask/StencilSystem.mjs"),p=e("./plugin/PluginSystem.mjs"),m=e("./projection/ProjectionSystem.mjs"),f=e("./renderTexture/GenerateTextureSystem.mjs"),_=e("./renderTexture/RenderTextureSystem.mjs"),g=e("./shader/ShaderSystem.mjs"),y=e("./startup/StartupSystem.mjs"),x=e("./state/StateSystem.mjs"),b=e("./system/SystemManager.mjs"),T=e("./textures/TextureGCSystem.mjs"),v=e("./textures/TextureSystem.mjs"),A=e("./transformFeedback/TransformFeedbackSystem.mjs"),j=e("./view/ViewSystem.mjs")},{"./background/BackgroundSystem.mjs":"d4UV1","./batch/BatchSystem.mjs":"4LIXd","./context/ContextSystem.mjs":"1ugwQ","./filters/FilterSystem.mjs":"iElgo","./framebuffer/FramebufferSystem.mjs":"4jZKS","./geometry/GeometrySystem.mjs":"2FtTP","./mask/MaskSystem.mjs":"2VRix","./mask/ScissorSystem.mjs":"eNVGF","./mask/StencilSystem.mjs":"4Wc7U","./plugin/PluginSystem.mjs":"ekjzo","./projection/ProjectionSystem.mjs":"3imZ0","./renderTexture/GenerateTextureSystem.mjs":"hdP8L","./renderTexture/RenderTextureSystem.mjs":"jdex6","./shader/ShaderSystem.mjs":"f9E5F","./startup/StartupSystem.mjs":"1h92k","./state/StateSystem.mjs":"6Veb1","./system/SystemManager.mjs":"aX9hv","./textures/TextureGCSystem.mjs":"1EzcD","./textures/TextureSystem.mjs":"d2zdQ","./transformFeedback/TransformFeedbackSystem.mjs":"hj08K","./view/ViewSystem.mjs":"1PJBr","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],d4UV1:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"BackgroundSystem",()=>o);var i=e("@pixi/color"),a=e("@pixi/extensions");class o{constructor(){this.clearBeforeRender=!0,this._backgroundColor=new i.Color(0),this.alpha=1}init(e){this.clearBeforeRender=e.clearBeforeRender;let{backgroundColor:t,background:r,backgroundAlpha:s}=e,i=r??t;void 0!==i&&(this.color=i),this.alpha=s}get color(){return this._backgroundColor.value}set color(e){this._backgroundColor.setValue(e)}get alpha(){return this._backgroundColor.alpha}set alpha(e){this._backgroundColor.setAlpha(e)}get backgroundColor(){return this._backgroundColor}destroy(){}}o.defaultOptions={backgroundAlpha:1,backgroundColor:0,clearBeforeRender:!0},o.extension={type:[a.ExtensionType.RendererSystem,a.ExtensionType.CanvasRendererSystem],name:"background"},(0,a.extensions).add(o)},{"@pixi/color":"6G5hv","@pixi/extensions":"LXrqQ","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"4LIXd":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"BatchSystem",()=>o);var i=e("@pixi/extensions"),a=e("./ObjectRenderer.mjs");class o{constructor(e){this.renderer=e,this.emptyRenderer=new a.ObjectRenderer(e),this.currentRenderer=this.emptyRenderer}setObjectRenderer(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())}flush(){this.setObjectRenderer(this.emptyRenderer)}reset(){this.setObjectRenderer(this.emptyRenderer)}copyBoundTextures(e,t){let{boundTextures:r}=this.renderer.texture;for(let s=t-1;s>=0;--s)e[s]=r[s]||null,e[s]&&(e[s]._batchLocation=s)}boundArray(e,t,r,s){let{elements:i,ids:a,count:o}=e,n=0;for(let e=0;e<o;e++){let o=i[e],l=o._batchLocation;if(l>=0&&l<s&&t[l]===o){a[e]=l;continue}for(;n<s;){let s=t[n];if(s&&s._batchEnabled===r&&s._batchLocation===n){n++;continue}a[e]=n,o._batchLocation=n,t[n]=o;break}}}destroy(){this.renderer=null}}o.extension={type:i.ExtensionType.RendererSystem,name:"batch"},(0,i.extensions).add(o)},{"@pixi/extensions":"LXrqQ","./ObjectRenderer.mjs":"6mKqv","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"1ugwQ":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"ContextSystem",()=>l);var i=e("@pixi/constants"),a=e("@pixi/extensions"),o=e("@pixi/settings");let n=0;class l{constructor(e){this.renderer=e,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this)}get isLost(){return!this.gl||this.gl.isContextLost()}contextChange(e){this.gl=e,this.renderer.gl=e,this.renderer.CONTEXT_UID=n++}init(e){if(e.context)this.initFromContext(e.context);else{let t=this.renderer.background.alpha<1,r=e.premultipliedAlpha;this.preserveDrawingBuffer=e.preserveDrawingBuffer,this.useContextAlpha=e.useContextAlpha,this.powerPreference=e.powerPreference,this.initFromOptions({alpha:t,premultipliedAlpha:r,antialias:e.antialias,stencil:!0,preserveDrawingBuffer:e.preserveDrawingBuffer,powerPreference:e.powerPreference})}}initFromContext(e){this.gl=e,this.validateContext(e),this.renderer.gl=e,this.renderer.CONTEXT_UID=n++,this.renderer.runners.contextChange.emit(e);let t=this.renderer.view;void 0!==t.addEventListener&&(t.addEventListener("webglcontextlost",this.handleContextLost,!1),t.addEventListener("webglcontextrestored",this.handleContextRestored,!1))}initFromOptions(e){let t=this.createContext(this.renderer.view,e);this.initFromContext(t)}createContext(e,t){let r;if(o.settings.PREFER_ENV>=i.ENV.WEBGL2&&(r=e.getContext("webgl2",t)),r)this.webGLVersion=2;else if(this.webGLVersion=1,!(r=e.getContext("webgl",t)||e.getContext("experimental-webgl",t)))throw Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=r,this.getExtensions(),this.gl}getExtensions(){let{gl:e}=this,t={loseContext:e.getExtension("WEBGL_lose_context"),anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc"),bptc:e.getExtension("EXT_texture_compression_bptc")};1===this.webGLVersion?Object.assign(this.extensions,t,{drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear")}):2===this.webGLVersion&&Object.assign(this.extensions,t,{colorBufferFloat:e.getExtension("EXT_color_buffer_float")})}handleContextLost(e){e.preventDefault(),setTimeout(()=>{this.gl.isContextLost()&&this.extensions.loseContext&&this.extensions.loseContext.restoreContext()},0)}handleContextRestored(){this.renderer.runners.contextChange.emit(this.gl)}destroy(){let e=this.renderer.view;this.renderer=null,void 0!==e.removeEventListener&&(e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored)),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()}postrender(){this.renderer.objectRenderer.renderingToScreen&&this.gl.flush()}validateContext(e){let t=e.getContextAttributes(),r="WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext;r&&(this.webGLVersion=2),t&&!t.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");let s=r||!!e.getExtension("OES_element_index_uint");this.supports.uint32Indices=s,s||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")}}l.defaultOptions={context:null,antialias:!1,premultipliedAlpha:!0,preserveDrawingBuffer:!1,powerPreference:"default"},l.extension={type:a.ExtensionType.RendererSystem,name:"context"},(0,a.extensions).add(l)},{"@pixi/constants":"68v8p","@pixi/extensions":"LXrqQ","@pixi/settings":"fYTIf","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],iElgo:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"FilterSystem",()=>m);var i=e("@pixi/constants"),a=e("@pixi/extensions"),o=e("@pixi/math"),n=e("../renderTexture/RenderTexturePool.mjs"),l=e("../shader/UniformGroup.mjs"),h=e("../utils/Quad.mjs"),u=e("../utils/QuadUv.mjs"),c=e("./FilterState.mjs");let d=[new o.Point,new o.Point,new o.Point,new o.Point],p=new o.Matrix;class m{constructor(e){this.renderer=e,this.defaultFilterStack=[{}],this.texturePool=new n.RenderTexturePool,this.statePool=[],this.quad=new h.Quad,this.quadUv=new u.QuadUv,this.tempRect=new o.Rectangle,this.activeState={},this.globalUniforms=new l.UniformGroup({outputFrame:new o.Rectangle,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}init(){this.texturePool.setScreenSize(this.renderer.view)}push(e,t){let r,s;let i=this.renderer,a=this.defaultFilterStack,o=this.statePool.pop()||new c.FilterState,n=i.renderTexture;if(n.current){let e=n.current;r=e.resolution,s=e.multisample}else r=i.resolution,s=i.multisample;let l=t[0].resolution||r,h=t[0].multisample??s,u=t[0].padding,d=t[0].autoFit,m=t[0].legacy??!0;for(let e=1;e<t.length;e++){let i=t[e];l=Math.min(l,i.resolution||r),h=Math.min(h,i.multisample??s),u=this.useMaxPadding?Math.max(u,i.padding):u+i.padding,d=d&&i.autoFit,m=m||(i.legacy??!0)}1===a.length&&(this.defaultFilterStack[0].renderTexture=n.current),a.push(o),o.resolution=l,o.multisample=h,o.legacy=m,o.target=e,o.sourceFrame.copyFrom(e.filterArea||e.getBounds(!0)),o.sourceFrame.pad(u);let f=this.tempRect.copyFrom(n.sourceFrame);i.projection.transform&&this.transformAABB(p.copyFrom(i.projection.transform).invert(),f),d?(o.sourceFrame.fit(f),(o.sourceFrame.width<=0||o.sourceFrame.height<=0)&&(o.sourceFrame.width=0,o.sourceFrame.height=0)):o.sourceFrame.intersects(f)||(o.sourceFrame.width=0,o.sourceFrame.height=0),this.roundFrame(o.sourceFrame,n.current?n.current.resolution:i.resolution,n.sourceFrame,n.destinationFrame,i.projection.transform),o.renderTexture=this.getOptimalFilterTexture(o.sourceFrame.width,o.sourceFrame.height,l,h),o.filters=t,o.destinationFrame.width=o.renderTexture.width,o.destinationFrame.height=o.renderTexture.height;let _=this.tempRect;_.x=0,_.y=0,_.width=o.sourceFrame.width,_.height=o.sourceFrame.height,o.renderTexture.filterFrame=o.sourceFrame,o.bindingSourceFrame.copyFrom(n.sourceFrame),o.bindingDestinationFrame.copyFrom(n.destinationFrame),o.transform=i.projection.transform,i.projection.transform=null,n.bind(o.renderTexture,o.sourceFrame,_),i.framebuffer.clear(0,0,0,0)}pop(){let e=this.defaultFilterStack,t=e.pop(),r=t.filters;this.activeState=t;let s=this.globalUniforms.uniforms;s.outputFrame=t.sourceFrame,s.resolution=t.resolution;let a=s.inputSize,o=s.inputPixel,n=s.inputClamp;if(a[0]=t.destinationFrame.width,a[1]=t.destinationFrame.height,a[2]=1/a[0],a[3]=1/a[1],o[0]=Math.round(a[0]*t.resolution),o[1]=Math.round(a[1]*t.resolution),o[2]=1/o[0],o[3]=1/o[1],n[0]=.5*o[2],n[1]=.5*o[3],n[2]=t.sourceFrame.width*a[2]-.5*o[2],n[3]=t.sourceFrame.height*a[3]-.5*o[3],t.legacy){let e=s.filterArea;e[0]=t.destinationFrame.width,e[1]=t.destinationFrame.height,e[2]=t.sourceFrame.x,e[3]=t.sourceFrame.y,s.filterClamp=s.inputClamp}this.globalUniforms.update();let l=e[e.length-1];if(this.renderer.framebuffer.blit(),1===r.length)r[0].apply(this,t.renderTexture,l.renderTexture,i.CLEAR_MODES.BLEND,t),this.returnFilterTexture(t.renderTexture);else{let e=t.renderTexture,s=this.getOptimalFilterTexture(e.width,e.height,t.resolution);s.filterFrame=e.filterFrame;let a=0;for(a=0;a<r.length-1;++a){1===a&&t.multisample>1&&((s=this.getOptimalFilterTexture(e.width,e.height,t.resolution)).filterFrame=e.filterFrame),r[a].apply(this,e,s,i.CLEAR_MODES.CLEAR,t);let o=e;e=s,s=o}r[a].apply(this,e,l.renderTexture,i.CLEAR_MODES.BLEND,t),a>1&&t.multisample>1&&this.returnFilterTexture(t.renderTexture),this.returnFilterTexture(e),this.returnFilterTexture(s)}t.clear(),this.statePool.push(t)}bindAndClear(e,t=i.CLEAR_MODES.CLEAR){let{renderTexture:r,state:s}=this.renderer;if(e===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,e?.filterFrame){let t=this.tempRect;t.x=0,t.y=0,t.width=e.filterFrame.width,t.height=e.filterFrame.height,r.bind(e,e.filterFrame,t)}else e!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?r.bind(e):this.renderer.renderTexture.bind(e,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);let a=1&s.stateId||this.forceClear;(t===i.CLEAR_MODES.CLEAR||t===i.CLEAR_MODES.BLIT&&a)&&this.renderer.framebuffer.clear(0,0,0,0)}applyFilter(e,t,r,s){let a=this.renderer;a.state.set(e.state),this.bindAndClear(r,s),e.uniforms.uSampler=t,e.uniforms.filterGlobals=this.globalUniforms,a.shader.bind(e),e.legacy=!!e.program.attributeData.aTextureCoord,e.legacy?(this.quadUv.map(t._frame,t.filterFrame),a.geometry.bind(this.quadUv),a.geometry.draw(i.DRAW_MODES.TRIANGLES)):(a.geometry.bind(this.quad),a.geometry.draw(i.DRAW_MODES.TRIANGLE_STRIP))}calculateSpriteMatrix(e,t){let{sourceFrame:r,destinationFrame:s}=this.activeState,{orig:i}=t._texture,a=e.set(s.width,0,0,s.height,r.x,r.y),n=t.worldTransform.copyTo(o.Matrix.TEMP_MATRIX);return n.invert(),a.prepend(n),a.scale(1/i.width,1/i.height),a.translate(t.anchor.x,t.anchor.y),a}destroy(){this.renderer=null,this.texturePool.clear(!1)}getOptimalFilterTexture(e,t,r=1,s=i.MSAA_QUALITY.NONE){return this.texturePool.getOptimalTexture(e,t,r,s)}getFilterTexture(e,t,r){if("number"==typeof e){let r=e;e=t,t=r}e=e||this.activeState.renderTexture;let s=this.texturePool.getOptimalTexture(e.width,e.height,t||e.resolution,r||i.MSAA_QUALITY.NONE);return s.filterFrame=e.filterFrame,s}returnFilterTexture(e){this.texturePool.returnTexture(e)}emptyPool(){this.texturePool.clear(!0)}resize(){this.texturePool.setScreenSize(this.renderer.view)}transformAABB(e,t){let r=d[0],s=d[1],i=d[2],a=d[3];r.set(t.left,t.top),s.set(t.left,t.bottom),i.set(t.right,t.top),a.set(t.right,t.bottom),e.apply(r,r),e.apply(s,s),e.apply(i,i),e.apply(a,a);let o=Math.min(r.x,s.x,i.x,a.x),n=Math.min(r.y,s.y,i.y,a.y),l=Math.max(r.x,s.x,i.x,a.x),h=Math.max(r.y,s.y,i.y,a.y);t.x=o,t.y=n,t.width=l-o,t.height=h-n}roundFrame(e,t,r,s,i){if(!(e.width<=0||e.height<=0||r.width<=0||r.height<=0)){if(i){let{a:e,b:t,c:r,d:s}=i;if((Math.abs(t)>1e-4||Math.abs(r)>1e-4)&&(Math.abs(e)>1e-4||Math.abs(s)>1e-4))return}(i=i?p.copyFrom(i):p.identity()).translate(-r.x,-r.y).scale(s.width/r.width,s.height/r.height).translate(s.x,s.y),this.transformAABB(i,e),e.ceil(t),this.transformAABB(i.invert(),e)}}}m.extension={type:a.ExtensionType.RendererSystem,name:"filter"},(0,a.extensions).add(m)},{"@pixi/constants":"68v8p","@pixi/extensions":"LXrqQ","@pixi/math":"f1tY5","../renderTexture/RenderTexturePool.mjs":"3R2AC","../shader/UniformGroup.mjs":"30cf1","../utils/Quad.mjs":"fXTi8","../utils/QuadUv.mjs":"f3mx5","./FilterState.mjs":"fY4Rc","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"3R2AC":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"RenderTexturePool",()=>l);var i=e("@pixi/constants"),a=e("@pixi/utils"),o=e("./BaseRenderTexture.mjs"),n=e("./RenderTexture.mjs");class l{constructor(e){this.texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}createTexture(e,t,r=i.MSAA_QUALITY.NONE){let s=new o.BaseRenderTexture(Object.assign({width:e,height:t,resolution:1,multisample:r},this.textureOptions));return new n.RenderTexture(s)}getOptimalTexture(e,t,r=1,s=i.MSAA_QUALITY.NONE){let o;e=Math.max(Math.ceil(e*r-1e-6),1),t=Math.max(Math.ceil(t*r-1e-6),1),this.enableFullScreen&&e===this._pixelsWidth&&t===this._pixelsHeight?o=s>1?-s:-1:(e=(0,a.nextPow2)(e),t=(0,a.nextPow2)(t),o=((65535&e)<<16|65535&t)>>>0,s>1&&(o+=4294967296*s)),this.texturePool[o]||(this.texturePool[o]=[]);let n=this.texturePool[o].pop();return n||(n=this.createTexture(e,t,s)),n.filterPoolKey=o,n.setResolution(r),n}getFilterTexture(e,t,r){let s=this.getOptimalTexture(e.width,e.height,t||e.resolution,r||i.MSAA_QUALITY.NONE);return s.filterFrame=e.filterFrame,s}returnTexture(e){let t=e.filterPoolKey;e.filterFrame=null,this.texturePool[t].push(e)}returnFilterTexture(e){this.returnTexture(e)}clear(e){if(e=!1!==e)for(let e in this.texturePool){let t=this.texturePool[e];if(t)for(let e=0;e<t.length;e++)t[e].destroy(!0)}this.texturePool={}}setScreenSize(e){if(!(e.width===this._pixelsWidth&&e.height===this._pixelsHeight)){for(let t in this.enableFullScreen=e.width>0&&e.height>0,this.texturePool){if(!(0>Number(t)))continue;let e=this.texturePool[t];if(e)for(let t=0;t<e.length;t++)e[t].destroy(!0);this.texturePool[t]=[]}this._pixelsWidth=e.width,this._pixelsHeight=e.height}}}l.SCREEN_KEY=-1},{"@pixi/constants":"68v8p","@pixi/utils":"4Acrm","./BaseRenderTexture.mjs":"1R0Gg","./RenderTexture.mjs":"j7TyW","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"1R0Gg":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"BaseRenderTexture",()=>l);var i=e("@pixi/color"),a=e("@pixi/constants"),o=e("../framebuffer/Framebuffer.mjs"),n=e("../textures/BaseTexture.mjs");class l extends n.BaseTexture{constructor(e={}){if("number"==typeof e){let t=arguments[0],r=arguments[1],s=arguments[2],i=arguments[3];e={width:t,height:r,scaleMode:s,resolution:i}}e.width=e.width??100,e.height=e.height??100,e.multisample??(e.multisample=a.MSAA_QUALITY.NONE),super(null,e),this.mipmap=a.MIPMAP_MODES.OFF,this.valid=!0,this._clear=new i.Color([0,0,0,0]),this.framebuffer=new(0,o.Framebuffer)(this.realWidth,this.realHeight).addColorTexture(0,this),this.framebuffer.multisample=e.multisample,this.maskStack=[],this.filterStack=[{}]}set clearColor(e){this._clear.setValue(e)}get clearColor(){return this._clear.value}get clear(){return this._clear}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,t){this.framebuffer.resize(e*this.resolution,t*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)}dispose(){this.framebuffer.dispose(),super.dispose()}destroy(){super.destroy(),this.framebuffer.destroyDepthTexture(),this.framebuffer=null}}},{"@pixi/color":"6G5hv","@pixi/constants":"68v8p","../framebuffer/Framebuffer.mjs":"6vguM","../textures/BaseTexture.mjs":"gFSHz","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"6vguM":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"Framebuffer",()=>n);var i=e("@pixi/constants"),a=e("@pixi/runner"),o=e("../textures/BaseTexture.mjs");class n{constructor(e,t){if(this.width=Math.round(e),this.height=Math.round(t),!this.width||!this.height)throw Error("Framebuffer width or height is zero");this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new a.Runner("disposeFramebuffer"),this.multisample=i.MSAA_QUALITY.NONE}get colorTexture(){return this.colorTextures[0]}addColorTexture(e=0,t){return this.colorTextures[e]=t||new o.BaseTexture(null,{scaleMode:i.SCALE_MODES.NEAREST,resolution:1,mipmap:i.MIPMAP_MODES.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this}addDepthTexture(e){return this.depthTexture=e||new o.BaseTexture(null,{scaleMode:i.SCALE_MODES.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:i.MIPMAP_MODES.OFF,format:i.FORMATS.DEPTH_COMPONENT,type:i.TYPES.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this}enableDepth(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this}enableStencil(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this}resize(e,t){if(e=Math.round(e),t=Math.round(t),!e||!t)throw Error("Framebuffer width and height must not be zero");if(!(e===this.width&&t===this.height)){this.width=e,this.height=t,this.dirtyId++,this.dirtySize++;for(let r=0;r<this.colorTextures.length;r++){let s=this.colorTextures[r],i=s.resolution;s.setSize(e/i,t/i)}if(this.depthTexture){let r=this.depthTexture.resolution;this.depthTexture.setSize(e/r,t/r)}}}dispose(){this.disposeRunner.emit(this,!1)}destroyDepthTexture(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)}}},{"@pixi/constants":"68v8p","@pixi/runner":"rXCrp","../textures/BaseTexture.mjs":"gFSHz","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],j7TyW:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"RenderTexture",()=>o);var i=e("../textures/Texture.mjs"),a=e("./BaseRenderTexture.mjs");class o extends i.Texture{constructor(e,t){super(e,t),this.valid=!0,this.filterFrame=null,this.filterPoolKey=null,this.updateUvs()}get framebuffer(){return this.baseTexture.framebuffer}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,t,r=!0){let s=this.baseTexture.resolution,i=Math.round(e*s)/s,a=Math.round(t*s)/s;this.valid=i>0&&a>0,this._frame.width=this.orig.width=i,this._frame.height=this.orig.height=a,r&&this.baseTexture.resize(i,a),this.updateUvs()}setResolution(e){let{baseTexture:t}=this;t.resolution!==e&&(t.setResolution(e),this.resize(t.width,t.height,!1))}static create(e){return new o(new a.BaseRenderTexture(e))}}},{"../textures/Texture.mjs":"a6tOv","./BaseRenderTexture.mjs":"1R0Gg","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],a6tOv:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"Texture",()=>d);var i=e("@pixi/math"),a=e("@pixi/settings"),o=e("@pixi/utils"),n=e("./BaseTexture.mjs"),l=e("./resources/ImageResource.mjs"),h=e("./TextureUvs.mjs");let u=new h.TextureUvs;function c(e){e.destroy=function(){},e.on=function(){},e.once=function(){},e.emit=function(){}}class d extends o.EventEmitter{constructor(e,t,r,s,a,o,n){if(super(),this.noFrame=!1,t||(this.noFrame=!0,t=new i.Rectangle(0,0,1,1)),e instanceof d&&(e=e.baseTexture),this.baseTexture=e,this._frame=t,this.trim=s,this.valid=!1,this.destroyed=!1,this._uvs=u,this.uvMatrix=null,this.orig=r||t,this._rotate=Number(a||0),!0===a)this._rotate=2;else if(this._rotate%2!=0)throw Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");this.defaultAnchor=o?new i.Point(o.x,o.y):new i.Point(0,0),this.defaultBorders=n,this._updateID=0,this.textureCacheIds=[],e.valid?this.noFrame?e.valid&&this.onBaseTextureUpdated(e):this.frame=t:e.once("loaded",this.onBaseTextureUpdated,this),this.noFrame&&e.on("update",this.onBaseTextureUpdated,this)}update(){this.baseTexture.resource&&this.baseTexture.resource.update()}onBaseTextureUpdated(e){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=e.width,this._frame.height=e.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)}destroy(e){if(this.baseTexture){if(e){let{resource:e}=this.baseTexture;e?.url&&o.TextureCache[e.url]&&d.removeFromCache(e.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,d.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0,this.emit("destroyed",this),this.removeAllListeners()}clone(){let e=this._frame.clone(),t=this._frame===this.orig?e:this.orig.clone(),r=new d(this.baseTexture,!this.noFrame&&e,t,this.trim?.clone(),this.rotate,this.defaultAnchor,this.defaultBorders);return this.noFrame&&(r._frame=e),r}updateUvs(){this._uvs===u&&(this._uvs=new h.TextureUvs),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++}static from(e,t={},r=a.settings.STRICT_TEXTURE_CACHE){let s="string"==typeof e,i=null;if(s)i=e;else if(e instanceof n.BaseTexture){if(!e.cacheId){let r=t?.pixiIdPrefix||"pixiid";e.cacheId=`${r}-${(0,o.uid)()}`,(0,n.BaseTexture).addToCache(e,e.cacheId)}i=e.cacheId}else{if(!e._pixiId){let r=t?.pixiIdPrefix||"pixiid";e._pixiId=`${r}_${(0,o.uid)()}`}i=e._pixiId}let l=o.TextureCache[i];if(s&&r&&!l)throw Error(`The cacheId "${i}" does not exist in TextureCache.`);return l||e instanceof n.BaseTexture?!l&&e instanceof n.BaseTexture&&(l=new d(e),d.addToCache(l,i)):(t.resolution||(t.resolution=(0,o.getResolutionOfUrl)(e)),(l=new d(new n.BaseTexture(e,t))).baseTexture.cacheId=i,(0,n.BaseTexture).addToCache(l.baseTexture,i),d.addToCache(l,i)),l}static fromURL(e,t){let r=Object.assign({autoLoad:!1},t?.resourceOptions),s=d.from(e,Object.assign({resourceOptions:r},t),!1),i=s.baseTexture.resource;return s.baseTexture.valid?Promise.resolve(s):i.load().then(()=>Promise.resolve(s))}static fromBuffer(e,t,r,s){return new d((0,n.BaseTexture).fromBuffer(e,t,r,s))}static fromLoader(e,t,r,s){let i=new n.BaseTexture(e,Object.assign({scaleMode:n.BaseTexture.defaultOptions.scaleMode,resolution:(0,o.getResolutionOfUrl)(t)},s)),{resource:a}=i;a instanceof l.ImageResource&&(a.url=t);let h=new d(i);return r||(r=t),(0,n.BaseTexture).addToCache(h.baseTexture,r),d.addToCache(h,r),r!==t&&((0,n.BaseTexture).addToCache(h.baseTexture,t),d.addToCache(h,t)),h.baseTexture.valid?Promise.resolve(h):new Promise(e=>{h.baseTexture.once("loaded",()=>e(h))})}static addToCache(e,t){t&&(e.textureCacheIds.includes(t)||e.textureCacheIds.push(t),o.TextureCache[t]&&o.TextureCache[t]!==e&&console.warn(`Texture added to the cache with an id [${t}] that already had an entry`),o.TextureCache[t]=e)}static removeFromCache(e){if("string"==typeof e){let t=o.TextureCache[e];if(t){let r=t.textureCacheIds.indexOf(e);return r>-1&&t.textureCacheIds.splice(r,1),delete o.TextureCache[e],t}}else if(e?.textureCacheIds){for(let t=0;t<e.textureCacheIds.length;++t)o.TextureCache[e.textureCacheIds[t]]===e&&delete o.TextureCache[e.textureCacheIds[t]];return e.textureCacheIds.length=0,e}return null}get resolution(){return this.baseTexture.resolution}get frame(){return this._frame}set frame(e){this._frame=e,this.noFrame=!1;let{x:t,y:r,width:s,height:i}=e,a=t+s>this.baseTexture.width,o=r+i>this.baseTexture.height;if(a||o){let e=`X: ${t} + ${s} = ${t+s} > ${this.baseTexture.width}`,n=`Y: ${r} + ${i} = ${r+i} > ${this.baseTexture.height}`;throw Error(`Texture Error: frame does not fit inside the base Texture dimensions: ${e} ${a&&o?"and":"or"} ${n}`)}this.valid=s&&i&&this.baseTexture.valid,this.trim||this.rotate||(this.orig=e),this.valid&&this.updateUvs()}get rotate(){return this._rotate}set rotate(e){this._rotate=e,this.valid&&this.updateUvs()}get width(){return this.orig.width}get height(){return this.orig.height}castToBaseTexture(){return this.baseTexture}static get EMPTY(){return d._EMPTY||(d._EMPTY=new d(new n.BaseTexture),c(d._EMPTY),c(d._EMPTY.baseTexture)),d._EMPTY}static get WHITE(){if(!d._WHITE){let e=(0,a.settings).ADAPTER.createCanvas(16,16),t=e.getContext("2d");e.width=16,e.height=16,t.fillStyle="white",t.fillRect(0,0,16,16),d._WHITE=new d((0,n.BaseTexture).from(e)),c(d._WHITE),c(d._WHITE.baseTexture)}return d._WHITE}}},{"@pixi/math":"f1tY5","@pixi/settings":"fYTIf","@pixi/utils":"4Acrm","./BaseTexture.mjs":"gFSHz","./resources/ImageResource.mjs":"9XGf4","./TextureUvs.mjs":"40j3i","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"9XGf4":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"ImageResource",()=>n);var i=e("@pixi/constants"),a=e("@pixi/settings"),o=e("./BaseImageResource.mjs");class n extends o.BaseImageResource{constructor(e,t){if(t=t||{},"string"==typeof e){let r=new Image;(0,o.BaseImageResource).crossOrigin(r,e,t.crossorigin),r.src=e,e=r}super(e),!e.complete&&this._width&&this._height&&(this._width=0,this._height=0),this.url=e.src,this._process=null,this.preserveBitmap=!1,this.createBitmap=(t.createBitmap??a.settings.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,this.alphaMode="number"==typeof t.alphaMode?t.alphaMode:null,this.bitmap=null,this._load=null,!1!==t.autoLoad&&this.load()}load(e){return this._load||(void 0!==e&&(this.createBitmap=e),this._load=new Promise((e,t)=>{let r=this.source;this.url=r.src;let s=()=>{this.destroyed||(r.onload=null,r.onerror=null,this.update(),this._load=null,this.createBitmap?e(this.process()):e(this))};r.complete&&r.src?s():(r.onload=s,r.onerror=e=>{t(e),this.onError.emit(e)})})),this._load}process(){let e=this.source;if(null!==this._process)return this._process;if(null!==this.bitmap||!globalThis.createImageBitmap)return Promise.resolve(this);let t=globalThis.createImageBitmap,r=!e.crossOrigin||"anonymous"===e.crossOrigin;return this._process=fetch(e.src,{mode:r?"cors":"no-cors"}).then(e=>e.blob()).then(r=>t(r,0,0,e.width,e.height,{premultiplyAlpha:null===this.alphaMode||this.alphaMode===i.ALPHA_MODES.UNPACK?"premultiply":"none"})).then(e=>this.destroyed?Promise.reject():(this.bitmap=e,this.update(),this._process=null,Promise.resolve(this))),this._process}upload(e,t,r){if("number"==typeof this.alphaMode&&(t.alphaMode=this.alphaMode),!this.createBitmap)return super.upload(e,t,r);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(super.upload(e,t,r,this.bitmap),!this.preserveBitmap){let e=!0,s=t._glTextures;for(let i in s){let a=s[i];if(a!==r&&a.dirtyId!==t.dirtyId){e=!1;break}}e&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0}dispose(){this.source.onload=null,this.source.onerror=null,super.dispose(),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null}static test(e){return"u">typeof HTMLImageElement&&("string"==typeof e||e instanceof HTMLImageElement)}}},{"@pixi/constants":"68v8p","@pixi/settings":"fYTIf","./BaseImageResource.mjs":"82Avo","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"82Avo":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"BaseImageResource",()=>n);var i=e("@pixi/constants"),a=e("@pixi/utils"),o=e("./Resource.mjs");class n extends o.Resource{constructor(e){super(e.naturalWidth||e.videoWidth||e.displayWidth||e.width,e.naturalHeight||e.videoHeight||e.displayHeight||e.height),this.source=e,this.noSubImage=!1}static crossOrigin(e,t,r){void 0!==r||t.startsWith("data:")?!1!==r&&(e.crossOrigin="string"==typeof r?r:"anonymous"):e.crossOrigin=(0,a.determineCrossOrigin)(t)}upload(e,t,r,s){let a=e.gl,o=t.realWidth,n=t.realHeight;if(s=s||this.source,"u">typeof HTMLImageElement&&s instanceof HTMLImageElement){if(!s.complete||0===s.naturalWidth)return!1}else if("u">typeof HTMLVideoElement&&s instanceof HTMLVideoElement&&s.readyState<=1)return!1;return a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.alphaMode===i.ALPHA_MODES.UNPACK),this.noSubImage||t.target!==a.TEXTURE_2D||r.width!==o||r.height!==n?(r.width=o,r.height=n,a.texImage2D(t.target,0,r.internalFormat,t.format,r.type,s)):a.texSubImage2D(a.TEXTURE_2D,0,0,0,t.format,r.type,s),!0}update(){if(this.destroyed)return;let e=this.source,t=e.naturalWidth||e.videoWidth||e.width,r=e.naturalHeight||e.videoHeight||e.height;this.resize(t,r),super.update()}dispose(){this.source=null}}},{"@pixi/constants":"68v8p","@pixi/utils":"4Acrm","./Resource.mjs":"gFk3n","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"40j3i":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"TextureUvs",()=>a);var i=e("@pixi/math");class a{constructor(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}set(e,t,r){let s=t.width,a=t.height;if(r){let t=e.width/2/s,o=e.height/2/a,n=e.x/s+t,l=e.y/a+o;r=(0,i.groupD8).add(r,i.groupD8.NW),this.x0=n+t*(0,i.groupD8).uX(r),this.y0=l+o*(0,i.groupD8).uY(r),r=(0,i.groupD8).add(r,2),this.x1=n+t*(0,i.groupD8).uX(r),this.y1=l+o*(0,i.groupD8).uY(r),r=(0,i.groupD8).add(r,2),this.x2=n+t*(0,i.groupD8).uX(r),this.y2=l+o*(0,i.groupD8).uY(r),r=(0,i.groupD8).add(r,2),this.x3=n+t*(0,i.groupD8).uX(r),this.y3=l+o*(0,i.groupD8).uY(r)}else this.x0=e.x/s,this.y0=e.y/a,this.x1=(e.x+e.width)/s,this.y1=e.y/a,this.x2=(e.x+e.width)/s,this.y2=(e.y+e.height)/a,this.x3=e.x/s,this.y3=(e.y+e.height)/a;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3}}a.prototype.toString=function(){return`[@pixi/core:TextureUvs x0=${this.x0} y0=${this.y0} x1=${this.x1} y1=${this.y1} x2=${this.x2} y2=${this.y2} x3=${this.x3} y3=${this.y3}]`}},{"@pixi/math":"f1tY5","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],fXTi8:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"Quad",()=>a);var i=e("../geometry/Geometry.mjs");class a extends i.Geometry{constructor(){super(),this.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2])}}},{"../geometry/Geometry.mjs":"6KykX","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],f3mx5:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"QuadUv",()=>o);var i=e("../geometry/Buffer.mjs"),a=e("../geometry/Geometry.mjs");class o extends a.Geometry{constructor(){super(),this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.vertexBuffer=new i.Buffer(this.vertices),this.uvBuffer=new i.Buffer(this.uvs),this.addAttribute("aVertexPosition",this.vertexBuffer).addAttribute("aTextureCoord",this.uvBuffer).addIndex([0,1,2,0,2,3])}map(e,t){let r=0,s=0;return this.uvs[0]=r,this.uvs[1]=s,this.uvs[2]=r+t.width/e.width,this.uvs[3]=s,this.uvs[4]=r+t.width/e.width,this.uvs[5]=s+t.height/e.height,this.uvs[6]=r,this.uvs[7]=s+t.height/e.height,r=t.x,s=t.y,this.vertices[0]=r,this.vertices[1]=s,this.vertices[2]=r+t.width,this.vertices[3]=s,this.vertices[4]=r+t.width,this.vertices[5]=s+t.height,this.vertices[6]=r,this.vertices[7]=s+t.height,this.invalidate(),this}invalidate(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this}}},{"../geometry/Buffer.mjs":"6FX9J","../geometry/Geometry.mjs":"6KykX","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],fY4Rc:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"FilterState",()=>o);var i=e("@pixi/constants"),a=e("@pixi/math");class o{constructor(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=i.MSAA_QUALITY.NONE,this.sourceFrame=new a.Rectangle,this.destinationFrame=new a.Rectangle,this.bindingSourceFrame=new a.Rectangle,this.bindingDestinationFrame=new a.Rectangle,this.filters=[],this.transform=null}clear(){this.target=null,this.filters=null,this.renderTexture=null}}},{"@pixi/constants":"68v8p","@pixi/math":"f1tY5","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"4jZKS":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"FramebufferSystem",()=>c);var i=e("@pixi/constants"),a=e("@pixi/extensions"),o=e("@pixi/math"),n=e("@pixi/settings"),l=e("./Framebuffer.mjs"),h=e("./GLFramebuffer.mjs");let u=new o.Rectangle;class c{constructor(e){this.renderer=e,this.managedFramebuffers=[],this.unknownFramebuffer=new l.Framebuffer(10,10),this.msaaSamples=null}contextChange(){this.disposeAll(!0);let e=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new o.Rectangle,this.hasMRT=!0,this.writeDepthTexture=!0,1===this.renderer.context.webGLVersion){let t=this.renderer.context.extensions.drawBuffers,r=this.renderer.context.extensions.depthTexture;n.settings.PREFER_ENV===i.ENV.WEBGL_LEGACY&&(t=null,r=null),t?e.drawBuffers=e=>t.drawBuffersWEBGL(e):(this.hasMRT=!1,e.drawBuffers=()=>{}),r||(this.writeDepthTexture=!1)}else this.msaaSamples=e.getInternalformatParameter(e.RENDERBUFFER,e.RGBA8,e.SAMPLES)}bind(e,t,r=0){let{gl:s}=this;if(e){let i=e.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(e);this.current!==e&&(this.current=e,s.bindFramebuffer(s.FRAMEBUFFER,i.framebuffer)),i.mipLevel!==r&&(e.dirtyId++,e.dirtyFormat++,i.mipLevel=r),i.dirtyId!==e.dirtyId&&(i.dirtyId=e.dirtyId,i.dirtyFormat!==e.dirtyFormat?(i.dirtyFormat=e.dirtyFormat,i.dirtySize=e.dirtySize,this.updateFramebuffer(e,r)):i.dirtySize!==e.dirtySize&&(i.dirtySize=e.dirtySize,this.resizeFramebuffer(e)));for(let t=0;t<e.colorTextures.length;t++){let r=e.colorTextures[t];this.renderer.texture.unbind(r.parentTextureArray||r)}if(e.depthTexture&&this.renderer.texture.unbind(e.depthTexture),t){let e=t.width>>r,s=t.height>>r,i=e/t.width;this.setViewport(t.x*i,t.y*i,e,s)}else{let t=e.width>>r,s=e.height>>r;this.setViewport(0,0,t,s)}}else this.current&&(this.current=null,s.bindFramebuffer(s.FRAMEBUFFER,null)),t?this.setViewport(t.x,t.y,t.width,t.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)}setViewport(e,t,r,s){let i=this.viewport;e=Math.round(e),t=Math.round(t),r=Math.round(r),s=Math.round(s),(i.width!==r||i.height!==s||i.x!==e||i.y!==t)&&(i.x=e,i.y=t,i.width=r,i.height=s,this.gl.viewport(e,t,r,s))}get size(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}}clear(e,t,r,s,a=i.BUFFER_BITS.COLOR|i.BUFFER_BITS.DEPTH){let{gl:o}=this;o.clearColor(e,t,r,s),o.clear(a)}initFramebuffer(e){let{gl:t}=this,r=new h.GLFramebuffer(t.createFramebuffer());return r.multisample=this.detectSamples(e.multisample),e.glFramebuffers[this.CONTEXT_UID]=r,this.managedFramebuffers.push(e),e.disposeRunner.add(this),r}resizeFramebuffer(e){let{gl:t}=this,r=e.glFramebuffers[this.CONTEXT_UID];if(r.stencil){let s;t.bindRenderbuffer(t.RENDERBUFFER,r.stencil),s=1===this.renderer.context.webGLVersion?t.DEPTH_STENCIL:e.depth&&e.stencil?t.DEPTH24_STENCIL8:e.depth?t.DEPTH_COMPONENT24:t.STENCIL_INDEX8,r.msaaBuffer?t.renderbufferStorageMultisample(t.RENDERBUFFER,r.multisample,s,e.width,e.height):t.renderbufferStorage(t.RENDERBUFFER,s,e.width,e.height)}let s=e.colorTextures,i=s.length;t.drawBuffers||(i=Math.min(i,1));for(let a=0;a<i;a++){let i=s[a],o=i.parentTextureArray||i;this.renderer.texture.bind(o,0),0===a&&r.msaaBuffer&&(t.bindRenderbuffer(t.RENDERBUFFER,r.msaaBuffer),t.renderbufferStorageMultisample(t.RENDERBUFFER,r.multisample,o._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height))}e.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(e.depthTexture,0)}updateFramebuffer(e,t){let{gl:r}=this,s=e.glFramebuffers[this.CONTEXT_UID],i=e.colorTextures,a=i.length;r.drawBuffers||(a=Math.min(a,1)),s.multisample>1&&this.canMultisampleFramebuffer(e)?s.msaaBuffer=s.msaaBuffer||r.createRenderbuffer():s.msaaBuffer&&(r.deleteRenderbuffer(s.msaaBuffer),s.msaaBuffer=null,s.blitFramebuffer&&(s.blitFramebuffer.dispose(),s.blitFramebuffer=null));let o=[];for(let n=0;n<a;n++){let a=i[n],l=a.parentTextureArray||a;this.renderer.texture.bind(l,0),0===n&&s.msaaBuffer?(r.bindRenderbuffer(r.RENDERBUFFER,s.msaaBuffer),r.renderbufferStorageMultisample(r.RENDERBUFFER,s.multisample,l._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.RENDERBUFFER,s.msaaBuffer)):(r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0+n,a.target,l._glTextures[this.CONTEXT_UID].texture,t),o.push(r.COLOR_ATTACHMENT0+n))}if(o.length>1&&r.drawBuffers(o),e.depthTexture&&this.writeDepthTexture){let s=e.depthTexture;this.renderer.texture.bind(s,0),r.framebufferTexture2D(r.FRAMEBUFFER,r.DEPTH_ATTACHMENT,r.TEXTURE_2D,s._glTextures[this.CONTEXT_UID].texture,t)}if((e.stencil||e.depth)&&!(e.depthTexture&&this.writeDepthTexture)){let t,i;s.stencil=s.stencil||r.createRenderbuffer(),1===this.renderer.context.webGLVersion?(t=r.DEPTH_STENCIL_ATTACHMENT,i=r.DEPTH_STENCIL):e.depth&&e.stencil?(t=r.DEPTH_STENCIL_ATTACHMENT,i=r.DEPTH24_STENCIL8):e.depth?(t=r.DEPTH_ATTACHMENT,i=r.DEPTH_COMPONENT24):(t=r.STENCIL_ATTACHMENT,i=r.STENCIL_INDEX8),r.bindRenderbuffer(r.RENDERBUFFER,s.stencil),s.msaaBuffer?r.renderbufferStorageMultisample(r.RENDERBUFFER,s.multisample,i,e.width,e.height):r.renderbufferStorage(r.RENDERBUFFER,i,e.width,e.height),r.framebufferRenderbuffer(r.FRAMEBUFFER,t,r.RENDERBUFFER,s.stencil)}else s.stencil&&(r.deleteRenderbuffer(s.stencil),s.stencil=null)}canMultisampleFramebuffer(e){return 1!==this.renderer.context.webGLVersion&&e.colorTextures.length<=1&&!e.depthTexture}detectSamples(e){let{msaaSamples:t}=this,r=i.MSAA_QUALITY.NONE;if(e<=1||null===t)return r;for(let s=0;s<t.length;s++)if(t[s]<=e){r=t[s];break}return 1===r&&(r=i.MSAA_QUALITY.NONE),r}blit(e,t,r){let{current:s,renderer:i,gl:a,CONTEXT_UID:o}=this;if(2!==i.context.webGLVersion||!s)return;let n=s.glFramebuffers[o];if(!n)return;if(!e){if(!n.msaaBuffer)return;let t=s.colorTextures[0];if(!t)return;n.blitFramebuffer||(n.blitFramebuffer=new l.Framebuffer(s.width,s.height),n.blitFramebuffer.addColorTexture(0,t)),(e=n.blitFramebuffer).colorTextures[0]!==t&&(e.colorTextures[0]=t,e.dirtyId++,e.dirtyFormat++),(e.width!==s.width||e.height!==s.height)&&(e.width=s.width,e.height=s.height,e.dirtyId++,e.dirtySize++)}t||((t=u).width=s.width,t.height=s.height),r||(r=t);let h=t.width===r.width&&t.height===r.height;this.bind(e),a.bindFramebuffer(a.READ_FRAMEBUFFER,n.framebuffer),a.blitFramebuffer(t.left,t.top,t.right,t.bottom,r.left,r.top,r.right,r.bottom,a.COLOR_BUFFER_BIT,h?a.NEAREST:a.LINEAR),a.bindFramebuffer(a.READ_FRAMEBUFFER,e.glFramebuffers[this.CONTEXT_UID].framebuffer)}disposeFramebuffer(e,t){let r=e.glFramebuffers[this.CONTEXT_UID],s=this.gl;if(!r)return;delete e.glFramebuffers[this.CONTEXT_UID];let i=this.managedFramebuffers.indexOf(e);i>=0&&this.managedFramebuffers.splice(i,1),e.disposeRunner.remove(this),t||(s.deleteFramebuffer(r.framebuffer),r.msaaBuffer&&s.deleteRenderbuffer(r.msaaBuffer),r.stencil&&s.deleteRenderbuffer(r.stencil)),r.blitFramebuffer&&this.disposeFramebuffer(r.blitFramebuffer,t)}disposeAll(e){let t=this.managedFramebuffers;this.managedFramebuffers=[];for(let r=0;r<t.length;r++)this.disposeFramebuffer(t[r],e)}forceStencil(){let e,t;let r=this.current;if(!r)return;let s=r.glFramebuffers[this.CONTEXT_UID];if(!s||s.stencil&&r.stencil)return;r.stencil=!0;let i=r.width,a=r.height,o=this.gl,n=s.stencil=o.createRenderbuffer();o.bindRenderbuffer(o.RENDERBUFFER,n),1===this.renderer.context.webGLVersion?(e=o.DEPTH_STENCIL_ATTACHMENT,t=o.DEPTH_STENCIL):r.depth?(e=o.DEPTH_STENCIL_ATTACHMENT,t=o.DEPTH24_STENCIL8):(e=o.STENCIL_ATTACHMENT,t=o.STENCIL_INDEX8),s.msaaBuffer?o.renderbufferStorageMultisample(o.RENDERBUFFER,s.multisample,t,i,a):o.renderbufferStorage(o.RENDERBUFFER,t,i,a),o.framebufferRenderbuffer(o.FRAMEBUFFER,e,o.RENDERBUFFER,n)}reset(){this.current=this.unknownFramebuffer,this.viewport=new o.Rectangle}destroy(){this.renderer=null}}c.extension={type:a.ExtensionType.RendererSystem,name:"framebuffer"},(0,a.extensions).add(c)},{"@pixi/constants":"68v8p","@pixi/extensions":"LXrqQ","@pixi/math":"f1tY5","@pixi/settings":"fYTIf","./Framebuffer.mjs":"6vguM","./GLFramebuffer.mjs":"7JCxc","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"7JCxc":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"GLFramebuffer",()=>a);var i=e("@pixi/constants");class a{constructor(e){this.framebuffer=e,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=i.MSAA_QUALITY.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}}},{"@pixi/constants":"68v8p","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"2FtTP":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"GeometrySystem",()=>l);var i=e("@pixi/constants"),a=e("@pixi/extensions"),o=e("@pixi/settings");let n={5126:4,5123:2,5121:1};class l{constructor(e){this.renderer=e,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}contextChange(){this.disposeAll(!0);let e=this.gl=this.renderer.gl,t=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,2!==t.webGLVersion){let t=this.renderer.context.extensions.vertexArrayObject;o.settings.PREFER_ENV===i.ENV.WEBGL_LEGACY&&(t=null),t?(e.createVertexArray=()=>t.createVertexArrayOES(),e.bindVertexArray=e=>t.bindVertexArrayOES(e),e.deleteVertexArray=e=>t.deleteVertexArrayOES(e)):(this.hasVao=!1,e.createVertexArray=()=>null,e.bindVertexArray=()=>null,e.deleteVertexArray=()=>null)}if(2!==t.webGLVersion){let t=e.getExtension("ANGLE_instanced_arrays");t?(e.vertexAttribDivisor=(e,r)=>t.vertexAttribDivisorANGLE(e,r),e.drawElementsInstanced=(e,r,s,i,a)=>t.drawElementsInstancedANGLE(e,r,s,i,a),e.drawArraysInstanced=(e,r,s,i)=>t.drawArraysInstancedANGLE(e,r,s,i)):this.hasInstance=!1}this.canUseUInt32ElementIndex=2===t.webGLVersion||!!t.extensions.uint32ElementIndex}bind(e,t){t=t||this.renderer.shader.shader;let{gl:r}=this,s=e.glVertexArrayObjects[this.CONTEXT_UID],i=!1;s||(this.managedGeometries[e.id]=e,e.disposeRunner.add(this),e.glVertexArrayObjects[this.CONTEXT_UID]=s={},i=!0);let a=s[t.program.id]||this.initGeometryVao(e,t,i);this._activeGeometry=e,this._activeVao!==a&&(this._activeVao=a,this.hasVao?r.bindVertexArray(a):this.activateVao(e,t.program)),this.updateBuffers()}reset(){this.unbind()}updateBuffers(){let e=this._activeGeometry,t=this.renderer.buffer;for(let r=0;r<e.buffers.length;r++){let s=e.buffers[r];t.update(s)}}checkCompatibility(e,t){let r=e.attributes,s=t.attributeData;for(let e in s)if(!r[e])throw Error(`shader and geometry incompatible, geometry missing the "${e}" attribute`)}getSignature(e,t){let r=e.attributes,s=t.attributeData,i=["g",e.id];for(let e in r)s[e]&&i.push(e,s[e].location);return i.join("-")}initGeometryVao(e,t,r=!0){let s=this.gl,a=this.CONTEXT_UID,o=this.renderer.buffer,l=t.program;l.glPrograms[a]||this.renderer.shader.generateProgram(t),this.checkCompatibility(e,l);let h=this.getSignature(e,l),u=e.glVertexArrayObjects[this.CONTEXT_UID],c=u[h];if(c)return u[l.id]=c,c;let d=e.buffers,p=e.attributes,m={},f={};for(let e in d)m[e]=0,f[e]=0;for(let e in p)!p[e].size&&l.attributeData[e]?p[e].size=l.attributeData[e].size:p[e].size||console.warn(`PIXI Geometry attribute '${e}' size cannot be determined (likely the bound shader does not have the attribute)`),m[p[e].buffer]+=p[e].size*n[p[e].type];for(let e in p){let t=p[e],r=t.size;void 0===t.stride&&(m[t.buffer]===r*n[t.type]?t.stride=0:t.stride=m[t.buffer]),void 0===t.start&&(t.start=f[t.buffer],f[t.buffer]+=r*n[t.type])}c=s.createVertexArray(),s.bindVertexArray(c);for(let e=0;e<d.length;e++){let t=d[e];o.bind(t),r&&t._glBuffers[a].refCount++}return this.activateVao(e,l),u[l.id]=c,u[h]=c,s.bindVertexArray(null),o.unbind(i.BUFFER_TYPE.ARRAY_BUFFER),c}disposeGeometry(e,t){if(!this.managedGeometries[e.id])return;delete this.managedGeometries[e.id];let r=e.glVertexArrayObjects[this.CONTEXT_UID],s=this.gl,i=e.buffers,a=this.renderer?.buffer;if(e.disposeRunner.remove(this),r){if(a)for(let e=0;e<i.length;e++){let r=i[e]._glBuffers[this.CONTEXT_UID];r&&(r.refCount--,0!==r.refCount||t||a.dispose(i[e],t))}if(!t){for(let e in r)if("g"===e[0]){let t=r[e];this._activeVao===t&&this.unbind(),s.deleteVertexArray(t)}}delete e.glVertexArrayObjects[this.CONTEXT_UID]}}disposeAll(e){let t=Object.keys(this.managedGeometries);for(let r=0;r<t.length;r++)this.disposeGeometry(this.managedGeometries[t[r]],e)}activateVao(e,t){let r=this.gl,s=this.CONTEXT_UID,i=this.renderer.buffer,a=e.buffers,o=e.attributes;e.indexBuffer&&i.bind(e.indexBuffer);let n=null;for(let e in o){let l=o[e],h=a[l.buffer],u=h._glBuffers[s];if(t.attributeData[e]){n!==u&&(i.bind(h),n=u);let s=t.attributeData[e].location;if(r.enableVertexAttribArray(s),r.vertexAttribPointer(s,l.size,l.type||r.FLOAT,l.normalized,l.stride,l.start),l.instance){if(this.hasInstance)r.vertexAttribDivisor(s,l.divisor);else throw Error("geometry error, GPU Instancing is not supported on this device")}}}}draw(e,t,r,s){let{gl:i}=this,a=this._activeGeometry;if(a.indexBuffer){let o=a.indexBuffer.data.BYTES_PER_ELEMENT,n=2===o?i.UNSIGNED_SHORT:i.UNSIGNED_INT;2===o||4===o&&this.canUseUInt32ElementIndex?a.instanced?i.drawElementsInstanced(e,t||a.indexBuffer.data.length,n,(r||0)*o,s||1):i.drawElements(e,t||a.indexBuffer.data.length,n,(r||0)*o):console.warn("unsupported index buffer type: uint32")}else a.instanced?i.drawArraysInstanced(e,r,t||a.getSize(),s||1):i.drawArrays(e,r,t||a.getSize());return this}unbind(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null}destroy(){this.renderer=null}}l.extension={type:a.ExtensionType.RendererSystem,name:"geometry"},(0,a.extensions).add(l)},{"@pixi/constants":"68v8p","@pixi/extensions":"LXrqQ","@pixi/settings":"fYTIf","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"2VRix":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"MaskSystem",()=>l);var i=e("@pixi/constants"),a=e("@pixi/extensions"),o=e("../filters/spriteMask/SpriteMaskFilter.mjs"),n=e("./MaskData.mjs");class l{constructor(e){this.renderer=e,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}setMaskStack(e){this.maskStack=e,this.renderer.scissor.setMaskStack(e),this.renderer.stencil.setMaskStack(e)}push(e,t){let r=t;if(!r.isMaskData){let e=this.maskDataPool.pop()||new n.MaskData;e.pooled=!0,e.maskObject=t,r=e}let s=0!==this.maskStack.length?this.maskStack[this.maskStack.length-1]:null;if(r.copyCountersOrReset(s),r._colorMask=s?s._colorMask:15,r.autoDetect&&this.detect(r),r._target=e,r.type!==i.MASK_TYPES.SPRITE&&this.maskStack.push(r),r.enabled)switch(r.type){case i.MASK_TYPES.SCISSOR:this.renderer.scissor.push(r);break;case i.MASK_TYPES.STENCIL:this.renderer.stencil.push(r);break;case i.MASK_TYPES.SPRITE:r.copyCountersOrReset(null),this.pushSpriteMask(r);break;case i.MASK_TYPES.COLOR:this.pushColorMask(r)}r.type===i.MASK_TYPES.SPRITE&&this.maskStack.push(r)}pop(e){let t=this.maskStack.pop();if(!(!t||t._target!==e)){if(t.enabled)switch(t.type){case i.MASK_TYPES.SCISSOR:this.renderer.scissor.pop(t);break;case i.MASK_TYPES.STENCIL:this.renderer.stencil.pop(t.maskObject);break;case i.MASK_TYPES.SPRITE:this.popSpriteMask(t);break;case i.MASK_TYPES.COLOR:this.popColorMask(t)}if(t.reset(),t.pooled&&this.maskDataPool.push(t),0!==this.maskStack.length){let e=this.maskStack[this.maskStack.length-1];e.type===i.MASK_TYPES.SPRITE&&e._filters&&(e._filters[0].maskSprite=e.maskObject)}}}detect(e){let t=e.maskObject;t?t.isSprite?e.type=i.MASK_TYPES.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(e)?e.type=i.MASK_TYPES.SCISSOR:e.type=i.MASK_TYPES.STENCIL:e.type=i.MASK_TYPES.COLOR}pushSpriteMask(e){let{maskObject:t}=e,r=e._target,s=e._filters;s||(s=this.alphaMaskPool[this.alphaMaskIndex])||(s=this.alphaMaskPool[this.alphaMaskIndex]=[new o.SpriteMaskFilter]),s[0].resolution=e.resolution,s[0].multisample=e.multisample,s[0].maskSprite=t;let i=r.filterArea;r.filterArea=t.getBounds(!0),this.renderer.filter.push(r,s),r.filterArea=i,e._filters||this.alphaMaskIndex++}popSpriteMask(e){this.renderer.filter.pop(),e._filters?e._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)}pushColorMask(e){let t=e._colorMask,r=e._colorMask=t&e.colorMask;r!==t&&this.renderer.gl.colorMask((1&r)!=0,(2&r)!=0,(4&r)!=0,(8&r)!=0)}popColorMask(e){let t=e._colorMask,r=this.maskStack.length>0?this.maskStack[this.maskStack.length-1]._colorMask:15;r!==t&&this.renderer.gl.colorMask((1&r)!=0,(2&r)!=0,(4&r)!=0,(8&r)!=0)}destroy(){this.renderer=null}}l.extension={type:a.ExtensionType.RendererSystem,name:"mask"},(0,a.extensions).add(l)},{"@pixi/constants":"68v8p","@pixi/extensions":"LXrqQ","../filters/spriteMask/SpriteMaskFilter.mjs":"7oLFz","./MaskData.mjs":"kf5d3","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"7oLFz":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"SpriteMaskFilter",()=>c);var i=e("@pixi/math"),a=e("../../textures/TextureMatrix.mjs"),o=e("../Filter.mjs"),n=e("./spriteMaskFilter.frag.mjs"),l=s.interopDefault(n),h=e("./spriteMaskFilter.vert.mjs"),u=s.interopDefault(h);class c extends o.Filter{constructor(e,t,r){let s=null;"string"!=typeof e&&void 0===t&&void 0===r&&(s=e,e=void 0,t=void 0,r=void 0),super(e||u.default,t||l.default,r),this.maskSprite=s,this.maskMatrix=new i.Matrix}get maskSprite(){return this._maskSprite}set maskSprite(e){this._maskSprite=e,this._maskSprite&&(this._maskSprite.renderable=!1)}apply(e,t,r,s){let i=this._maskSprite,o=i._texture;o.valid&&(o.uvMatrix||(o.uvMatrix=new a.TextureMatrix(o,0)),o.uvMatrix.update(),this.uniforms.npmAlpha=o.baseTexture.alphaMode?0:1,this.uniforms.mask=o,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,i).prepend(o.uvMatrix.mapCoord),this.uniforms.alpha=i.worldAlpha,this.uniforms.maskClamp=o.uvMatrix.uClampFrame,e.applyFilter(this,t,r,s))}}},{"@pixi/math":"f1tY5","../../textures/TextureMatrix.mjs":"dPET1","../Filter.mjs":"2DnTX","./spriteMaskFilter.frag.mjs":"9ep5B","./spriteMaskFilter.vert.mjs":"7VSq7","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],dPET1:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"TextureMatrix",()=>o);var i=e("@pixi/math");let a=new i.Matrix;class o{constructor(e,t){this._texture=e,this.mapCoord=new i.Matrix,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof t>"u"?.5:t,this.isSimple=!1}get texture(){return this._texture}set texture(e){this._texture=e,this._textureID=-1}multiplyUvs(e,t){void 0===t&&(t=e);let r=this.mapCoord;for(let s=0;s<e.length;s+=2){let i=e[s],a=e[s+1];t[s]=i*r.a+a*r.c+r.tx,t[s+1]=i*r.b+a*r.d+r.ty}return t}update(e){let t=this._texture;if(!t||!t.valid||!e&&this._textureID===t._updateID)return!1;this._textureID=t._updateID,this._updateID++;let r=t._uvs;this.mapCoord.set(r.x1-r.x0,r.y1-r.y0,r.x3-r.x0,r.y3-r.y0,r.x0,r.y0);let s=t.orig,i=t.trim;i&&(a.set(s.width/i.width,0,0,s.height/i.height,-i.x/i.width,-i.y/i.height),this.mapCoord.append(a));let o=t.baseTexture,n=this.uClampFrame,l=this.clampMargin/o.resolution,h=this.clampOffset;return n[0]=(t._frame.x+l+h)/o.width,n[1]=(t._frame.y+l+h)/o.height,n[2]=(t._frame.x+t._frame.width-l+h)/o.width,n[3]=(t._frame.y+t._frame.height-l+h)/o.height,this.uClampOffset[0]=h/o.realWidth,this.uClampOffset[1]=h/o.realHeight,this.isSimple=t._frame.width===o.width&&t._frame.height===o.height&&0===t.rotate,!0}}},{"@pixi/math":"f1tY5","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"9ep5B":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"default",()=>i);var i=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`},{"@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"7VSq7":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"default",()=>i);var i=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`},{"@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],kf5d3:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"MaskData",()=>o);var i=e("@pixi/constants"),a=e("../filters/Filter.mjs");class o{constructor(e=null){this.type=i.MASK_TYPES.NONE,this.autoDetect=!0,this.maskObject=e||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=a.Filter.defaultMultisample,this.enabled=!0,this.colorMask=15,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._colorMask=15,this._target=null}get filter(){return this._filters?this._filters[0]:null}set filter(e){e?this._filters?this._filters[0]=e:this._filters=[e]:this._filters=null}reset(){this.pooled&&(this.maskObject=null,this.type=i.MASK_TYPES.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null}copyCountersOrReset(e){e?(this._stencilCounter=e._stencilCounter,this._scissorCounter=e._scissorCounter,this._scissorRect=e._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)}}},{"@pixi/constants":"68v8p","../filters/Filter.mjs":"2DnTX","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],eNVGF:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"ScissorSystem",()=>c);var i=e("@pixi/extensions"),a=e("@pixi/math"),o=e("@pixi/settings"),n=e("./AbstractMaskSystem.mjs");let l=new a.Matrix,h=[],u=class e extends n.AbstractMaskSystem{constructor(e){super(e),this.glConst=(0,o.settings).ADAPTER.getWebGLRenderingContext().SCISSOR_TEST}getStackLength(){let e=this.maskStack[this.maskStack.length-1];return e?e._scissorCounter:0}calcScissorRect(e){if(e._scissorRectLocal)return;let t=e._scissorRect,{maskObject:r}=e,{renderer:s}=this,i=s.renderTexture,o=r.getBounds(!0,h.pop()??new a.Rectangle);this.roundFrameToPixels(o,i.current?i.current.resolution:s.resolution,i.sourceFrame,i.destinationFrame,s.projection.transform),t&&o.fit(t),e._scissorRectLocal=o}static isMatrixRotated(e){if(!e)return!1;let{a:t,b:r,c:s,d:i}=e;return(Math.abs(r)>1e-4||Math.abs(s)>1e-4)&&(Math.abs(t)>1e-4||Math.abs(i)>1e-4)}testScissor(t){let{maskObject:r}=t;if(!r.isFastRect||!r.isFastRect()||e.isMatrixRotated(r.worldTransform)||e.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(t);let s=t._scissorRectLocal;return s.width>0&&s.height>0}roundFrameToPixels(t,r,s,i,a){e.isMatrixRotated(a)||((a=a?l.copyFrom(a):l.identity()).translate(-s.x,-s.y).scale(i.width/s.width,i.height/s.height).translate(i.x,i.y),this.renderer.filter.transformAABB(a,t),t.fit(i),t.x=Math.round(t.x*r),t.y=Math.round(t.y*r),t.width=Math.round(t.width*r),t.height=Math.round(t.height*r))}push(e){e._scissorRectLocal||this.calcScissorRect(e);let{gl:t}=this.renderer;e._scissorRect||t.enable(t.SCISSOR_TEST),e._scissorCounter++,e._scissorRect=e._scissorRectLocal,this._useCurrent()}pop(e){let{gl:t}=this.renderer;e&&h.push(e._scissorRectLocal),this.getStackLength()>0?this._useCurrent():t.disable(t.SCISSOR_TEST)}_useCurrent(){let e;let t=this.maskStack[this.maskStack.length-1]._scissorRect;e=this.renderer.renderTexture.current?t.y:this.renderer.height-t.height-t.y,this.renderer.gl.scissor(t.x,e,t.width,t.height)}};u.extension={type:i.ExtensionType.RendererSystem,name:"scissor"};let c=u;(0,i.extensions).add(c)},{"@pixi/extensions":"LXrqQ","@pixi/math":"f1tY5","@pixi/settings":"fYTIf","./AbstractMaskSystem.mjs":"8m5IL","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"8m5IL":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"AbstractMaskSystem",()=>i);class i{constructor(e){this.renderer=e,this.maskStack=[],this.glConst=0}getStackLength(){return this.maskStack.length}setMaskStack(e){let{gl:t}=this.renderer,r=this.getStackLength();this.maskStack=e;let s=this.getStackLength();s!==r&&(0===s?t.disable(this.glConst):(t.enable(this.glConst),this._useCurrent()))}_useCurrent(){}destroy(){this.renderer=null,this.maskStack=null}}},{"@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"4Wc7U":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"StencilSystem",()=>n);var i=e("@pixi/extensions"),a=e("@pixi/settings"),o=e("./AbstractMaskSystem.mjs");class n extends o.AbstractMaskSystem{constructor(e){super(e),this.glConst=(0,a.settings).ADAPTER.getWebGLRenderingContext().STENCIL_TEST}getStackLength(){let e=this.maskStack[this.maskStack.length-1];return e?e._stencilCounter:0}push(e){let t=e.maskObject,{gl:r}=this.renderer,s=e._stencilCounter;0===s&&(this.renderer.framebuffer.forceStencil(),r.clearStencil(0),r.clear(r.STENCIL_BUFFER_BIT),r.enable(r.STENCIL_TEST)),e._stencilCounter++;let i=e._colorMask;0!==i&&(e._colorMask=0,r.colorMask(!1,!1,!1,!1)),r.stencilFunc(r.EQUAL,s,4294967295),r.stencilOp(r.KEEP,r.KEEP,r.INCR),t.renderable=!0,t.render(this.renderer),this.renderer.batch.flush(),t.renderable=!1,0!==i&&(e._colorMask=i,r.colorMask((1&i)!=0,(2&i)!=0,(4&i)!=0,(8&i)!=0)),this._useCurrent()}pop(e){let t=this.renderer.gl;if(0===this.getStackLength())t.disable(t.STENCIL_TEST);else{let r=0!==this.maskStack.length?this.maskStack[this.maskStack.length-1]:null,s=r?r._colorMask:15;0!==s&&(r._colorMask=0,t.colorMask(!1,!1,!1,!1)),t.stencilOp(t.KEEP,t.KEEP,t.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,0!==s&&(r._colorMask=s,t.colorMask((1&s)!=0,(2&s)!=0,(4&s)!=0,(8&s)!=0)),this._useCurrent()}}_useCurrent(){let e=this.renderer.gl;e.stencilFunc(e.EQUAL,this.getStackLength(),4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)}}n.extension={type:i.ExtensionType.RendererSystem,name:"stencil"},(0,i.extensions).add(n)},{"@pixi/extensions":"LXrqQ","@pixi/settings":"fYTIf","./AbstractMaskSystem.mjs":"8m5IL","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],ekjzo:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"PluginSystem",()=>o);var i=e("@pixi/extensions"),a=e("@pixi/utils");class o{constructor(e){this.renderer=e,this.plugins={},Object.defineProperties(this.plugins,{extract:{enumerable:!1,get:()=>((0,a.deprecation)("7.0.0","renderer.plugins.extract has moved to renderer.extract"),e.extract)},prepare:{enumerable:!1,get:()=>((0,a.deprecation)("7.0.0","renderer.plugins.prepare has moved to renderer.prepare"),e.prepare)},interaction:{enumerable:!1,get:()=>((0,a.deprecation)("7.0.0","renderer.plugins.interaction has been deprecated, use renderer.events"),e.events)}})}init(){let e=this.rendererPlugins;for(let t in e)this.plugins[t]=new e[t](this.renderer)}destroy(){for(let e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null}}o.extension={type:[i.ExtensionType.RendererSystem,i.ExtensionType.CanvasRendererSystem],name:"_plugin"},(0,i.extensions).add(o)},{"@pixi/extensions":"LXrqQ","@pixi/utils":"4Acrm","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"3imZ0":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"ProjectionSystem",()=>o);var i=e("@pixi/extensions"),a=e("@pixi/math");class o{constructor(e){this.renderer=e,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new a.Matrix,this.transform=null}update(e,t,r,s){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=t||this.sourceFrame||e,this.calculateProjection(this.destinationFrame,this.sourceFrame,r,s),this.transform&&this.projectionMatrix.append(this.transform);let i=this.renderer;i.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,i.globalUniforms.update(),i.shader.shader&&i.shader.syncUniformGroup(i.shader.shader.uniforms.globals)}calculateProjection(e,t,r,s){let i=this.projectionMatrix,a=s?-1:1;i.identity(),i.a=1/t.width*2,i.d=1/t.height*2*a,i.tx=-1-t.x*i.a,i.ty=-a-t.y*i.d}setTransform(e){}destroy(){this.renderer=null}}o.extension={type:i.ExtensionType.RendererSystem,name:"projection"},(0,i.extensions).add(o)},{"@pixi/extensions":"LXrqQ","@pixi/math":"f1tY5","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],hdP8L:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"GenerateTextureSystem",()=>h);var i=e("@pixi/extensions"),a=e("@pixi/math"),o=e("./RenderTexture.mjs");let n=new a.Transform,l=new a.Rectangle;class h{constructor(e){this.renderer=e,this._tempMatrix=new a.Matrix}generateTexture(e,t){let{region:r,...s}=t||{},i=r?.copyTo(l)||e.getLocalBounds(l,!0),a=s.resolution||this.renderer.resolution;i.width=Math.max(i.width,1/a),i.height=Math.max(i.height,1/a),s.width=i.width,s.height=i.height,s.resolution=a,s.multisample??(s.multisample=this.renderer.multisample);let h=(0,o.RenderTexture).create(s);this._tempMatrix.tx=-i.x,this._tempMatrix.ty=-i.y;let u=e.transform;return e.transform=n,this.renderer.render(e,{renderTexture:h,transform:this._tempMatrix,skipUpdateTransform:!!e.parent,blit:!0}),e.transform=u,h}destroy(){}}h.extension={type:[i.ExtensionType.RendererSystem,i.ExtensionType.CanvasRendererSystem],name:"textureGenerator"},(0,i.extensions).add(h)},{"@pixi/extensions":"LXrqQ","@pixi/math":"f1tY5","./RenderTexture.mjs":"j7TyW","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],jdex6:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"RenderTextureSystem",()=>h);var i=e("@pixi/color"),a=e("@pixi/extensions"),o=e("@pixi/math");let n=new o.Rectangle,l=new o.Rectangle;class h{constructor(e){this.renderer=e,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new o.Rectangle,this.destinationFrame=new o.Rectangle,this.viewportFrame=new o.Rectangle}contextChange(){let e=this.renderer?.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(e&&e.alpha&&e.premultipliedAlpha)}bind(e=null,t,r){let s,i,a;let o=this.renderer;this.current=e,e?(a=(s=e.baseTexture).resolution,t||(n.width=e.frame.width,n.height=e.frame.height,t=n),r||(l.x=e.frame.x,l.y=e.frame.y,l.width=t.width,l.height=t.height,r=l),i=s.framebuffer):(a=o.resolution,t||(n.width=o._view.screen.width,n.height=o._view.screen.height,t=n),r||((r=n).width=t.width,r.height=t.height));let h=this.viewportFrame;h.x=r.x*a,h.y=r.y*a,h.width=r.width*a,h.height=r.height*a,e||(h.y=o.view.height-(h.y+h.height)),h.ceil(),this.renderer.framebuffer.bind(i,h),this.renderer.projection.update(r,t,a,!i),e?this.renderer.mask.setMaskStack(s.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(t),this.destinationFrame.copyFrom(r)}clear(e,t){let r=this.current?this.current.baseTexture.clear:this.renderer.background.backgroundColor,s=(0,i.Color).shared.setValue(e||r);(this.current&&this.current.baseTexture.alphaMode>0||!this.current&&this._rendererPremultipliedAlpha)&&s.premultiply(s.alpha);let a=this.destinationFrame,o=this.current?this.current.baseTexture:this.renderer._view.screen,n=a.width!==o.width||a.height!==o.height;if(n){let{x:e,y:t,width:r,height:s}=this.viewportFrame;e=Math.round(e),t=Math.round(t),r=Math.round(r),s=Math.round(s),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(e,t,r,s)}this.renderer.framebuffer.clear(s.red,s.green,s.blue,s.alpha,t),n&&this.renderer.scissor.pop()}resize(){this.bind(null)}reset(){this.bind(null)}destroy(){this.renderer=null}}h.extension={type:a.ExtensionType.RendererSystem,name:"renderTexture"},(0,a.extensions).add(h)},{"@pixi/color":"6G5hv","@pixi/extensions":"LXrqQ","@pixi/math":"f1tY5","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],f9E5F:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"ShaderSystem",()=>c);var i=e("@pixi/extensions");e("./utils/index.mjs");var a=e("./utils/generateProgram.mjs"),o=e("./utils/generateUniformBufferSync.mjs"),n=e("./utils/unsafeEvalSupported.mjs"),l=e("./utils/generateUniformsSync.mjs");let h=0,u={textureCount:0,uboCount:0};class c{constructor(e){this.destroyed=!1,this.renderer=e,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=h++}systemCheck(){if(!(0,n.unsafeEvalSupported)())throw Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")}contextChange(e){this.gl=e,this.reset()}bind(e,t){e.disposeRunner.add(this),e.uniforms.globals=this.renderer.globalUniforms;let r=e.program,s=r.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(e);return this.shader=e,this.program!==r&&(this.program=r,this.gl.useProgram(s.program)),t||(u.textureCount=0,u.uboCount=0,this.syncUniformGroup(e.uniformGroup,u)),s}setUniforms(e){let t=this.shader.program,r=t.glPrograms[this.renderer.CONTEXT_UID];t.syncUniforms(r.uniformData,e,this.renderer)}syncUniformGroup(e,t){let r=this.getGlProgram();e.static&&e.dirtyId===r.uniformDirtyGroups[e.id]||(r.uniformDirtyGroups[e.id]=e.dirtyId,this.syncUniforms(e,r,t))}syncUniforms(e,t,r){(e.syncUniforms[this.shader.program.id]||this.createSyncGroups(e))(t.uniformData,e.uniforms,this.renderer,r)}createSyncGroups(e){let t=this.getSignature(e,this.shader.program.uniformData,"u");return this.cache[t]||(this.cache[t]=(0,l.generateUniformsSync)(e,this.shader.program.uniformData)),e.syncUniforms[this.shader.program.id]=this.cache[t],e.syncUniforms[this.shader.program.id]}syncUniformBufferGroup(e,t){let r=this.getGlProgram();if(!e.static||0!==e.dirtyId||!r.uniformGroups[e.id]){e.dirtyId=0;let s=r.uniformGroups[e.id]||this.createSyncBufferGroup(e,r,t);e.buffer.update(),s(r.uniformData,e.uniforms,this.renderer,u,e.buffer)}this.renderer.buffer.bindBufferBase(e.buffer,r.uniformBufferBindings[t])}createSyncBufferGroup(e,t,r){let{gl:s}=this.renderer;this.renderer.buffer.bind(e.buffer);let i=this.gl.getUniformBlockIndex(t.program,r);t.uniformBufferBindings[r]=this.shader.uniformBindCount,s.uniformBlockBinding(t.program,i,this.shader.uniformBindCount),this.shader.uniformBindCount++;let a=this.getSignature(e,this.shader.program.uniformData,"ubo"),n=this._uboCache[a];if(n||(n=this._uboCache[a]=(0,o.generateUniformBufferSync)(e,this.shader.program.uniformData)),e.autoManage){let t=new Float32Array(n.size/4);e.buffer.update(t)}return t.uniformGroups[e.id]=n.syncFunc,t.uniformGroups[e.id]}getSignature(e,t,r){let s=e.uniforms,i=[`${r}-`];for(let e in s)i.push(e),t[e]&&i.push(t[e].type);return i.join("-")}getGlProgram(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null}generateProgram(e){let t=this.gl,r=e.program,s=(0,a.generateProgram)(t,r);return r.glPrograms[this.renderer.CONTEXT_UID]=s,s}reset(){this.program=null,this.shader=null}disposeShader(e){this.shader===e&&(this.shader=null)}destroy(){this.renderer=null,this.destroyed=!0}}c.extension={type:i.ExtensionType.RendererSystem,name:"shader"},(0,i.extensions).add(c)},{"@pixi/extensions":"LXrqQ","./utils/index.mjs":"gKb4h","./utils/generateProgram.mjs":"9w6GI","./utils/generateUniformBufferSync.mjs":"hV86X","./utils/unsafeEvalSupported.mjs":"gPTrP","./utils/generateUniformsSync.mjs":"gdzrT","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"9w6GI":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"generateProgram",()=>u);var i=e("../GLProgram.mjs"),a=e("./compileShader.mjs"),o=e("./defaultValue.mjs"),n=e("./getAttributeData.mjs"),l=e("./getUniformData.mjs"),h=e("./logProgramError.mjs");function u(e,t){let r=(0,a.compileShader)(e,e.VERTEX_SHADER,t.vertexSrc),s=(0,a.compileShader)(e,e.FRAGMENT_SHADER,t.fragmentSrc),u=e.createProgram();e.attachShader(u,r),e.attachShader(u,s);let c=t.extra?.transformFeedbackVaryings;if(c&&("function"!=typeof e.transformFeedbackVaryings?console.warn("TransformFeedback is not supported but TransformFeedbackVaryings are given."):e.transformFeedbackVaryings(u,c.names,"separate"===c.bufferMode?e.SEPARATE_ATTRIBS:e.INTERLEAVED_ATTRIBS)),e.linkProgram(u),e.getProgramParameter(u,e.LINK_STATUS)||(0,h.logProgramError)(e,u,r,s),t.attributeData=(0,n.getAttributeData)(u,e),t.uniformData=(0,l.getUniformData)(u,e),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(t.vertexSrc)){let r=Object.keys(t.attributeData);r.sort((e,t)=>e>t?1:-1);for(let s=0;s<r.length;s++)t.attributeData[r[s]].location=s,e.bindAttribLocation(u,s,r[s]);e.linkProgram(u)}e.deleteShader(r),e.deleteShader(s);let d={};for(let r in t.uniformData){let s=t.uniformData[r];d[r]={location:e.getUniformLocation(u,r),value:(0,o.defaultValue)(s.type,s.size)}}return new i.GLProgram(u,d)}},{"../GLProgram.mjs":"1680g","./compileShader.mjs":"a8An4","./defaultValue.mjs":"l6LAG","./getAttributeData.mjs":"irYrE","./getUniformData.mjs":"5JQTb","./logProgramError.mjs":"awq03","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"1680g":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"GLProgram",()=>a),s.export(r,"IGLUniformData",()=>i);class i{}class a{constructor(e,t){this.program=e,this.uniformData=t,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}destroy(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null}}},{"@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],irYrE:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"getAttributeData",()=>o);var i=e("./mapSize.mjs"),a=e("./mapType.mjs");function o(e,t){let r={},s=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let o=0;o<s;o++){let s=t.getActiveAttrib(e,o);if(s.name.startsWith("gl_"))continue;let n=(0,a.mapType)(t,s.type),l={type:n,name:s.name,size:(0,i.mapSize)(n),location:t.getAttribLocation(e,s.name)};r[s.name]=l}return r}},{"./mapSize.mjs":"9e3ZU","./mapType.mjs":"hohwK","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"5JQTb":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"getUniformData",()=>o);var i=e("./defaultValue.mjs"),a=e("./mapType.mjs");function o(e,t){let r={},s=t.getProgramParameter(e,t.ACTIVE_UNIFORMS);for(let o=0;o<s;o++){let s=t.getActiveUniform(e,o),n=s.name.replace(/\[.*?\]$/,""),l=!!s.name.match(/\[.*?\]$/),h=(0,a.mapType)(t,s.type);r[n]={name:n,index:o,type:h,size:s.size,isArray:l,value:(0,i.defaultValue)(h,s.size)}}return r}},{"./defaultValue.mjs":"l6LAG","./mapType.mjs":"hohwK","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],hV86X:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"createUBOElements",()=>h),s.export(r,"generateUniformBufferSync",()=>c),s.export(r,"getUBOData",()=>u),e("./index.mjs");var i=e("./uniformParsers.mjs"),a=e("./mapSize.mjs");function o(e,t,r,s,i){r.buffer.update(i)}let n={float:`
        data[offset] = v;
    `,vec2:`
        data[offset] = v[0];
        data[offset+1] = v[1];
    `,vec3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

    `,vec4:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];
        data[offset+3] = v[3];
    `,mat2:`
        data[offset] = v[0];
        data[offset+1] = v[1];

        data[offset+4] = v[2];
        data[offset+5] = v[3];
    `,mat3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];

        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];
    `,mat4:`
        for(var i = 0; i < 16; i++)
        {
            data[offset + i] = v[i];
        }
    `},l={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:32,mat3:48,mat4:64};function h(e){let t=e.map(e=>({data:e,offset:0,dataLen:0,dirty:0})),r=0,s=0,i=0;for(let e=0;e<t.length;e++){let a=t[e];if(r=l[a.data.type],a.data.size>1&&(r=Math.max(r,16)*a.data.size),a.dataLen=r,s%r!=0&&s<16){let e=s%r%16;s+=e,i+=e}s+r>16?(i=16*Math.ceil(i/16),a.offset=i,i+=r,s=r):(a.offset=i,s+=r,i+=r)}return{uboElements:t,size:i=16*Math.ceil(i/16)}}function u(e,t){let r=[];for(let s in e)t[s]&&r.push(t[s]);return r.sort((e,t)=>e.index-t.index),r}function c(e,t){if(!e.autoManage)return{size:0,syncFunc:o};let{uboElements:r,size:s}=h(u(e.uniforms,t)),c=[`
    var v = null;
    var v2 = null;
    var cv = null;
    var t = 0;
    var gl = renderer.gl
    var index = 0;
    var data = buffer.data;
    `];for(let t=0;t<r.length;t++){let s=r[t],o=e.uniforms[s.data.name],h=s.data.name,u=!1;for(let e=0;e<i.uniformParsers.length;e++){let t=i.uniformParsers[e];if(t.codeUbo&&t.test(s.data,o)){c.push(`offset = ${s.offset/4};`,(0,i.uniformParsers)[e].codeUbo(s.data.name,o)),u=!0;break}}if(!u){if(s.data.size>1){let e=(0,a.mapSize)(s.data.type),t=Math.max(l[s.data.type]/16,1),r=e/t,i=(4-r%4)%4;c.push(`
                cv = ud.${h}.value;
                v = uv.${h};
                offset = ${s.offset/4};

                t = 0;

                for(var i=0; i < ${s.data.size*t}; i++)
                {
                    for(var j = 0; j < ${r}; j++)
                    {
                        data[offset++] = v[t++];
                    }
                    offset += ${i};
                }

                `)}else{let e=n[s.data.type];c.push(`
                cv = ud.${h}.value;
                v = uv.${h};
                offset = ${s.offset/4};
                ${e};
                `)}}}return c.push(`
       renderer.buffer.update(buffer);
    `),{size:s,syncFunc:Function("ud","uv","renderer","syncData","buffer",c.join(`
`))}}},{"./index.mjs":"gKb4h","./uniformParsers.mjs":"dObHK","./mapSize.mjs":"9e3ZU","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"1h92k":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"StartupSystem",()=>a);var i=e("@pixi/extensions");class a{constructor(e){this.renderer=e}run(e){let{renderer:t}=this;t.runners.init.emit(t.options),e.hello&&console.log(`PixiJS 7.4.0 - ${t.rendererLogId} - https://pixijs.com`),t.resize(t.screen.width,t.screen.height)}destroy(){}}a.defaultOptions={hello:!1},a.extension={type:[i.ExtensionType.RendererSystem,i.ExtensionType.CanvasRendererSystem],name:"startup"},(0,i.extensions).add(a)},{"@pixi/extensions":"LXrqQ","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"6Veb1":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"StateSystem",()=>h);var i=e("@pixi/constants"),a=e("@pixi/extensions"),o=e("./State.mjs"),n=e("./utils/mapWebGLBlendModesToPixi.mjs");let l=class e{constructor(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=i.BLEND_MODES.NONE,this._blendEq=!1,this.map=[],this.map[0]=this.setBlend,this.map[1]=this.setOffset,this.map[2]=this.setCullFace,this.map[3]=this.setDepthTest,this.map[4]=this.setFrontFace,this.map[5]=this.setDepthMask,this.checks=[],this.defaultState=new o.State,this.defaultState.blend=!0}contextChange(e){this.gl=e,this.blendModes=(0,n.mapWebGLBlendModesToPixi)(e),this.set(this.defaultState),this.reset()}set(e){if(e=e||this.defaultState,this.stateId!==e.data){let t=this.stateId^e.data,r=0;for(;t;)1&t&&this.map[r].call(this,!!(e.data&1<<r)),t>>=1,r++;this.stateId=e.data}for(let t=0;t<this.checks.length;t++)this.checks[t](this,e)}forceState(e){e=e||this.defaultState;for(let t=0;t<this.map.length;t++)this.map[t].call(this,!!(e.data&1<<t));for(let t=0;t<this.checks.length;t++)this.checks[t](this,e);this.stateId=e.data}setBlend(t){this.updateCheck(e.checkBlendMode,t),this.gl[t?"enable":"disable"](this.gl.BLEND)}setOffset(t){this.updateCheck(e.checkPolygonOffset,t),this.gl[t?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)}setDepthTest(e){this.gl[e?"enable":"disable"](this.gl.DEPTH_TEST)}setDepthMask(e){this.gl.depthMask(e)}setCullFace(e){this.gl[e?"enable":"disable"](this.gl.CULL_FACE)}setFrontFace(e){this.gl.frontFace(this.gl[e?"CW":"CCW"])}setBlendMode(e){if(e===this.blendMode)return;this.blendMode=e;let t=this.blendModes[e],r=this.gl;2===t.length?r.blendFunc(t[0],t[1]):r.blendFuncSeparate(t[0],t[1],t[2],t[3]),6===t.length?(this._blendEq=!0,r.blendEquationSeparate(t[4],t[5])):this._blendEq&&(this._blendEq=!1,r.blendEquationSeparate(r.FUNC_ADD,r.FUNC_ADD))}setPolygonOffset(e,t){this.gl.polygonOffset(e,t)}reset(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)}updateCheck(e,t){let r=this.checks.indexOf(e);t&&-1===r?this.checks.push(e):t||-1===r||this.checks.splice(r,1)}static checkBlendMode(e,t){e.setBlendMode(t.blendMode)}static checkPolygonOffset(e,t){e.setPolygonOffset(1,t.polygonOffset)}destroy(){this.gl=null}};l.extension={type:a.ExtensionType.RendererSystem,name:"state"};let h=l;(0,a.extensions).add(h)},{"@pixi/constants":"68v8p","@pixi/extensions":"LXrqQ","./State.mjs":"8tAVV","./utils/mapWebGLBlendModesToPixi.mjs":"lcUAX","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],lcUAX:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"mapWebGLBlendModesToPixi",()=>a);var i=e("@pixi/constants");function a(e,t=[]){return t[i.BLEND_MODES.NORMAL]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[i.BLEND_MODES.ADD]=[e.ONE,e.ONE],t[i.BLEND_MODES.MULTIPLY]=[e.DST_COLOR,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[i.BLEND_MODES.SCREEN]=[e.ONE,e.ONE_MINUS_SRC_COLOR,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[i.BLEND_MODES.OVERLAY]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[i.BLEND_MODES.DARKEN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[i.BLEND_MODES.LIGHTEN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[i.BLEND_MODES.COLOR_DODGE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[i.BLEND_MODES.COLOR_BURN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[i.BLEND_MODES.HARD_LIGHT]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[i.BLEND_MODES.SOFT_LIGHT]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[i.BLEND_MODES.DIFFERENCE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[i.BLEND_MODES.EXCLUSION]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[i.BLEND_MODES.HUE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[i.BLEND_MODES.SATURATION]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[i.BLEND_MODES.COLOR]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[i.BLEND_MODES.LUMINOSITY]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[i.BLEND_MODES.NONE]=[0,0],t[i.BLEND_MODES.NORMAL_NPM]=[e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[i.BLEND_MODES.ADD_NPM]=[e.SRC_ALPHA,e.ONE,e.ONE,e.ONE],t[i.BLEND_MODES.SCREEN_NPM]=[e.SRC_ALPHA,e.ONE_MINUS_SRC_COLOR,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[i.BLEND_MODES.SRC_IN]=[e.DST_ALPHA,e.ZERO],t[i.BLEND_MODES.SRC_OUT]=[e.ONE_MINUS_DST_ALPHA,e.ZERO],t[i.BLEND_MODES.SRC_ATOP]=[e.DST_ALPHA,e.ONE_MINUS_SRC_ALPHA],t[i.BLEND_MODES.DST_OVER]=[e.ONE_MINUS_DST_ALPHA,e.ONE],t[i.BLEND_MODES.DST_IN]=[e.ZERO,e.SRC_ALPHA],t[i.BLEND_MODES.DST_OUT]=[e.ZERO,e.ONE_MINUS_SRC_ALPHA],t[i.BLEND_MODES.DST_ATOP]=[e.ONE_MINUS_DST_ALPHA,e.SRC_ALPHA],t[i.BLEND_MODES.XOR]=[e.ONE_MINUS_DST_ALPHA,e.ONE_MINUS_SRC_ALPHA],t[i.BLEND_MODES.SUBTRACT]=[e.ONE,e.ONE,e.ONE,e.ONE,e.FUNC_REVERSE_SUBTRACT,e.FUNC_ADD],t}},{"@pixi/constants":"68v8p","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],aX9hv:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"SystemManager",()=>o);var i=e("@pixi/runner"),a=e("@pixi/utils");class o extends a.EventEmitter{constructor(){super(...arguments),this.runners={},this._systemsHash={}}setup(e){this.addRunners(...e.runners);let t=(e.priority??[]).filter(t=>e.systems[t]);for(let r of[...t,...Object.keys(e.systems).filter(e=>!t.includes(e))])this.addSystem(e.systems[r],r)}addRunners(...e){e.forEach(e=>{this.runners[e]=new i.Runner(e)})}addSystem(e,t){let r=new e(this);if(this[t])throw Error(`Whoops! The name "${t}" is already in use`);for(let e in this[t]=r,this._systemsHash[t]=r,this.runners)this.runners[e].add(r);return this}emitWithCustomOptions(e,t){let r=Object.keys(this._systemsHash);e.items.forEach(s=>{let i=r.find(e=>this._systemsHash[e]===s);s[e.name](t[i])})}destroy(){Object.values(this.runners).forEach(e=>{e.destroy()}),this._systemsHash={}}}},{"@pixi/runner":"rXCrp","@pixi/utils":"4Acrm","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"1EzcD":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"TextureGCSystem",()=>n);var i=e("@pixi/constants"),a=e("@pixi/extensions");let o=class e{constructor(t){this.renderer=t,this.count=0,this.checkCount=0,this.maxIdle=e.defaultMaxIdle,this.checkCountMax=e.defaultCheckCountMax,this.mode=e.defaultMode}postrender(){this.renderer.objectRenderer.renderingToScreen&&(this.count++,this.mode!==i.GC_MODES.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))}run(){let e=this.renderer.texture,t=e.managedTextures,r=!1;for(let s=0;s<t.length;s++){let i=t[s];i.resource&&this.count-i.touched>this.maxIdle&&(e.destroyTexture(i,!0),t[s]=null,r=!0)}if(r){let e=0;for(let r=0;r<t.length;r++)null!==t[r]&&(t[e++]=t[r]);t.length=e}}unload(e){let t=this.renderer.texture,r=e._texture;r&&!r.framebuffer&&t.destroyTexture(r);for(let t=e.children.length-1;t>=0;t--)this.unload(e.children[t])}destroy(){this.renderer=null}};o.defaultMode=i.GC_MODES.AUTO,o.defaultMaxIdle=3600,o.defaultCheckCountMax=600,o.extension={type:a.ExtensionType.RendererSystem,name:"textureGC"};let n=o;(0,a.extensions).add(n)},{"@pixi/constants":"68v8p","@pixi/extensions":"LXrqQ","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],d2zdQ:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"TextureSystem",()=>c);var i=e("@pixi/constants"),a=e("@pixi/extensions"),o=e("@pixi/utils"),n=e("./BaseTexture.mjs"),l=e("./GLTexture.mjs"),h=e("./utils/mapInternalFormatToSamplerType.mjs"),u=e("./utils/mapTypeAndFormatToInternalFormat.mjs");class c{constructor(e){this.renderer=e,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new n.BaseTexture,this.hasIntegerTextures=!1}contextChange(){let e=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=(0,u.mapTypeAndFormatToInternalFormat)(e),this.samplerTypes=(0,h.mapInternalFormatToSamplerType)(e);let t=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=t;for(let e=0;e<t;e++)this.boundTextures[e]=null;this.emptyTextures={};let r=new l.GLTexture(e.createTexture());e.bindTexture(e.TEXTURE_2D,r.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[e.TEXTURE_2D]=r,this.emptyTextures[e.TEXTURE_CUBE_MAP]=new l.GLTexture(e.createTexture()),e.bindTexture(e.TEXTURE_CUBE_MAP,this.emptyTextures[e.TEXTURE_CUBE_MAP].texture);for(let t=0;t<6;t++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR);for(let e=0;e<this.boundTextures.length;e++)this.bind(null,e)}bind(e,t=0){let{gl:r}=this;if(e=e?.castToBaseTexture(),e?.valid&&!e.parentTextureArray){e.touched=this.renderer.textureGC.count;let s=e._glTextures[this.CONTEXT_UID]||this.initTexture(e);this.boundTextures[t]!==e&&(this.currentLocation!==t&&(this.currentLocation=t,r.activeTexture(r.TEXTURE0+t)),r.bindTexture(e.target,s.texture)),s.dirtyId!==e.dirtyId?(this.currentLocation!==t&&(this.currentLocation=t,r.activeTexture(r.TEXTURE0+t)),this.updateTexture(e)):s.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(e),this.boundTextures[t]=e}else this.currentLocation!==t&&(this.currentLocation=t,r.activeTexture(r.TEXTURE0+t)),r.bindTexture(r.TEXTURE_2D,this.emptyTextures[r.TEXTURE_2D].texture),this.boundTextures[t]=null}reset(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(let e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.unknownTexture}unbind(e){let{gl:t,boundTextures:r}=this;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(let e=0;e<r.length;e++)r[e]===this.unknownTexture&&this.bind(null,e)}for(let s=0;s<r.length;s++)r[s]===e&&(this.currentLocation!==s&&(t.activeTexture(t.TEXTURE0+s),this.currentLocation=s),t.bindTexture(e.target,this.emptyTextures[e.target].texture),r[s]=null)}ensureSamplerType(e){let{boundTextures:t,hasIntegerTextures:r,CONTEXT_UID:s}=this;if(r)for(let r=e-1;r>=0;--r){let e=t[r];e&&e._glTextures[s].samplerType!==i.SAMPLER_TYPES.FLOAT&&this.renderer.texture.unbind(e)}}initTexture(e){let t=new l.GLTexture(this.gl.createTexture());return t.dirtyId=-1,e._glTextures[this.CONTEXT_UID]=t,this.managedTextures.push(e),e.on("dispose",this.destroyTexture,this),t}initTextureType(e,t){t.internalFormat=this.internalFormats[e.type]?.[e.format]??e.format,t.samplerType=this.samplerTypes[t.internalFormat]??i.SAMPLER_TYPES.FLOAT,2===this.webGLVersion&&e.type===i.TYPES.HALF_FLOAT?t.type=this.gl.HALF_FLOAT:t.type=e.type}updateTexture(e){let t=e._glTextures[this.CONTEXT_UID];if(!t)return;let r=this.renderer;if(this.initTextureType(e,t),e.resource?.upload(r,e,t))t.samplerType!==i.SAMPLER_TYPES.FLOAT&&(this.hasIntegerTextures=!0);else{let s=e.realWidth,i=e.realHeight,a=r.gl;(t.width!==s||t.height!==i||t.dirtyId<0)&&(t.width=s,t.height=i,a.texImage2D(e.target,0,t.internalFormat,s,i,0,e.format,t.type,null))}e.dirtyStyleId!==t.dirtyStyleId&&this.updateTextureStyle(e),t.dirtyId=e.dirtyId}destroyTexture(e,t){let{gl:r}=this;if((e=e.castToBaseTexture())._glTextures[this.CONTEXT_UID]&&(this.unbind(e),r.deleteTexture(e._glTextures[this.CONTEXT_UID].texture),e.off("dispose",this.destroyTexture,this),delete e._glTextures[this.CONTEXT_UID],!t)){let t=this.managedTextures.indexOf(e);-1!==t&&(0,o.removeItems)(this.managedTextures,t,1)}}updateTextureStyle(e){let t=e._glTextures[this.CONTEXT_UID];t&&(e.mipmap!==i.MIPMAP_MODES.POW2&&2===this.webGLVersion||e.isPowerOfTwo?t.mipmap=e.mipmap>=1:t.mipmap=!1,2===this.webGLVersion||e.isPowerOfTwo?t.wrapMode=e.wrapMode:t.wrapMode=i.WRAP_MODES.CLAMP,e.resource?.style(this.renderer,e,t)||this.setStyle(e,t),t.dirtyStyleId=e.dirtyStyleId)}setStyle(e,t){let r=this.gl;if(t.mipmap&&e.mipmap!==i.MIPMAP_MODES.ON_MANUAL&&r.generateMipmap(e.target),r.texParameteri(e.target,r.TEXTURE_WRAP_S,t.wrapMode),r.texParameteri(e.target,r.TEXTURE_WRAP_T,t.wrapMode),t.mipmap){r.texParameteri(e.target,r.TEXTURE_MIN_FILTER,e.scaleMode===i.SCALE_MODES.LINEAR?r.LINEAR_MIPMAP_LINEAR:r.NEAREST_MIPMAP_NEAREST);let t=this.renderer.context.extensions.anisotropicFiltering;if(t&&e.anisotropicLevel>0&&e.scaleMode===i.SCALE_MODES.LINEAR){let s=Math.min(e.anisotropicLevel,r.getParameter(t.MAX_TEXTURE_MAX_ANISOTROPY_EXT));r.texParameterf(e.target,t.TEXTURE_MAX_ANISOTROPY_EXT,s)}}else r.texParameteri(e.target,r.TEXTURE_MIN_FILTER,e.scaleMode===i.SCALE_MODES.LINEAR?r.LINEAR:r.NEAREST);r.texParameteri(e.target,r.TEXTURE_MAG_FILTER,e.scaleMode===i.SCALE_MODES.LINEAR?r.LINEAR:r.NEAREST)}destroy(){this.renderer=null}}c.extension={type:a.ExtensionType.RendererSystem,name:"texture"},(0,a.extensions).add(c)},{"@pixi/constants":"68v8p","@pixi/extensions":"LXrqQ","@pixi/utils":"4Acrm","./BaseTexture.mjs":"gFSHz","./GLTexture.mjs":"5UJOZ","./utils/mapInternalFormatToSamplerType.mjs":"iHgsx","./utils/mapTypeAndFormatToInternalFormat.mjs":"e6XfH","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"5UJOZ":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"GLTexture",()=>a);var i=e("@pixi/constants");class a{constructor(e){this.texture=e,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=i.TYPES.UNSIGNED_BYTE,this.internalFormat=i.FORMATS.RGBA,this.samplerType=0}}},{"@pixi/constants":"68v8p","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],iHgsx:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"mapInternalFormatToSamplerType",()=>a);var i=e("@pixi/constants");function a(e){return"WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext?{[e.RGB]:i.SAMPLER_TYPES.FLOAT,[e.RGBA]:i.SAMPLER_TYPES.FLOAT,[e.ALPHA]:i.SAMPLER_TYPES.FLOAT,[e.LUMINANCE]:i.SAMPLER_TYPES.FLOAT,[e.LUMINANCE_ALPHA]:i.SAMPLER_TYPES.FLOAT,[e.R8]:i.SAMPLER_TYPES.FLOAT,[e.R8_SNORM]:i.SAMPLER_TYPES.FLOAT,[e.RG8]:i.SAMPLER_TYPES.FLOAT,[e.RG8_SNORM]:i.SAMPLER_TYPES.FLOAT,[e.RGB8]:i.SAMPLER_TYPES.FLOAT,[e.RGB8_SNORM]:i.SAMPLER_TYPES.FLOAT,[e.RGB565]:i.SAMPLER_TYPES.FLOAT,[e.RGBA4]:i.SAMPLER_TYPES.FLOAT,[e.RGB5_A1]:i.SAMPLER_TYPES.FLOAT,[e.RGBA8]:i.SAMPLER_TYPES.FLOAT,[e.RGBA8_SNORM]:i.SAMPLER_TYPES.FLOAT,[e.RGB10_A2]:i.SAMPLER_TYPES.FLOAT,[e.RGB10_A2UI]:i.SAMPLER_TYPES.FLOAT,[e.SRGB8]:i.SAMPLER_TYPES.FLOAT,[e.SRGB8_ALPHA8]:i.SAMPLER_TYPES.FLOAT,[e.R16F]:i.SAMPLER_TYPES.FLOAT,[e.RG16F]:i.SAMPLER_TYPES.FLOAT,[e.RGB16F]:i.SAMPLER_TYPES.FLOAT,[e.RGBA16F]:i.SAMPLER_TYPES.FLOAT,[e.R32F]:i.SAMPLER_TYPES.FLOAT,[e.RG32F]:i.SAMPLER_TYPES.FLOAT,[e.RGB32F]:i.SAMPLER_TYPES.FLOAT,[e.RGBA32F]:i.SAMPLER_TYPES.FLOAT,[e.R11F_G11F_B10F]:i.SAMPLER_TYPES.FLOAT,[e.RGB9_E5]:i.SAMPLER_TYPES.FLOAT,[e.R8I]:i.SAMPLER_TYPES.INT,[e.R8UI]:i.SAMPLER_TYPES.UINT,[e.R16I]:i.SAMPLER_TYPES.INT,[e.R16UI]:i.SAMPLER_TYPES.UINT,[e.R32I]:i.SAMPLER_TYPES.INT,[e.R32UI]:i.SAMPLER_TYPES.UINT,[e.RG8I]:i.SAMPLER_TYPES.INT,[e.RG8UI]:i.SAMPLER_TYPES.UINT,[e.RG16I]:i.SAMPLER_TYPES.INT,[e.RG16UI]:i.SAMPLER_TYPES.UINT,[e.RG32I]:i.SAMPLER_TYPES.INT,[e.RG32UI]:i.SAMPLER_TYPES.UINT,[e.RGB8I]:i.SAMPLER_TYPES.INT,[e.RGB8UI]:i.SAMPLER_TYPES.UINT,[e.RGB16I]:i.SAMPLER_TYPES.INT,[e.RGB16UI]:i.SAMPLER_TYPES.UINT,[e.RGB32I]:i.SAMPLER_TYPES.INT,[e.RGB32UI]:i.SAMPLER_TYPES.UINT,[e.RGBA8I]:i.SAMPLER_TYPES.INT,[e.RGBA8UI]:i.SAMPLER_TYPES.UINT,[e.RGBA16I]:i.SAMPLER_TYPES.INT,[e.RGBA16UI]:i.SAMPLER_TYPES.UINT,[e.RGBA32I]:i.SAMPLER_TYPES.INT,[e.RGBA32UI]:i.SAMPLER_TYPES.UINT,[e.DEPTH_COMPONENT16]:i.SAMPLER_TYPES.FLOAT,[e.DEPTH_COMPONENT24]:i.SAMPLER_TYPES.FLOAT,[e.DEPTH_COMPONENT32F]:i.SAMPLER_TYPES.FLOAT,[e.DEPTH_STENCIL]:i.SAMPLER_TYPES.FLOAT,[e.DEPTH24_STENCIL8]:i.SAMPLER_TYPES.FLOAT,[e.DEPTH32F_STENCIL8]:i.SAMPLER_TYPES.FLOAT}:{[e.RGB]:i.SAMPLER_TYPES.FLOAT,[e.RGBA]:i.SAMPLER_TYPES.FLOAT,[e.ALPHA]:i.SAMPLER_TYPES.FLOAT,[e.LUMINANCE]:i.SAMPLER_TYPES.FLOAT,[e.LUMINANCE_ALPHA]:i.SAMPLER_TYPES.FLOAT,[e.DEPTH_STENCIL]:i.SAMPLER_TYPES.FLOAT}}},{"@pixi/constants":"68v8p","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],e6XfH:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"mapTypeAndFormatToInternalFormat",()=>a);var i=e("@pixi/constants");function a(e){return"WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext?{[i.TYPES.UNSIGNED_BYTE]:{[i.FORMATS.RGBA]:e.RGBA8,[i.FORMATS.RGB]:e.RGB8,[i.FORMATS.RG]:e.RG8,[i.FORMATS.RED]:e.R8,[i.FORMATS.RGBA_INTEGER]:e.RGBA8UI,[i.FORMATS.RGB_INTEGER]:e.RGB8UI,[i.FORMATS.RG_INTEGER]:e.RG8UI,[i.FORMATS.RED_INTEGER]:e.R8UI,[i.FORMATS.ALPHA]:e.ALPHA,[i.FORMATS.LUMINANCE]:e.LUMINANCE,[i.FORMATS.LUMINANCE_ALPHA]:e.LUMINANCE_ALPHA},[i.TYPES.BYTE]:{[i.FORMATS.RGBA]:e.RGBA8_SNORM,[i.FORMATS.RGB]:e.RGB8_SNORM,[i.FORMATS.RG]:e.RG8_SNORM,[i.FORMATS.RED]:e.R8_SNORM,[i.FORMATS.RGBA_INTEGER]:e.RGBA8I,[i.FORMATS.RGB_INTEGER]:e.RGB8I,[i.FORMATS.RG_INTEGER]:e.RG8I,[i.FORMATS.RED_INTEGER]:e.R8I},[i.TYPES.UNSIGNED_SHORT]:{[i.FORMATS.RGBA_INTEGER]:e.RGBA16UI,[i.FORMATS.RGB_INTEGER]:e.RGB16UI,[i.FORMATS.RG_INTEGER]:e.RG16UI,[i.FORMATS.RED_INTEGER]:e.R16UI,[i.FORMATS.DEPTH_COMPONENT]:e.DEPTH_COMPONENT16},[i.TYPES.SHORT]:{[i.FORMATS.RGBA_INTEGER]:e.RGBA16I,[i.FORMATS.RGB_INTEGER]:e.RGB16I,[i.FORMATS.RG_INTEGER]:e.RG16I,[i.FORMATS.RED_INTEGER]:e.R16I},[i.TYPES.UNSIGNED_INT]:{[i.FORMATS.RGBA_INTEGER]:e.RGBA32UI,[i.FORMATS.RGB_INTEGER]:e.RGB32UI,[i.FORMATS.RG_INTEGER]:e.RG32UI,[i.FORMATS.RED_INTEGER]:e.R32UI,[i.FORMATS.DEPTH_COMPONENT]:e.DEPTH_COMPONENT24},[i.TYPES.INT]:{[i.FORMATS.RGBA_INTEGER]:e.RGBA32I,[i.FORMATS.RGB_INTEGER]:e.RGB32I,[i.FORMATS.RG_INTEGER]:e.RG32I,[i.FORMATS.RED_INTEGER]:e.R32I},[i.TYPES.FLOAT]:{[i.FORMATS.RGBA]:e.RGBA32F,[i.FORMATS.RGB]:e.RGB32F,[i.FORMATS.RG]:e.RG32F,[i.FORMATS.RED]:e.R32F,[i.FORMATS.DEPTH_COMPONENT]:e.DEPTH_COMPONENT32F},[i.TYPES.HALF_FLOAT]:{[i.FORMATS.RGBA]:e.RGBA16F,[i.FORMATS.RGB]:e.RGB16F,[i.FORMATS.RG]:e.RG16F,[i.FORMATS.RED]:e.R16F},[i.TYPES.UNSIGNED_SHORT_5_6_5]:{[i.FORMATS.RGB]:e.RGB565},[i.TYPES.UNSIGNED_SHORT_4_4_4_4]:{[i.FORMATS.RGBA]:e.RGBA4},[i.TYPES.UNSIGNED_SHORT_5_5_5_1]:{[i.FORMATS.RGBA]:e.RGB5_A1},[i.TYPES.UNSIGNED_INT_2_10_10_10_REV]:{[i.FORMATS.RGBA]:e.RGB10_A2,[i.FORMATS.RGBA_INTEGER]:e.RGB10_A2UI},[i.TYPES.UNSIGNED_INT_10F_11F_11F_REV]:{[i.FORMATS.RGB]:e.R11F_G11F_B10F},[i.TYPES.UNSIGNED_INT_5_9_9_9_REV]:{[i.FORMATS.RGB]:e.RGB9_E5},[i.TYPES.UNSIGNED_INT_24_8]:{[i.FORMATS.DEPTH_STENCIL]:e.DEPTH24_STENCIL8},[i.TYPES.FLOAT_32_UNSIGNED_INT_24_8_REV]:{[i.FORMATS.DEPTH_STENCIL]:e.DEPTH32F_STENCIL8}}:{[i.TYPES.UNSIGNED_BYTE]:{[i.FORMATS.RGBA]:e.RGBA,[i.FORMATS.RGB]:e.RGB,[i.FORMATS.ALPHA]:e.ALPHA,[i.FORMATS.LUMINANCE]:e.LUMINANCE,[i.FORMATS.LUMINANCE_ALPHA]:e.LUMINANCE_ALPHA},[i.TYPES.UNSIGNED_SHORT_5_6_5]:{[i.FORMATS.RGB]:e.RGB},[i.TYPES.UNSIGNED_SHORT_4_4_4_4]:{[i.FORMATS.RGBA]:e.RGBA},[i.TYPES.UNSIGNED_SHORT_5_5_5_1]:{[i.FORMATS.RGBA]:e.RGBA}}}},{"@pixi/constants":"68v8p","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],hj08K:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"TransformFeedbackSystem",()=>a);var i=e("@pixi/extensions");class a{constructor(e){this.renderer=e}contextChange(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){let{gl:t,CONTEXT_UID:r}=this,s=e._glTransformFeedbacks[r]||this.createGLTransformFeedback(e);t.bindTransformFeedback(t.TRANSFORM_FEEDBACK,s)}unbind(){let{gl:e}=this;e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,null)}beginTransformFeedback(e,t){let{gl:r,renderer:s}=this;t&&s.shader.bind(t),r.beginTransformFeedback(e)}endTransformFeedback(){let{gl:e}=this;e.endTransformFeedback()}createGLTransformFeedback(e){let{gl:t,renderer:r,CONTEXT_UID:s}=this,i=t.createTransformFeedback();e._glTransformFeedbacks[s]=i,t.bindTransformFeedback(t.TRANSFORM_FEEDBACK,i);for(let i=0;i<e.buffers.length;i++){let a=e.buffers[i];a&&(r.buffer.update(a),a._glBuffers[s].refCount++,t.bindBufferBase(t.TRANSFORM_FEEDBACK_BUFFER,i,a._glBuffers[s].buffer||null))}return t.bindTransformFeedback(t.TRANSFORM_FEEDBACK,null),e.disposeRunner.add(this),i}disposeTransformFeedback(e,t){let r=e._glTransformFeedbacks[this.CONTEXT_UID],s=this.gl;e.disposeRunner.remove(this);let i=this.renderer.buffer;if(i)for(let r=0;r<e.buffers.length;r++){let s=e.buffers[r];if(!s)continue;let a=s._glBuffers[this.CONTEXT_UID];a&&(a.refCount--,0!==a.refCount||t||i.dispose(s,t))}r&&(t||s.deleteTransformFeedback(r),delete e._glTransformFeedbacks[this.CONTEXT_UID])}destroy(){this.renderer=null}}a.extension={type:i.ExtensionType.RendererSystem,name:"transformFeedback"},(0,i.extensions).add(a)},{"@pixi/extensions":"LXrqQ","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"1PJBr":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"ViewSystem",()=>n);var i=e("@pixi/extensions"),a=e("@pixi/math"),o=e("@pixi/settings");class n{constructor(e){this.renderer=e}init(e){this.screen=new a.Rectangle(0,0,e.width,e.height),this.element=e.view||(0,o.settings).ADAPTER.createCanvas(),this.resolution=e.resolution||o.settings.RESOLUTION,this.autoDensity=!!e.autoDensity}resizeView(e,t){this.element.width=Math.round(e*this.resolution),this.element.height=Math.round(t*this.resolution);let r=this.element.width/this.resolution,s=this.element.height/this.resolution;this.screen.width=r,this.screen.height=s,this.autoDensity&&(this.element.style.width=`${r}px`,this.element.style.height=`${s}px`),this.renderer.emit("resize",r,s),this.renderer.runners.resize.emit(this.screen.width,this.screen.height)}destroy(e){e&&this.element.parentNode?.removeChild(this.element),this.renderer=null,this.element=null,this.screen=null}}n.defaultOptions={width:800,height:600,resolution:void 0,autoDensity:!1},n.extension={type:[i.ExtensionType.RendererSystem,i.ExtensionType.CanvasRendererSystem],name:"_view"},(0,i.extensions).add(n)},{"@pixi/extensions":"LXrqQ","@pixi/math":"f1tY5","@pixi/settings":"fYTIf","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],dnzh9:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"Ticker",()=>a.Ticker),s.export(r,"TickerPlugin",()=>o.TickerPlugin),s.export(r,"UPDATE_PRIORITY",()=>i.UPDATE_PRIORITY),e("./settings.mjs");var i=e("./const.mjs"),a=e("./Ticker.mjs"),o=e("./TickerPlugin.mjs")},{"./settings.mjs":"aYTVw","./const.mjs":"4out9","./Ticker.mjs":"6fOVw","./TickerPlugin.mjs":"5A1Oo","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],aYTVw:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"settings",()=>i.settings);var i=e("@pixi/settings"),a=e("@pixi/utils"),o=e("./Ticker.mjs");Object.defineProperties(i.settings,{TARGET_FPMS:{get:()=>o.Ticker.targetFPMS,set(e){(0,a.deprecation)("7.1.0","settings.TARGET_FPMS is deprecated, use Ticker.targetFPMS"),o.Ticker.targetFPMS=e}}})},{"@pixi/settings":"fYTIf","@pixi/utils":"4Acrm","./Ticker.mjs":"6fOVw","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"6fOVw":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"Ticker",()=>n);var i=e("./const.mjs"),a=e("./TickerListener.mjs");let o=class e{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new a.TickerListener(null,null,1/0),this.deltaMS=1/e.targetFPMS,this.elapsedMS=1/e.targetFPMS,this._tick=e=>{this._requestId=null,this.started&&(this.update(e),this.started&&null===this._requestId&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(e,t,r=i.UPDATE_PRIORITY.NORMAL){return this._addListener(new a.TickerListener(e,t,r))}addOnce(e,t,r=i.UPDATE_PRIORITY.NORMAL){return this._addListener(new a.TickerListener(e,t,r,!0))}_addListener(e){let t=this._head.next,r=this._head;if(t){for(;t;){if(e.priority>t.priority){e.connect(r);break}r=t,t=t.next}e.previous||e.connect(r)}else e.connect(r);return this._startIfPossible(),this}remove(e,t){let r=this._head.next;for(;r;)r=r.match(e,t)?r.destroy():r.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let e=0,t=this._head;for(;t=t.next;)e++;return e}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let e=this._head.next;for(;e;)e=e.destroy(!0);this._head.destroy(),this._head=null}}update(t=performance.now()){let r;if(t>this.lastTime){if((r=this.elapsedMS=t-this.lastTime)>this._maxElapsedMS&&(r=this._maxElapsedMS),r*=this.speed,this._minElapsedMS){let e=t-this._lastFrame|0;if(e<this._minElapsedMS)return;this._lastFrame=t-e%this._minElapsedMS}this.deltaMS=r,this.deltaTime=this.deltaMS*e.targetFPMS;let s=this._head,i=s.next;for(;i;)i=i.emit(this.deltaTime);s.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(t){let r=Math.min(Math.max(0,Math.min(this.maxFPS,t))/1e3,e.targetFPMS);this._maxElapsedMS=1/r}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(e){if(0===e)this._minElapsedMS=0;else{let t=Math.max(this.minFPS,e);this._minElapsedMS=1/(t/1e3)}}static get shared(){if(!e._shared){let t=e._shared=new e;t.autoStart=!0,t._protected=!0}return e._shared}static get system(){if(!e._system){let t=e._system=new e;t.autoStart=!0,t._protected=!0}return e._system}};o.targetFPMS=.06;let n=o},{"./const.mjs":"4out9","./TickerListener.mjs":"7UWTm","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"4out9":[function(e,t,r){let s;var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r),i.export(r,"UPDATE_PRIORITY",()=>a);var a=((s=a||{})[s.INTERACTION=50]="INTERACTION",s[s.HIGH=25]="HIGH",s[s.NORMAL=0]="NORMAL",s[s.LOW=-25]="LOW",s[s.UTILITY=-50]="UTILITY",s)},{"@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"7UWTm":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"TickerListener",()=>i);class i{constructor(e,t=null,r=0,s=!1){this.next=null,this.previous=null,this._destroyed=!1,this.fn=e,this.context=t,this.priority=r,this.once=s}match(e,t=null){return this.fn===e&&this.context===t}emit(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));let t=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),t}connect(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this}destroy(e=!1){this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);let t=this.next;return this.next=e?null:t,this.previous=null,t}}},{"@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"5A1Oo":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"TickerPlugin",()=>n);var i=e("@pixi/extensions"),a=e("./const.mjs"),o=e("./Ticker.mjs");class n{static init(e){e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set(e){this._ticker&&this._ticker.remove(this.render,this),this._ticker=e,e&&e.add(this.render,this,a.UPDATE_PRIORITY.LOW)},get(){return this._ticker}}),this.stop=()=>{this._ticker.stop()},this.start=()=>{this._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?o.Ticker.shared:new o.Ticker,e.autoStart&&this.start()}static destroy(){if(this._ticker){let e=this._ticker;this.ticker=null,e.destroy()}}}n.extension=i.ExtensionType.Application,(0,i.extensions).add(n)},{"@pixi/extensions":"LXrqQ","./const.mjs":"4out9","./Ticker.mjs":"6fOVw","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],e6jwV:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"autoDetectRenderer",()=>o);var i=e("@pixi/extensions");let a=[];function o(e){for(let t of a)if(t.test(e))return new t(e);throw Error("Unable to auto-detect a suitable renderer.")}(0,i.extensions).handleByList(i.ExtensionType.Renderer,a)},{"@pixi/extensions":"LXrqQ","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],aqm7F:[function(e,t,r){},{}],"6e5q3":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"defaultFilterVertex",()=>h),s.export(r,"defaultVertex",()=>l);var i=e("./default.vert.mjs"),a=s.interopDefault(i),o=e("./defaultFilter.vert.mjs"),n=s.interopDefault(o);let l=a.default,h=n.default},{"./default.vert.mjs":"dTOgV","./defaultFilter.vert.mjs":"2iOnl","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],dTOgV:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"default",()=>i);var i=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`},{"@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"2iOnl":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"default",()=>i);var i=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`},{"@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],qLUmG:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"MultisampleSystem",()=>o);var i=e("@pixi/constants"),a=e("@pixi/extensions");class o{constructor(e){this.renderer=e}contextChange(e){let t;if(1===this.renderer.context.webGLVersion){let r=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,null),t=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.FRAMEBUFFER,r)}else{let r=e.getParameter(e.DRAW_FRAMEBUFFER_BINDING);e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),t=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,r)}t>=i.MSAA_QUALITY.HIGH?this.multisample=i.MSAA_QUALITY.HIGH:t>=i.MSAA_QUALITY.MEDIUM?this.multisample=i.MSAA_QUALITY.MEDIUM:t>=i.MSAA_QUALITY.LOW?this.multisample=i.MSAA_QUALITY.LOW:this.multisample=i.MSAA_QUALITY.NONE}destroy(){}}o.extension={type:a.ExtensionType.RendererSystem,name:"_multisample"},(0,a.extensions).add(o)},{"@pixi/constants":"68v8p","@pixi/extensions":"LXrqQ","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],kpnIN:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"BufferSystem",()=>o);var i=e("@pixi/extensions"),a=e("./GLBuffer.mjs");class o{constructor(e){this.renderer=e,this.managedBuffers={},this.boundBufferBases={}}destroy(){this.renderer=null}contextChange(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){let{gl:t,CONTEXT_UID:r}=this,s=e._glBuffers[r]||this.createGLBuffer(e);t.bindBuffer(e.type,s.buffer)}unbind(e){let{gl:t}=this;t.bindBuffer(e,null)}bindBufferBase(e,t){let{gl:r,CONTEXT_UID:s}=this;if(this.boundBufferBases[t]!==e){let i=e._glBuffers[s]||this.createGLBuffer(e);this.boundBufferBases[t]=e,r.bindBufferBase(r.UNIFORM_BUFFER,t,i.buffer)}}bindBufferRange(e,t,r){let{gl:s,CONTEXT_UID:i}=this;r=r||0;let a=e._glBuffers[i]||this.createGLBuffer(e);s.bindBufferRange(s.UNIFORM_BUFFER,t||0,a.buffer,256*r,256)}update(e){let{gl:t,CONTEXT_UID:r}=this,s=e._glBuffers[r]||this.createGLBuffer(e);if(e._updateID!==s.updateID){if(s.updateID=e._updateID,t.bindBuffer(e.type,s.buffer),s.byteLength>=e.data.byteLength)t.bufferSubData(e.type,0,e.data);else{let r=e.static?t.STATIC_DRAW:t.DYNAMIC_DRAW;s.byteLength=e.data.byteLength,t.bufferData(e.type,e.data,r)}}}dispose(e,t){if(!this.managedBuffers[e.id])return;delete this.managedBuffers[e.id];let r=e._glBuffers[this.CONTEXT_UID],s=this.gl;e.disposeRunner.remove(this),r&&(t||s.deleteBuffer(r.buffer),delete e._glBuffers[this.CONTEXT_UID])}disposeAll(e){let t=Object.keys(this.managedBuffers);for(let r=0;r<t.length;r++)this.dispose(this.managedBuffers[t[r]],e)}createGLBuffer(e){let{CONTEXT_UID:t,gl:r}=this;return e._glBuffers[t]=new a.GLBuffer(r.createBuffer()),this.managedBuffers[e.id]=e,e.disposeRunner.add(this),e._glBuffers[t]}}o.extension={type:i.ExtensionType.RendererSystem,name:"buffer"},(0,i.extensions).add(o)},{"@pixi/extensions":"LXrqQ","./GLBuffer.mjs":"jeFdK","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],jeFdK:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"GLBuffer",()=>i);class i{constructor(e){this.buffer=e||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}}},{"@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],kJ0g3:[function(e,t,r){},{}],"2AvHV":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"ObjectRendererSystem",()=>a);var i=e("@pixi/extensions");class a{constructor(e){this.renderer=e}render(e,t){let r,s,i,a;let o=this.renderer;if(t&&(r=t.renderTexture,s=t.clear,i=t.transform,a=t.skipUpdateTransform),this.renderingToScreen=!r,o.runners.prerender.emit(),o.emit("prerender"),o.projection.transform=i,!o.context.isLost){if(r||(this.lastObjectRendered=e),!a){let t=e.enableTempParent();e.updateTransform(),e.disableTempParent(t)}o.renderTexture.bind(r),o.batch.currentRenderer.start(),(s??o.background.clearBeforeRender)&&o.renderTexture.clear(),e.render(o),o.batch.currentRenderer.flush(),r&&(t.blit&&o.framebuffer.blit(),r.baseTexture.update()),o.runners.postrender.emit(),o.projection.transform=null,o.emit("postrender")}}destroy(){this.renderer=null,this.lastObjectRendered=null}}a.extension={type:i.ExtensionType.RendererSystem,name:"objectRenderer"},(0,i.extensions).add(a)},{"@pixi/extensions":"LXrqQ","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"2xlFA":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"Renderer",()=>d);var i=e("@pixi/constants"),a=e("@pixi/extensions"),o=e("@pixi/math"),n=e("@pixi/settings"),l=e("@pixi/utils"),h=e("./shader/UniformGroup.mjs"),u=e("./system/SystemManager.mjs");let c=class e extends u.SystemManager{constructor(t){super(),this.type=i.RENDERER_TYPE.WEBGL,t=Object.assign({},n.settings.RENDER_OPTIONS,t),this.gl=null,this.CONTEXT_UID=0,this.globalUniforms=new h.UniformGroup({projectionMatrix:new o.Matrix},!0);let r={runners:["init","destroy","contextChange","resolutionChange","reset","update","postrender","prerender","resize"],systems:e.__systems,priority:["_view","textureGenerator","background","_plugin","startup","context","state","texture","buffer","geometry","framebuffer","transformFeedback","mask","scissor","stencil","projection","textureGC","filter","renderTexture","batch","objectRenderer","_multisample"]};this.setup(r),"useContextAlpha"in t&&((0,l.deprecation)("7.0.0","options.useContextAlpha is deprecated, use options.premultipliedAlpha and options.backgroundAlpha instead"),t.premultipliedAlpha=t.useContextAlpha&&"notMultiplied"!==t.useContextAlpha,t.backgroundAlpha=!1===t.useContextAlpha?1:t.backgroundAlpha),this._plugin.rendererPlugins=e.__plugins,this.options=t,this.startup.run(this.options)}static test(e){return!e?.forceCanvas&&(0,l.isWebGLSupported)()}render(e,t){this.objectRenderer.render(e,t)}resize(e,t){this._view.resizeView(e,t)}reset(){return this.runners.reset.emit(),this}clear(){this.renderTexture.bind(),this.renderTexture.clear()}destroy(e=!1){this.runners.destroy.items.reverse(),this.emitWithCustomOptions(this.runners.destroy,{_view:e}),super.destroy()}get plugins(){return this._plugin.plugins}get multisample(){return this._multisample.multisample}get width(){return this._view.element.width}get height(){return this._view.element.height}get resolution(){return this._view.resolution}set resolution(e){this._view.resolution=e,this.runners.resolutionChange.emit(e)}get autoDensity(){return this._view.autoDensity}get view(){return this._view.element}get screen(){return this._view.screen}get lastObjectRendered(){return this.objectRenderer.lastObjectRendered}get renderingToScreen(){return this.objectRenderer.renderingToScreen}get rendererLogId(){return`WebGL ${this.context.webGLVersion}`}get clearBeforeRender(){return(0,l.deprecation)("7.0.0","renderer.clearBeforeRender has been deprecated, please use renderer.background.clearBeforeRender instead."),this.background.clearBeforeRender}get useContextAlpha(){return(0,l.deprecation)("7.0.0","renderer.useContextAlpha has been deprecated, please use renderer.context.premultipliedAlpha instead."),this.context.useContextAlpha}get preserveDrawingBuffer(){return(0,l.deprecation)("7.0.0","renderer.preserveDrawingBuffer has been deprecated, we cannot truly know this unless pixi created the context"),this.context.preserveDrawingBuffer}get backgroundColor(){return(0,l.deprecation)("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color}set backgroundColor(e){(0,l.deprecation)("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color=e}get backgroundAlpha(){return(0,l.deprecation)("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha}set backgroundAlpha(e){(0,l.deprecation)("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha=e}get powerPreference(){return(0,l.deprecation)("7.0.0","renderer.powerPreference has been deprecated, we can only know this if pixi creates the context"),this.context.powerPreference}generateTexture(e,t){return this.textureGenerator.generateTexture(e,t)}};c.extension={type:a.ExtensionType.Renderer,priority:1},c.__plugins={},c.__systems={};let d=c;(0,a.extensions).handleByMap(a.ExtensionType.RendererPlugin,d.__plugins),(0,a.extensions).handleByMap(a.ExtensionType.RendererSystem,d.__systems),(0,a.extensions).add(d)},{"@pixi/constants":"68v8p","@pixi/extensions":"LXrqQ","@pixi/math":"f1tY5","@pixi/settings":"fYTIf","@pixi/utils":"4Acrm","./shader/UniformGroup.mjs":"30cf1","./system/SystemManager.mjs":"aX9hv","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],b4czR:[function(e,t,r){},{}],it3Hq:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"AbstractMultiResource",()=>_.AbstractMultiResource),s.export(r,"ArrayResource",()=>i.ArrayResource),s.export(r,"BaseImageResource",()=>m.BaseImageResource),s.export(r,"BufferResource",()=>o.BufferResource),s.export(r,"CanvasResource",()=>n.CanvasResource),s.export(r,"CubeResource",()=>l.CubeResource),s.export(r,"INSTALLED",()=>a.INSTALLED),s.export(r,"ImageBitmapResource",()=>h.ImageBitmapResource),s.export(r,"ImageResource",()=>u.ImageResource),s.export(r,"Resource",()=>f.Resource),s.export(r,"SVGResource",()=>c.SVGResource),s.export(r,"VideoResource",()=>p.VideoResource),s.export(r,"autoDetectResource",()=>a.autoDetectResource);var i=e("./ArrayResource.mjs"),a=e("./autoDetectResource.mjs"),o=e("./BufferResource.mjs"),n=e("./CanvasResource.mjs"),l=e("./CubeResource.mjs"),h=e("./ImageBitmapResource.mjs"),u=e("./ImageResource.mjs"),c=e("./SVGResource.mjs"),d=e("./VideoFrameResource.mjs"),p=e("./VideoResource.mjs"),m=e("./BaseImageResource.mjs"),f=e("./Resource.mjs"),_=e("./AbstractMultiResource.mjs");(0,a.INSTALLED).push(h.ImageBitmapResource,u.ImageResource,n.CanvasResource,p.VideoResource,d.VideoFrameResource,c.SVGResource,o.BufferResource,l.CubeResource,i.ArrayResource)},{"./ArrayResource.mjs":"jGUuh","./autoDetectResource.mjs":"fDXU4","./BufferResource.mjs":"evIz9","./CanvasResource.mjs":"8DWrq","./CubeResource.mjs":"a78p9","./ImageBitmapResource.mjs":"kZK1K","./ImageResource.mjs":"9XGf4","./SVGResource.mjs":"ce3eJ","./VideoFrameResource.mjs":"40qlG","./VideoResource.mjs":"9tM6o","./BaseImageResource.mjs":"82Avo","./Resource.mjs":"gFk3n","./AbstractMultiResource.mjs":"35O4Q","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],jGUuh:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"ArrayResource",()=>o);var i=e("@pixi/constants"),a=e("./AbstractMultiResource.mjs");class o extends a.AbstractMultiResource{constructor(e,t){let r,s;let{width:i,height:a}=t||{};Array.isArray(e)?(r=e,s=e.length):s=e,super(s,{width:i,height:a}),r&&this.initFromArray(r,t)}addBaseTextureAt(e,t){if(e.resource)this.addResourceAt(e.resource,t);else throw Error("ArrayResource does not support RenderTexture");return this}bind(e){super.bind(e),e.target=i.TARGETS.TEXTURE_2D_ARRAY}upload(e,t,r){let{length:s,itemDirtyIds:i,items:a}=this,{gl:o}=e;r.dirtyId<0&&o.texImage3D(o.TEXTURE_2D_ARRAY,0,r.internalFormat,this._width,this._height,s,0,t.format,r.type,null);for(let e=0;e<s;e++){let s=a[e];i[e]<s.dirtyId&&(i[e]=s.dirtyId,s.valid&&o.texSubImage3D(o.TEXTURE_2D_ARRAY,0,0,0,e,s.resource.width,s.resource.height,1,t.format,r.type,s.resource.source))}return!0}}},{"@pixi/constants":"68v8p","./AbstractMultiResource.mjs":"35O4Q","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"35O4Q":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"AbstractMultiResource",()=>n);var i=e("../BaseTexture.mjs"),a=e("./autoDetectResource.mjs"),o=e("./Resource.mjs");class n extends o.Resource{constructor(e,t){let{width:r,height:s}=t||{};super(r,s),this.items=[],this.itemDirtyIds=[];for(let t=0;t<e;t++){let e=new i.BaseTexture;this.items.push(e),this.itemDirtyIds.push(-2)}this.length=e,this._load=null,this.baseTexture=null}initFromArray(e,t){for(let r=0;r<this.length;r++)e[r]&&(e[r].castToBaseTexture?this.addBaseTextureAt(e[r].castToBaseTexture(),r):e[r]instanceof o.Resource?this.addResourceAt(e[r],r):this.addResourceAt((0,a.autoDetectResource)(e[r],t),r))}dispose(){for(let e=0,t=this.length;e<t;e++)this.items[e].destroy();this.items=null,this.itemDirtyIds=null,this._load=null}addResourceAt(e,t){if(!this.items[t])throw Error(`Index ${t} is out of bounds`);return e.valid&&!this.valid&&this.resize(e.width,e.height),this.items[t].setResource(e),this}bind(e){if(null!==this.baseTexture)throw Error("Only one base texture per TextureArray is allowed");super.bind(e);for(let t=0;t<this.length;t++)this.items[t].parentTextureArray=e,this.items[t].on("update",e.update,e)}unbind(e){super.unbind(e);for(let t=0;t<this.length;t++)this.items[t].parentTextureArray=null,this.items[t].off("update",e.update,e)}load(){if(this._load)return this._load;let e=this.items.map(e=>e.resource).filter(e=>e).map(e=>e.load());return this._load=Promise.all(e).then(()=>{let{realWidth:e,realHeight:t}=this.items[0];return this.resize(e,t),this.update(),Promise.resolve(this)}),this._load}}},{"../BaseTexture.mjs":"gFSHz","./autoDetectResource.mjs":"fDXU4","./Resource.mjs":"gFk3n","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"8DWrq":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"CanvasResource",()=>a);var i=e("./BaseImageResource.mjs");class a extends i.BaseImageResource{constructor(e){super(e)}static test(e){let{OffscreenCanvas:t}=globalThis;return!!t&&e instanceof t||globalThis.HTMLCanvasElement&&e instanceof HTMLCanvasElement}}},{"./BaseImageResource.mjs":"82Avo","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],a78p9:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"CubeResource",()=>n);var i=e("@pixi/constants"),a=e("./AbstractMultiResource.mjs");let o=class e extends a.AbstractMultiResource{constructor(t,r){let{width:s,height:a,autoLoad:o,linkBaseTexture:n}=r||{};if(t&&t.length!==e.SIDES)throw Error(`Invalid length. Got ${t.length}, expected 6`);super(6,{width:s,height:a});for(let t=0;t<e.SIDES;t++)this.items[t].target=i.TARGETS.TEXTURE_CUBE_MAP_POSITIVE_X+t;this.linkBaseTexture=!1!==n,t&&this.initFromArray(t,r),!1!==o&&this.load()}bind(e){super.bind(e),e.target=i.TARGETS.TEXTURE_CUBE_MAP}addBaseTextureAt(e,t,r){if(void 0===r&&(r=this.linkBaseTexture),!this.items[t])throw Error(`Index ${t} is out of bounds`);if(!this.linkBaseTexture||e.parentTextureArray||Object.keys(e._glTextures).length>0){if(e.resource)this.addResourceAt(e.resource,t);else throw Error("CubeResource does not support copying of renderTexture.")}else e.target=i.TARGETS.TEXTURE_CUBE_MAP_POSITIVE_X+t,e.parentTextureArray=this.baseTexture,this.items[t]=e;return e.valid&&!this.valid&&this.resize(e.realWidth,e.realHeight),this.items[t]=e,this}upload(t,r,s){let i=this.itemDirtyIds;for(let a=0;a<e.SIDES;a++){let e=this.items[a];(i[a]<e.dirtyId||s.dirtyId<r.dirtyId)&&(e.valid&&e.resource?(e.resource.upload(t,e,s),i[a]=e.dirtyId):i[a]<-1&&(t.gl.texImage2D(e.target,0,s.internalFormat,r.realWidth,r.realHeight,0,r.format,s.type,null),i[a]=-1))}return!0}static test(t){return Array.isArray(t)&&t.length===e.SIDES}};o.SIDES=6;let n=o},{"@pixi/constants":"68v8p","./AbstractMultiResource.mjs":"35O4Q","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],kZK1K:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"ImageBitmapResource",()=>n);var i=e("@pixi/constants"),a=e("@pixi/settings"),o=e("./BaseImageResource.mjs");class n extends o.BaseImageResource{constructor(e,t){let r,s,i;t=t||{},"string"==typeof e?(r=n.EMPTY,s=e,i=!0):(r=e,s=null,i=!1),super(r),this.url=s,this.crossOrigin=t.crossOrigin??!0,this.alphaMode="number"==typeof t.alphaMode?t.alphaMode:null,this.ownsImageBitmap=t.ownsImageBitmap??i,this._load=null,!1!==t.autoLoad&&this.load()}load(){return this._load||(this._load=new Promise(async(e,t)=>{if(null===this.url){e(this);return}try{let t=await (0,a.settings).ADAPTER.fetch(this.url,{mode:this.crossOrigin?"cors":"no-cors"});if(this.destroyed)return;let r=await t.blob();if(this.destroyed)return;let s=await createImageBitmap(r,{premultiplyAlpha:null===this.alphaMode||this.alphaMode===i.ALPHA_MODES.UNPACK?"premultiply":"none"});if(this.destroyed){s.close();return}this.source=s,this.update(),e(this)}catch(e){if(this.destroyed)return;t(e),this.onError.emit(e)}})),this._load}upload(e,t,r){return this.source instanceof ImageBitmap?("number"==typeof this.alphaMode&&(t.alphaMode=this.alphaMode),super.upload(e,t,r)):(this.load(),!1)}dispose(){this.ownsImageBitmap&&this.source instanceof ImageBitmap&&this.source.close(),super.dispose(),this._load=null}static test(e){return!!globalThis.createImageBitmap&&"u">typeof ImageBitmap&&("string"==typeof e||e instanceof ImageBitmap)}static get EMPTY(){return n._EMPTY=n._EMPTY??(0,a.settings).ADAPTER.createCanvas(0,0),n._EMPTY}}},{"@pixi/constants":"68v8p","@pixi/settings":"fYTIf","./BaseImageResource.mjs":"82Avo","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],ce3eJ:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"SVGResource",()=>l);var i=e("@pixi/settings"),a=e("@pixi/utils"),o=e("./BaseImageResource.mjs");let n=class e extends o.BaseImageResource{constructor(e,t){t=t||{},super((0,i.settings).ADAPTER.createCanvas()),this._width=0,this._height=0,this.svg=e,this.scale=t.scale||1,this._overrideWidth=t.width,this._overrideHeight=t.height,this._resolve=null,this._crossorigin=t.crossorigin,this._load=null,!1!==t.autoLoad&&this.load()}load(){return this._load||(this._load=new Promise(t=>{if(this._resolve=()=>{this.update(),t(this)},e.SVG_XML.test(this.svg.trim())){if(!btoa)throw Error("Your browser doesn't support base64 conversions.");this.svg=`data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(this.svg)))}`}this._loadSvg()})),this._load}_loadSvg(){let e=new Image;(0,o.BaseImageResource).crossOrigin(e,this.svg,this._crossorigin),e.src=this.svg,e.onerror=t=>{this._resolve&&(e.onerror=null,this.onError.emit(t))},e.onload=()=>{if(!this._resolve)return;let t=e.width,r=e.height;if(!t||!r)throw Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");let s=t*this.scale,i=r*this.scale;(this._overrideWidth||this._overrideHeight)&&(s=this._overrideWidth||this._overrideHeight/r*t,i=this._overrideHeight||this._overrideWidth/t*r),s=Math.round(s),i=Math.round(i);let o=this.source;o.width=s,o.height=i,o._pixiId=`canvas_${(0,a.uid)()}`,o.getContext("2d").drawImage(e,0,0,t,r,0,0,s,i),this._resolve(),this._resolve=null}}static getSize(t){let r=e.SVG_SIZE.exec(t),s={};return r&&(s[r[1]]=Math.round(parseFloat(r[3])),s[r[5]]=Math.round(parseFloat(r[7]))),s}dispose(){super.dispose(),this._resolve=null,this._crossorigin=null}static test(t,r){return"svg"===r||"string"==typeof t&&t.startsWith("data:image/svg+xml")||"string"==typeof t&&e.SVG_XML.test(t)}};n.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,n.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;let l=n},{"@pixi/settings":"fYTIf","@pixi/utils":"4Acrm","./BaseImageResource.mjs":"82Avo","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"40qlG":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"VideoFrameResource",()=>a);var i=e("./BaseImageResource.mjs");class a extends i.BaseImageResource{constructor(e){super(e)}static test(e){return!!globalThis.VideoFrame&&e instanceof globalThis.VideoFrame}}},{"./BaseImageResource.mjs":"82Avo","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"9tM6o":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"VideoResource",()=>n);var i=e("@pixi/ticker"),a=e("./BaseImageResource.mjs");let o=class e extends a.BaseImageResource{constructor(t,r){if(r=r||{},!(t instanceof HTMLVideoElement)){let s=document.createElement("video");!1!==r.autoLoad&&s.setAttribute("preload","auto"),!1!==r.playsinline&&(s.setAttribute("webkit-playsinline",""),s.setAttribute("playsinline","")),!0===r.muted&&(s.setAttribute("muted",""),s.muted=!0),!0===r.loop&&s.setAttribute("loop",""),!1!==r.autoPlay&&s.setAttribute("autoplay",""),"string"==typeof t&&(t=[t]);let i=t[0].src||t[0];(0,a.BaseImageResource).crossOrigin(s,i,r.crossorigin);for(let r=0;r<t.length;++r){let i=document.createElement("source"),{src:a,mime:o}=t[r];if((a=a||t[r]).startsWith("data:"))o=a.slice(5,a.indexOf(";"));else if(!a.startsWith("blob:")){let t=a.split("?").shift().toLowerCase(),r=t.slice(t.lastIndexOf(".")+1);o=o||e.MIME_TYPES[r]||`video/${r}`}i.src=a,o&&(i.type=o),s.appendChild(i)}t=s}super(t),this.noSubImage=!0,this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=r.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=!1!==r.autoPlay,this._videoFrameRequestCallback=this._videoFrameRequestCallback.bind(this),this._videoFrameRequestCallbackHandle=null,this._load=null,this._resolve=null,this._reject=null,this._onCanPlay=this._onCanPlay.bind(this),this._onError=this._onError.bind(this),this._onPlayStart=this._onPlayStart.bind(this),this._onPlayStop=this._onPlayStop.bind(this),this._onSeeked=this._onSeeked.bind(this),!1!==r.autoLoad&&this.load()}update(e=0){if(!this.destroyed){if(this._updateFPS){let e=i.Ticker.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-e)}(!this._updateFPS||this._msToNextUpdate<=0)&&(super.update(),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}}_videoFrameRequestCallback(){this.update(),this.destroyed?this._videoFrameRequestCallbackHandle=null:this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback)}load(){if(this._load)return this._load;let e=this.source;return(e.readyState===e.HAVE_ENOUGH_DATA||e.readyState===e.HAVE_FUTURE_DATA)&&e.width&&e.height&&(e.complete=!0),e.addEventListener("play",this._onPlayStart),e.addEventListener("pause",this._onPlayStop),e.addEventListener("seeked",this._onSeeked),this._isSourceReady()?this._onCanPlay():(e.addEventListener("canplay",this._onCanPlay),e.addEventListener("canplaythrough",this._onCanPlay),e.addEventListener("error",this._onError,!0)),this._load=new Promise((t,r)=>{this.valid?t(this):(this._resolve=t,this._reject=r,e.load())}),this._load}_onError(e){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(e),this._reject&&(this._reject(e),this._reject=null,this._resolve=null)}_isSourcePlaying(){let e=this.source;return!e.paused&&!e.ended}_isSourceReady(){return this.source.readyState>2}_onPlayStart(){this.valid||this._onCanPlay(),this._configureAutoUpdate()}_onPlayStop(){this._configureAutoUpdate()}_onSeeked(){this._autoUpdate&&!this._isSourcePlaying()&&(this._msToNextUpdate=0,this.update(),this._msToNextUpdate=0)}_onCanPlay(){let e=this.source;e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay);let t=this.valid;this._msToNextUpdate=0,this.update(),this._msToNextUpdate=0,!t&&this._resolve&&(this._resolve(this),this._resolve=null,this._reject=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&e.play()}dispose(){this._configureAutoUpdate();let e=this.source;e&&(e.removeEventListener("play",this._onPlayStart),e.removeEventListener("pause",this._onPlayStop),e.removeEventListener("seeked",this._onSeeked),e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay),e.removeEventListener("error",this._onError,!0),e.pause(),e.src="",e.load()),super.dispose()}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,this._configureAutoUpdate())}get updateFPS(){return this._updateFPS}set updateFPS(e){e!==this._updateFPS&&(this._updateFPS=e,this._configureAutoUpdate())}_configureAutoUpdate(){this._autoUpdate&&this._isSourcePlaying()?!this._updateFPS&&this.source.requestVideoFrameCallback?(this._isConnectedToTicker&&((0,i.Ticker).shared.remove(this.update,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0),null===this._videoFrameRequestCallbackHandle&&(this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback))):(null!==this._videoFrameRequestCallbackHandle&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker||((0,i.Ticker).shared.add(this.update,this),this._isConnectedToTicker=!0,this._msToNextUpdate=0)):(null!==this._videoFrameRequestCallbackHandle&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker&&((0,i.Ticker).shared.remove(this.update,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0))}static test(t,r){return globalThis.HTMLVideoElement&&t instanceof HTMLVideoElement||e.TYPES.includes(r)}};o.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],o.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};let n=o},{"@pixi/ticker":"dnzh9","./BaseImageResource.mjs":"82Avo","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"4w2ph":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"TransformFeedback",()=>a);var i=e("@pixi/runner");class a{constructor(){this._glTransformFeedbacks={},this.buffers=[],this.disposeRunner=new i.Runner("disposeTransformFeedback")}bindBuffer(e,t){this.buffers[e]=t}destroy(){this.disposeRunner.emit(this,!1)}}},{"@pixi/runner":"rXCrp","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"2blAU":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"Bounds",()=>i.Bounds),s.export(r,"Container",()=>a.Container),s.export(r,"DisplayObject",()=>o.DisplayObject),s.export(r,"TemporaryDisplayObject",()=>o.TemporaryDisplayObject),e("./settings.mjs");var i=e("./Bounds.mjs"),a=e("./Container.mjs"),o=e("./DisplayObject.mjs")},{"./settings.mjs":"boD3v","./Bounds.mjs":"2RD15","./Container.mjs":"jKnST","./DisplayObject.mjs":"9reOm","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],boD3v:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"settings",()=>i.settings);var i=e("@pixi/core"),a=e("./Container.mjs");Object.defineProperties(i.settings,{SORTABLE_CHILDREN:{get:()=>a.Container.defaultSortableChildren,set(e){(0,i.utils).deprecation("7.1.0","settings.SORTABLE_CHILDREN is deprecated, use Container.defaultSortableChildren"),a.Container.defaultSortableChildren=e}}})},{"@pixi/core":"dUVGa","./Container.mjs":"jKnST","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],jKnST:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"Container",()=>h);var i=e("@pixi/core"),a=e("./DisplayObject.mjs");let o=new i.Matrix;function n(e,t){return e.zIndex===t.zIndex?e._lastSortedIndex-t._lastSortedIndex:e.zIndex-t.zIndex}let l=class e extends a.DisplayObject{constructor(){super(),this.children=[],this.sortableChildren=e.defaultSortableChildren,this.sortDirty=!1}onChildrenChange(e){}addChild(...e){if(e.length>1)for(let t=0;t<e.length;t++)this.addChild(e[t]);else{let t=e[0];t.parent&&t.parent.removeChild(t),t.parent=this,this.sortDirty=!0,t.transform._parentID=-1,this.children.push(t),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",t,this,this.children.length-1),t.emit("added",this)}return e[0]}addChildAt(e,t){if(t<0||t>this.children.length)throw Error(`${e}addChildAt: The index ${t} supplied is out of bounds ${this.children.length}`);return e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,this.children.splice(t,0,e),this._boundsID++,this.onChildrenChange(t),e.emit("added",this),this.emit("childAdded",e,this,t),e}swapChildren(e,t){if(e===t)return;let r=this.getChildIndex(e),s=this.getChildIndex(t);this.children[r]=t,this.children[s]=e,this.onChildrenChange(r<s?r:s)}getChildIndex(e){let t=this.children.indexOf(e);if(-1===t)throw Error("The supplied DisplayObject must be a child of the caller");return t}setChildIndex(e,t){if(t<0||t>=this.children.length)throw Error(`The index ${t} supplied is out of bounds ${this.children.length}`);let r=this.getChildIndex(e);(0,i.utils).removeItems(this.children,r,1),this.children.splice(t,0,e),this.onChildrenChange(t)}getChildAt(e){if(e<0||e>=this.children.length)throw Error(`getChildAt: Index (${e}) does not exist.`);return this.children[e]}removeChild(...e){if(e.length>1)for(let t=0;t<e.length;t++)this.removeChild(e[t]);else{let t=e[0],r=this.children.indexOf(t);if(-1===r)return null;t.parent=null,t.transform._parentID=-1,(0,i.utils).removeItems(this.children,r,1),this._boundsID++,this.onChildrenChange(r),t.emit("removed",this),this.emit("childRemoved",t,this,r)}return e[0]}removeChildAt(e){let t=this.getChildAt(e);return t.parent=null,t.transform._parentID=-1,(0,i.utils).removeItems(this.children,e,1),this._boundsID++,this.onChildrenChange(e),t.emit("removed",this),this.emit("childRemoved",t,this,e),t}removeChildren(e=0,t=this.children.length){let r;let s=t-e;if(s>0&&s<=t){r=this.children.splice(e,s);for(let e=0;e<r.length;++e)r[e].parent=null,r[e].transform&&(r[e].transform._parentID=-1);this._boundsID++,this.onChildrenChange(e);for(let e=0;e<r.length;++e)r[e].emit("removed",this),this.emit("childRemoved",r[e],this,e);return r}if(0===s&&0===this.children.length)return[];throw RangeError("removeChildren: numeric values are outside the acceptable range.")}sortChildren(){let e=!1;for(let t=0,r=this.children.length;t<r;++t){let r=this.children[t];r._lastSortedIndex=t,e||0===r.zIndex||(e=!0)}e&&this.children.length>1&&this.children.sort(n),this.sortDirty=!1}updateTransform(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(let e=0,t=this.children.length;e<t;++e){let t=this.children[e];t.visible&&t.updateTransform()}}calculateBounds(){this._bounds.clear(),this._calculateBounds();for(let e=0;e<this.children.length;e++){let t=this.children[e];if(!(!t.visible||!t.renderable)){if(t.calculateBounds(),t._mask){let e=t._mask.isMaskData?t._mask.maskObject:t._mask;e?(e.calculateBounds(),this._bounds.addBoundsMask(t._bounds,e._bounds)):this._bounds.addBounds(t._bounds)}else t.filterArea?this._bounds.addBoundsArea(t._bounds,t.filterArea):this._bounds.addBounds(t._bounds)}}this._bounds.updateID=this._boundsID}getLocalBounds(e,t=!1){let r=super.getLocalBounds(e);if(!t)for(let e=0,t=this.children.length;e<t;++e){let t=this.children[e];t.visible&&t.updateTransform()}return r}_calculateBounds(){}_renderWithCulling(t){let r,s;let i=t.renderTexture.sourceFrame;if(!(i.width>0&&i.height>0))return;this.cullArea?(r=this.cullArea,s=this.worldTransform):this._render!==e.prototype._render&&(r=this.getBounds(!0));let a=t.projection.transform;if(a&&(s?(s=o.copyFrom(s)).prepend(a):s=a),r&&i.intersects(r,s))this._render(t);else if(this.cullArea)return;for(let e=0,r=this.children.length;e<r;++e){let r=this.children[e],s=r.cullable;r.cullable=s||!this.cullArea,r.render(t),r.cullable=s}}render(e){if(!(!this.visible||this.worldAlpha<=0||!this.renderable)){if(this._mask||this.filters?.length)this.renderAdvanced(e);else if(this.cullable)this._renderWithCulling(e);else{this._render(e);for(let t=0,r=this.children.length;t<r;++t)this.children[t].render(e)}}}renderAdvanced(e){let t=this.filters,r=this._mask;if(t){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(let e=0;e<t.length;e++)t[e].enabled&&this._enabledFilters.push(t[e])}let s=t&&this._enabledFilters?.length||r&&(!r.isMaskData||r.enabled&&(r.autoDetect||r.type!==i.MASK_TYPES.NONE));if(s&&e.batch.flush(),t&&this._enabledFilters?.length&&e.filter.push(this,this._enabledFilters),r&&e.mask.push(this,this._mask),this.cullable)this._renderWithCulling(e);else{this._render(e);for(let t=0,r=this.children.length;t<r;++t)this.children[t].render(e)}s&&e.batch.flush(),r&&e.mask.pop(this),t&&this._enabledFilters?.length&&e.filter.pop()}_render(e){}destroy(e){super.destroy(),this.sortDirty=!1;let t="boolean"==typeof e?e:e?.children,r=this.removeChildren(0,this.children.length);if(t)for(let t=0;t<r.length;++t)r[t].destroy(e)}get width(){return this.scale.x*this.getLocalBounds().width}set width(e){let t=this.getLocalBounds().width;0!==t?this.scale.x=e/t:this.scale.x=1,this._width=e}get height(){return this.scale.y*this.getLocalBounds().height}set height(e){let t=this.getLocalBounds().height;0!==t?this.scale.y=e/t:this.scale.y=1,this._height=e}};l.defaultSortableChildren=!1;let h=l;h.prototype.containerUpdateTransform=h.prototype.updateTransform},{"@pixi/core":"dUVGa","./DisplayObject.mjs":"9reOm","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"9reOm":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"DisplayObject",()=>o),s.export(r,"TemporaryDisplayObject",()=>n);var i=e("@pixi/core"),a=e("./Bounds.mjs");class o extends i.utils.EventEmitter{constructor(){super(),this.tempDisplayObjectParent=null,this.transform=new i.Transform,this.alpha=1,this.visible=!0,this.renderable=!0,this.cullable=!1,this.cullArea=null,this.parent=null,this.worldAlpha=1,this._lastSortedIndex=0,this._zIndex=0,this.filterArea=null,this.filters=null,this._enabledFilters=null,this._bounds=new a.Bounds,this._localBounds=null,this._boundsID=0,this._boundsRect=null,this._localBoundsRect=null,this._mask=null,this._maskRefCount=0,this._destroyed=!1,this.isSprite=!1,this.isMask=!1}static mixin(e){let t=Object.keys(e);for(let r=0;r<t.length;++r){let s=t[r];Object.defineProperty(o.prototype,s,Object.getOwnPropertyDescriptor(e,s))}}get destroyed(){return this._destroyed}_recursivePostUpdateTransform(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)}updateTransform(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha}getBounds(e,t){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),t||(this._boundsRect||(this._boundsRect=new i.Rectangle),t=this._boundsRect),this._bounds.getRectangle(t)}getLocalBounds(e){e||(this._localBoundsRect||(this._localBoundsRect=new i.Rectangle),e=this._localBoundsRect),this._localBounds||(this._localBounds=new a.Bounds);let t=this.transform,r=this.parent;this.parent=null,this._tempDisplayObjectParent.worldAlpha=r?.worldAlpha??1,this.transform=this._tempDisplayObjectParent.transform;let s=this._bounds,o=this._boundsID;this._bounds=this._localBounds;let n=this.getBounds(!1,e);return this.parent=r,this.transform=t,this._bounds=s,this._bounds.updateID+=this._boundsID-o,n}toGlobal(e,t,r=!1){return r||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,t)}toLocal(e,t,r,s){return t&&(e=t.toGlobal(e,r,s)),s||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,r)}setParent(e){if(!e||!e.addChild)throw Error("setParent: Argument must be a Container");return e.addChild(this),e}removeFromParent(){this.parent?.removeChild(this)}setTransform(e=0,t=0,r=1,s=1,i=0,a=0,o=0,n=0,l=0){return this.position.x=e,this.position.y=t,this.scale.x=r||1,this.scale.y=s||1,this.rotation=i,this.skew.x=a,this.skew.y=o,this.pivot.x=n,this.pivot.y=l,this}destroy(e){this.removeFromParent(),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.eventMode="auto",this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()}get _tempDisplayObjectParent(){return null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new n),this.tempDisplayObjectParent}enableTempParent(){let e=this.parent;return this.parent=this._tempDisplayObjectParent,e}disableTempParent(e){this.parent=e}get x(){return this.position.x}set x(e){this.transform.position.x=e}get y(){return this.position.y}set y(e){this.transform.position.y=e}get worldTransform(){return this.transform.worldTransform}get localTransform(){return this.transform.localTransform}get position(){return this.transform.position}set position(e){this.transform.position.copyFrom(e)}get scale(){return this.transform.scale}set scale(e){this.transform.scale.copyFrom(e)}get pivot(){return this.transform.pivot}set pivot(e){this.transform.pivot.copyFrom(e)}get skew(){return this.transform.skew}set skew(e){this.transform.skew.copyFrom(e)}get rotation(){return this.transform.rotation}set rotation(e){this.transform.rotation=e}get angle(){return this.transform.rotation*i.RAD_TO_DEG}set angle(e){this.transform.rotation=e*i.DEG_TO_RAD}get zIndex(){return this._zIndex}set zIndex(e){this._zIndex!==e&&(this._zIndex=e,this.parent&&(this.parent.sortDirty=!0))}get worldVisible(){let e=this;do{if(!e.visible)return!1;e=e.parent}while(e)return!0}get mask(){return this._mask}set mask(e){if(this._mask!==e){if(this._mask){let e=this._mask.isMaskData?this._mask.maskObject:this._mask;e&&(e._maskRefCount--,0===e._maskRefCount&&(e.renderable=!0,e.isMask=!1))}if(this._mask=e,this._mask){let e=this._mask.isMaskData?this._mask.maskObject:this._mask;e&&(0===e._maskRefCount&&(e.renderable=!1,e.isMask=!0),e._maskRefCount++)}}}}class n extends o{constructor(){super(...arguments),this.sortDirty=null}}o.prototype.displayObjectUpdateTransform=o.prototype.updateTransform},{"@pixi/core":"dUVGa","./Bounds.mjs":"2RD15","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"2RD15":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"Bounds",()=>a);var i=e("@pixi/core");class a{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}clear(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}getRectangle(e){return this.minX>this.maxX||this.minY>this.maxY?i.Rectangle.EMPTY:((e=e||new i.Rectangle(0,0,1,1)).x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)}addPoint(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)}addPointMatrix(e,t){let{a:r,b:s,c:i,d:a,tx:o,ty:n}=e,l=r*t.x+i*t.y+o,h=s*t.x+a*t.y+n;this.minX=Math.min(this.minX,l),this.maxX=Math.max(this.maxX,l),this.minY=Math.min(this.minY,h),this.maxY=Math.max(this.maxY,h)}addQuad(e){let t=this.minX,r=this.minY,s=this.maxX,i=this.maxY,a=e[0],o=e[1];t=a<t?a:t,r=o<r?o:r,s=a>s?a:s,i=o>i?o:i,a=e[2],o=e[3],t=a<t?a:t,r=o<r?o:r,s=a>s?a:s,i=o>i?o:i,a=e[4],o=e[5],t=a<t?a:t,r=o<r?o:r,s=a>s?a:s,i=o>i?o:i,a=e[6],o=e[7],t=a<t?a:t,r=o<r?o:r,s=a>s?a:s,i=o>i?o:i,this.minX=t,this.minY=r,this.maxX=s,this.maxY=i}addFrame(e,t,r,s,i){this.addFrameMatrix(e.worldTransform,t,r,s,i)}addFrameMatrix(e,t,r,s,i){let a=e.a,o=e.b,n=e.c,l=e.d,h=e.tx,u=e.ty,c=this.minX,d=this.minY,p=this.maxX,m=this.maxY,f=a*t+n*r+h,_=o*t+l*r+u;c=f<c?f:c,d=_<d?_:d,p=f>p?f:p,m=_>m?_:m,f=a*s+n*r+h,_=o*s+l*r+u,c=f<c?f:c,d=_<d?_:d,p=f>p?f:p,m=_>m?_:m,f=a*t+n*i+h,_=o*t+l*i+u,c=f<c?f:c,d=_<d?_:d,p=f>p?f:p,m=_>m?_:m,f=a*s+n*i+h,_=o*s+l*i+u,c=f<c?f:c,d=_<d?_:d,p=f>p?f:p,m=_>m?_:m,this.minX=c,this.minY=d,this.maxX=p,this.maxY=m}addVertexData(e,t,r){let s=this.minX,i=this.minY,a=this.maxX,o=this.maxY;for(let n=t;n<r;n+=2){let t=e[n],r=e[n+1];s=t<s?t:s,i=r<i?r:i,a=t>a?t:a,o=r>o?r:o}this.minX=s,this.minY=i,this.maxX=a,this.maxY=o}addVertices(e,t,r,s){this.addVerticesMatrix(e.worldTransform,t,r,s)}addVerticesMatrix(e,t,r,s,i=0,a=i){let o=e.a,n=e.b,l=e.c,h=e.d,u=e.tx,c=e.ty,d=this.minX,p=this.minY,m=this.maxX,f=this.maxY;for(let e=r;e<s;e+=2){let r=t[e],s=t[e+1],_=o*r+l*s+u,g=h*s+n*r+c;d=Math.min(d,_-i),m=Math.max(m,_+i),p=Math.min(p,g-a),f=Math.max(f,g+a)}this.minX=d,this.minY=p,this.maxX=m,this.maxY=f}addBounds(e){let t=this.minX,r=this.minY,s=this.maxX,i=this.maxY;this.minX=e.minX<t?e.minX:t,this.minY=e.minY<r?e.minY:r,this.maxX=e.maxX>s?e.maxX:s,this.maxY=e.maxY>i?e.maxY:i}addBoundsMask(e,t){let r=e.minX>t.minX?e.minX:t.minX,s=e.minY>t.minY?e.minY:t.minY,i=e.maxX<t.maxX?e.maxX:t.maxX,a=e.maxY<t.maxY?e.maxY:t.maxY;if(r<=i&&s<=a){let e=this.minX,t=this.minY,o=this.maxX,n=this.maxY;this.minX=r<e?r:e,this.minY=s<t?s:t,this.maxX=i>o?i:o,this.maxY=a>n?a:n}}addBoundsMatrix(e,t){this.addFrameMatrix(t,e.minX,e.minY,e.maxX,e.maxY)}addBoundsArea(e,t){let r=e.minX>t.x?e.minX:t.x,s=e.minY>t.y?e.minY:t.y,i=e.maxX<t.x+t.width?e.maxX:t.x+t.width,a=e.maxY<t.y+t.height?e.maxY:t.y+t.height;if(r<=i&&s<=a){let e=this.minX,t=this.minY,o=this.maxX,n=this.maxY;this.minX=r<e?r:e,this.minY=s<t?s:t,this.maxX=i>o?i:o,this.maxY=a>n?a:n}}pad(e=0,t=e){this.isEmpty()||(this.minX-=e,this.maxX+=e,this.minY-=t,this.maxY+=t)}addFramePad(e,t,r,s,i,a){e-=i,t-=a,r+=i,s+=a,this.minX=this.minX<e?this.minX:e,this.maxX=this.maxX>r?this.maxX:r,this.minY=this.minY<t?this.minY:t,this.maxY=this.maxY>s?this.maxY:s}}},{"@pixi/core":"dUVGa","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],fbvJg:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"Sprite",()=>i.Sprite);var i=e("./Sprite.mjs")},{"./Sprite.mjs":"kVrdd","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],kVrdd:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"Sprite",()=>l);var i=e("@pixi/core"),a=e("@pixi/display");let o=new i.Point,n=new Uint16Array([0,1,2,0,2,3]);class l extends a.Container{constructor(e){super(),this._anchor=new i.ObservablePoint(this._onAnchorUpdate,this,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),this._texture=null,this._width=0,this._height=0,this._tintColor=new i.Color(16777215),this._tintRGB=null,this.tint=16777215,this.blendMode=i.BLEND_MODES.NORMAL,this._cachedTint=16777215,this.uvs=null,this.texture=e||i.Texture.EMPTY,this.vertexData=new Float32Array(8),this.vertexTrimmedData=null,this._transformID=-1,this._textureID=-1,this._transformTrimmedID=-1,this._textureTrimmedID=-1,this.indices=n,this.pluginName="batch",this.isSprite=!0,this._roundPixels=i.settings.ROUND_PIXELS}_onTextureUpdate(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=(0,i.utils).sign(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=(0,i.utils).sign(this.scale.y)*this._height/this._texture.orig.height)}_onAnchorUpdate(){this._transformID=-1,this._transformTrimmedID=-1}calculateVertices(){let e=this._texture;if(this._transformID===this.transform._worldID&&this._textureID===e._updateID)return;this._textureID!==e._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=e._updateID;let t=this.transform.worldTransform,r=t.a,s=t.b,a=t.c,o=t.d,n=t.tx,l=t.ty,h=this.vertexData,u=e.trim,c=e.orig,d=this._anchor,p=0,m=0,f=0,_=0;if(u?(p=(m=u.x-d._x*c.width)+u.width,f=(_=u.y-d._y*c.height)+u.height):(p=(m=-d._x*c.width)+c.width,f=(_=-d._y*c.height)+c.height),h[0]=r*m+a*_+n,h[1]=o*_+s*m+l,h[2]=r*p+a*_+n,h[3]=o*_+s*p+l,h[4]=r*p+a*f+n,h[5]=o*f+s*p+l,h[6]=r*m+a*f+n,h[7]=o*f+s*m+l,this._roundPixels){let e=i.settings.RESOLUTION;for(let t=0;t<h.length;++t)h[t]=Math.round(h[t]*e)/e}}calculateTrimmedVertices(){if(this.vertexTrimmedData){if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return}else this.vertexTrimmedData=new Float32Array(8);this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;let e=this._texture,t=this.vertexTrimmedData,r=e.orig,s=this._anchor,a=this.transform.worldTransform,o=a.a,n=a.b,l=a.c,h=a.d,u=a.tx,c=a.ty,d=-s._x*r.width,p=d+r.width,m=-s._y*r.height,f=m+r.height;if(t[0]=o*d+l*m+u,t[1]=h*m+n*d+c,t[2]=o*p+l*m+u,t[3]=h*m+n*p+c,t[4]=o*p+l*f+u,t[5]=h*f+n*p+c,t[6]=o*d+l*f+u,t[7]=h*f+n*d+c,this._roundPixels){let e=i.settings.RESOLUTION;for(let r=0;r<t.length;++r)t[r]=Math.round(t[r]*e)/e}}_render(e){this.calculateVertices(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)}_calculateBounds(){let e=this._texture.trim,t=this._texture.orig;e&&(e.width!==t.width||e.height!==t.height)?(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData)):(this.calculateVertices(),this._bounds.addQuad(this.vertexData))}getLocalBounds(e){return 0===this.children.length?(this._localBounds||(this._localBounds=new a.Bounds),this._localBounds.minX=-(this._texture.orig.width*this._anchor._x),this._localBounds.minY=-(this._texture.orig.height*this._anchor._y),this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new i.Rectangle),e=this._localBoundsRect),this._localBounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,o);let t=this._texture.orig.width,r=this._texture.orig.height,s=-t*this.anchor.x,i=0;return o.x>=s&&o.x<s+t&&(i=-r*this.anchor.y,o.y>=i&&o.y<i+r)}destroy(e){if(super.destroy(e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,"boolean"==typeof e?e:e?.texture){let t="boolean"==typeof e?e:e?.baseTexture;this._texture.destroy(!!t)}this._texture=null}static from(e,t){return new l(e instanceof i.Texture?e:(0,i.Texture).from(e,t))}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1,this._transformTrimmedID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(e){let t=(0,i.utils).sign(this.scale.x)||1;this.scale.x=t*e/this._texture.orig.width,this._width=e}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(e){let t=(0,i.utils).sign(this.scale.y)||1;this.scale.y=t*e/this._texture.orig.height,this._height=e}get anchor(){return this._anchor}set anchor(e){this._anchor.copyFrom(e)}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber()}get tintValue(){return this._tintColor.toNumber()}get texture(){return this._texture}set texture(e){this._texture!==e&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=e||i.Texture.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,e&&(e.baseTexture.valid?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))}}},{"@pixi/core":"dUVGa","@pixi/display":"2blAU","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"3BGw4":[function(e,t,r){var s=e("@pixi/display");s.DisplayObject.prototype.name=null,s.Container.prototype.getChildByName=function(e,t){for(let t=0,r=this.children.length;t<r;t++)if(this.children[t].name===e)return this.children[t];if(t)for(let t=0,r=this.children.length;t<r;t++){let r=this.children[t];if(!r.getChildByName)continue;let s=r.getChildByName(e,!0);if(s)return s}return null}},{"@pixi/display":"2blAU"}],gqiHX:[function(e,t,r){var s=e("@pixi/core");e("@pixi/display").DisplayObject.prototype.getGlobalPosition=function(e=new s.Point,t=!1){return this.parent?this.parent.toGlobal(this.position,e,t):(e.x=this.position.x,e.y=this.position.y),e}},{"@pixi/core":"dUVGa","@pixi/display":"2blAU"}],be09W:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"filters",()=>c);var i=e("@pixi/core"),a=e("@pixi/filter-alpha"),o=e("@pixi/filter-blur"),n=e("@pixi/filter-color-matrix"),l=e("@pixi/filter-displacement"),h=e("@pixi/filter-fxaa"),u=e("@pixi/filter-noise");let c={AlphaFilter:a.AlphaFilter,BlurFilter:o.BlurFilter,BlurFilterPass:o.BlurFilterPass,ColorMatrixFilter:n.ColorMatrixFilter,DisplacementFilter:l.DisplacementFilter,FXAAFilter:h.FXAAFilter,NoiseFilter:u.NoiseFilter};Object.entries(c).forEach(([e,t])=>{Object.defineProperty(c,e,{get:()=>((0,i.utils).deprecation("7.1.0",`filters.${e} has moved to ${e}`),t)})})},{"@pixi/core":"dUVGa","@pixi/filter-alpha":"6aNvl","@pixi/filter-blur":"lUrpe","@pixi/filter-color-matrix":"6Uhgl","@pixi/filter-displacement":"jwAWV","@pixi/filter-fxaa":"gmNGn","@pixi/filter-noise":"3OO5g","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"6aNvl":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"AlphaFilter",()=>i.AlphaFilter);var i=e("./AlphaFilter.mjs")},{"./AlphaFilter.mjs":"gbmEa","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],gbmEa:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"AlphaFilter",()=>n);var i=e("@pixi/core"),a=e("./alpha.frag.mjs"),o=s.interopDefault(a);class n extends i.Filter{constructor(e=1){super(i.defaultVertex,o.default,{uAlpha:1}),this.alpha=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}},{"@pixi/core":"dUVGa","./alpha.frag.mjs":"gYR5m","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],gYR5m:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"default",()=>i);var i=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float uAlpha;

void main(void)
{
   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;
}
`},{"@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],lUrpe:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"BlurFilter",()=>i.BlurFilter),s.export(r,"BlurFilterPass",()=>a.BlurFilterPass);var i=e("./BlurFilter.mjs"),a=e("./BlurFilterPass.mjs")},{"./BlurFilter.mjs":"9rQG0","./BlurFilterPass.mjs":"kz9J3","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"9rQG0":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"BlurFilter",()=>o);var i=e("@pixi/core"),a=e("./BlurFilterPass.mjs");class o extends i.Filter{constructor(e=8,t=4,r=i.Filter.defaultResolution,s=5){super(),this._repeatEdgePixels=!1,this.blurXFilter=new a.BlurFilterPass(!0,e,t,r,s),this.blurYFilter=new a.BlurFilterPass(!1,e,t,r,s),this.resolution=r,this.quality=t,this.blur=e,this.repeatEdgePixels=!1}apply(e,t,r,s){let a=Math.abs(this.blurXFilter.strength),o=Math.abs(this.blurYFilter.strength);if(a&&o){let a=e.getFilterTexture();this.blurXFilter.apply(e,t,a,i.CLEAR_MODES.CLEAR),this.blurYFilter.apply(e,a,r,s),e.returnFilterTexture(a)}else o?this.blurYFilter.apply(e,t,r,s):this.blurXFilter.apply(e,t,r,s)}updatePadding(){this._repeatEdgePixels?this.padding=0:this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}get blur(){return this.blurXFilter.blur}set blur(e){this.blurXFilter.blur=this.blurYFilter.blur=e,this.updatePadding()}get quality(){return this.blurXFilter.quality}set quality(e){this.blurXFilter.quality=this.blurYFilter.quality=e}get blurX(){return this.blurXFilter.blur}set blurX(e){this.blurXFilter.blur=e,this.updatePadding()}get blurY(){return this.blurYFilter.blur}set blurY(e){this.blurYFilter.blur=e,this.updatePadding()}get blendMode(){return this.blurYFilter.blendMode}set blendMode(e){this.blurYFilter.blendMode=e}get repeatEdgePixels(){return this._repeatEdgePixels}set repeatEdgePixels(e){this._repeatEdgePixels=e,this.updatePadding()}}},{"@pixi/core":"dUVGa","./BlurFilterPass.mjs":"kz9J3","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],kz9J3:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"BlurFilterPass",()=>n);var i=e("@pixi/core"),a=e("./generateBlurFragSource.mjs"),o=e("./generateBlurVertSource.mjs");class n extends i.Filter{constructor(e,t=8,r=4,s=i.Filter.defaultResolution,n=5){super((0,o.generateBlurVertSource)(n,e),(0,a.generateBlurFragSource)(n)),this.horizontal=e,this.resolution=s,this._quality=0,this.quality=r,this.blur=t}apply(e,t,r,s){if(r?this.horizontal?this.uniforms.strength=1/r.width*(r.width/t.width):this.uniforms.strength=1/r.height*(r.height/t.height):this.horizontal?this.uniforms.strength=1/e.renderer.width*(e.renderer.width/t.width):this.uniforms.strength=1/e.renderer.height*(e.renderer.height/t.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)e.applyFilter(this,t,r,s);else{let a=e.getFilterTexture(),o=e.renderer,n=t,l=a;this.state.blend=!1,e.applyFilter(this,n,l,i.CLEAR_MODES.CLEAR);for(let t=1;t<this.passes-1;t++){e.bindAndClear(n,i.CLEAR_MODES.BLIT),this.uniforms.uSampler=l;let t=l;l=n,n=t,o.shader.bind(this),o.geometry.draw(5)}this.state.blend=!0,e.applyFilter(this,l,r,s),e.returnFilterTexture(a)}}get blur(){return this.strength}set blur(e){this.padding=1+2*Math.abs(e),this.strength=e}get quality(){return this._quality}set quality(e){this._quality=e,this.passes=e}}},{"@pixi/core":"dUVGa","./generateBlurFragSource.mjs":"dgPJj","./generateBlurVertSource.mjs":"hLv6l","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],dgPJj:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"generateBlurFragSource",()=>o);let i={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},a=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join(`
`);function o(e){let t;let r=i[e],s=r.length,o=a,n="";for(let i=0;i<e;i++){let a="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;".replace("%index%",i.toString());t=i,i>=s&&(t=e-i-1),n+=(a=a.replace("%value%",r[t].toString()))+`
`}return(o=o.replace("%blur%",n)).replace("%size%",e.toString())}},{"@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],hLv6l:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"generateBlurVertSource",()=>a);let i=`
    attribute vec2 aVertexPosition;

    uniform mat3 projectionMatrix;

    uniform float strength;

    varying vec2 vBlurTexCoords[%size%];

    uniform vec4 inputSize;
    uniform vec4 outputFrame;

    vec4 filterVertexPosition( void )
    {
        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
    }

    vec2 filterTextureCoord( void )
    {
        return aVertexPosition * (outputFrame.zw * inputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;function a(e,t){let r=Math.ceil(e/2),s=i,a="",o;o=t?"vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":"vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(let t=0;t<e;t++){let e=o.replace("%index%",t.toString());a+=(e=e.replace("%sampleIndex%",`${t-(r-1)}.0`))+`
`}return(s=s.replace("%blur%",a)).replace("%size%",e.toString())}},{"@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"6Uhgl":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"ColorMatrixFilter",()=>i.ColorMatrixFilter);var i=e("./ColorMatrixFilter.mjs")},{"./ColorMatrixFilter.mjs":"9WmHa","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"9WmHa":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"ColorMatrixFilter",()=>n);var i=e("@pixi/core"),a=e("./colorMatrix.frag.mjs"),o=s.interopDefault(a);class n extends i.Filter{constructor(){super(i.defaultFilterVertex,o.default,{m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1}),this.alpha=1}_loadMatrix(e,t=!1){let r=e;t&&(this._multiply(r,this.uniforms.m,e),r=this._colorMatrix(r)),this.uniforms.m=r}_multiply(e,t,r){return e[0]=t[0]*r[0]+t[1]*r[5]+t[2]*r[10]+t[3]*r[15],e[1]=t[0]*r[1]+t[1]*r[6]+t[2]*r[11]+t[3]*r[16],e[2]=t[0]*r[2]+t[1]*r[7]+t[2]*r[12]+t[3]*r[17],e[3]=t[0]*r[3]+t[1]*r[8]+t[2]*r[13]+t[3]*r[18],e[4]=t[0]*r[4]+t[1]*r[9]+t[2]*r[14]+t[3]*r[19]+t[4],e[5]=t[5]*r[0]+t[6]*r[5]+t[7]*r[10]+t[8]*r[15],e[6]=t[5]*r[1]+t[6]*r[6]+t[7]*r[11]+t[8]*r[16],e[7]=t[5]*r[2]+t[6]*r[7]+t[7]*r[12]+t[8]*r[17],e[8]=t[5]*r[3]+t[6]*r[8]+t[7]*r[13]+t[8]*r[18],e[9]=t[5]*r[4]+t[6]*r[9]+t[7]*r[14]+t[8]*r[19]+t[9],e[10]=t[10]*r[0]+t[11]*r[5]+t[12]*r[10]+t[13]*r[15],e[11]=t[10]*r[1]+t[11]*r[6]+t[12]*r[11]+t[13]*r[16],e[12]=t[10]*r[2]+t[11]*r[7]+t[12]*r[12]+t[13]*r[17],e[13]=t[10]*r[3]+t[11]*r[8]+t[12]*r[13]+t[13]*r[18],e[14]=t[10]*r[4]+t[11]*r[9]+t[12]*r[14]+t[13]*r[19]+t[14],e[15]=t[15]*r[0]+t[16]*r[5]+t[17]*r[10]+t[18]*r[15],e[16]=t[15]*r[1]+t[16]*r[6]+t[17]*r[11]+t[18]*r[16],e[17]=t[15]*r[2]+t[16]*r[7]+t[17]*r[12]+t[18]*r[17],e[18]=t[15]*r[3]+t[16]*r[8]+t[17]*r[13]+t[18]*r[18],e[19]=t[15]*r[4]+t[16]*r[9]+t[17]*r[14]+t[18]*r[19]+t[19],e}_colorMatrix(e){let t=new Float32Array(e);return t[4]/=255,t[9]/=255,t[14]/=255,t[19]/=255,t}brightness(e,t){this._loadMatrix([e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0],t)}tint(e,t){let[r,s,a]=(0,i.Color).shared.setValue(e).toArray();this._loadMatrix([r,0,0,0,0,0,s,0,0,0,0,0,a,0,0,0,0,0,1,0],t)}greyscale(e,t){this._loadMatrix([e,e,e,0,0,e,e,e,0,0,e,e,e,0,0,0,0,0,1,0],t)}blackAndWhite(e){this._loadMatrix([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],e)}hue(e,t){let r=Math.cos(e=(e||0)/180*Math.PI),s=Math.sin(e),i=1/3,a=(0,Math.sqrt)(1/3);this._loadMatrix([r+(1-r)*i,i*(1-r)-a*s,i*(1-r)+a*s,0,0,i*(1-r)+a*s,r+i*(1-r),i*(1-r)-a*s,0,0,i*(1-r)-a*s,i*(1-r)+a*s,r+i*(1-r),0,0,0,0,0,1,0],t)}contrast(e,t){let r=(e||0)+1,s=-.5*(r-1);this._loadMatrix([r,0,0,0,s,0,r,0,0,s,0,0,r,0,s,0,0,0,1,0],t)}saturate(e=0,t){let r=2*e/3+1,s=-((r-1)*.5);this._loadMatrix([r,s,s,0,0,s,r,s,0,0,s,s,r,0,0,0,0,0,1,0],t)}desaturate(){this.saturate(-1)}negative(e){this._loadMatrix([-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],e)}sepia(e){this._loadMatrix([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],e)}technicolor(e){this._loadMatrix([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],e)}polaroid(e){this._loadMatrix([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],e)}toBGR(e){this._loadMatrix([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],e)}kodachrome(e){this._loadMatrix([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],e)}browni(e){this._loadMatrix([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],e)}vintage(e){this._loadMatrix([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],e)}colorTone(e,t,r,s,a){e=e||.2,t=t||.15,r=r||16770432,s=s||3375104;let o=i.Color.shared,[n,l,h]=o.setValue(r).toArray(),[u,c,d]=o.setValue(s).toArray(),p=[.3,.59,.11,0,0,n,l,h,e,0,u,c,d,t,0,n-u,l-c,h-d,0,0];this._loadMatrix(p,a)}night(e,t){let r=[-2*(e=e||.1),-e,0,0,0,-e,0,e,0,0,0,e,2*e,0,0,0,0,0,1,0];this._loadMatrix(r,t)}predator(e,t){this._loadMatrix([11.224130630493164*e,-4.794486999511719*e,-2.8746118545532227*e,0*e,.40342438220977783*e,-3.6330697536468506*e,9.193157196044922*e,-2.951810836791992*e,0*e,-1.316135048866272*e,-3.2184197902679443*e,-4.2375030517578125*e,7.476448059082031*e,0*e,.8044459223747253*e,0,0,0,1,0],t)}lsd(e){this._loadMatrix([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],e)}reset(){this._loadMatrix([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],!1)}get matrix(){return this.uniforms.m}set matrix(e){this.uniforms.m=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}n.prototype.grayscale=n.prototype.greyscale},{"@pixi/core":"dUVGa","./colorMatrix.frag.mjs":"51N3H","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"51N3H":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"default",()=>i);var i=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float m[20];
uniform float uAlpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (uAlpha == 0.0) {
        gl_FragColor = c;
        return;
    }

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (c.a > 0.0) {
      c.rgb /= c.a;
    }

    vec4 result;

    result.r = (m[0] * c.r);
        result.r += (m[1] * c.g);
        result.r += (m[2] * c.b);
        result.r += (m[3] * c.a);
        result.r += m[4];

    result.g = (m[5] * c.r);
        result.g += (m[6] * c.g);
        result.g += (m[7] * c.b);
        result.g += (m[8] * c.a);
        result.g += m[9];

    result.b = (m[10] * c.r);
       result.b += (m[11] * c.g);
       result.b += (m[12] * c.b);
       result.b += (m[13] * c.a);
       result.b += m[14];

    result.a = (m[15] * c.r);
       result.a += (m[16] * c.g);
       result.a += (m[17] * c.b);
       result.a += (m[18] * c.a);
       result.a += m[19];

    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);

    // Premultiply alpha again.
    rgb *= result.a;

    gl_FragColor = vec4(rgb, result.a);
}
`},{"@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],jwAWV:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"DisplacementFilter",()=>i.DisplacementFilter);var i=e("./DisplacementFilter.mjs")},{"./DisplacementFilter.mjs":"32Lrd","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"32Lrd":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"DisplacementFilter",()=>h);var i=e("@pixi/core"),a=e("./displacement.frag.mjs"),o=s.interopDefault(a),n=e("./displacement.vert.mjs"),l=s.interopDefault(n);class h extends i.Filter{constructor(e,t){let r=new i.Matrix;e.renderable=!1,super(l.default,o.default,{mapSampler:e._texture,filterMatrix:r,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])}),this.maskSprite=e,this.maskMatrix=r,null==t&&(t=20),this.scale=new i.Point(t,t)}apply(e,t,r,s){this.uniforms.filterMatrix=e.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;let i=this.maskSprite.worldTransform,a=Math.sqrt(i.a*i.a+i.b*i.b),o=Math.sqrt(i.c*i.c+i.d*i.d);0!==a&&0!==o&&(this.uniforms.rotation[0]=i.a/a,this.uniforms.rotation[1]=i.b/a,this.uniforms.rotation[2]=i.c/o,this.uniforms.rotation[3]=i.d/o),e.applyFilter(this,t,r,s)}get map(){return this.uniforms.mapSampler}set map(e){this.uniforms.mapSampler=e}}},{"@pixi/core":"dUVGa","./displacement.frag.mjs":"2XHtd","./displacement.vert.mjs":"jOFSy","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"2XHtd":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"default",()=>i);var i=`varying vec2 vFilterCoord;
varying vec2 vTextureCoord;

uniform vec2 scale;
uniform mat2 rotation;
uniform sampler2D uSampler;
uniform sampler2D mapSampler;

uniform highp vec4 inputSize;
uniform vec4 inputClamp;

void main(void)
{
  vec4 map =  texture2D(mapSampler, vFilterCoord);

  map -= 0.5;
  map.xy = scale * inputSize.zw * (rotation * map.xy);

  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));
}
`},{"@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],jOFSy:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"default",()=>i);var i=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;
uniform mat3 filterMatrix;

varying vec2 vTextureCoord;
varying vec2 vFilterCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
	gl_Position = filterVertexPosition();
	vTextureCoord = filterTextureCoord();
	vFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;
}
`},{"@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],gmNGn:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"FXAAFilter",()=>i.FXAAFilter);var i=e("./FXAAFilter.mjs")},{"./FXAAFilter.mjs":"hifWO","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],hifWO:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"FXAAFilter",()=>h);var i=e("@pixi/core"),a=e("./fxaa.frag.mjs"),o=s.interopDefault(a),n=e("./fxaa.vert.mjs"),l=s.interopDefault(n);class h extends i.Filter{constructor(){super(l.default,o.default)}}},{"@pixi/core":"dUVGa","./fxaa.frag.mjs":"1YON0","./fxaa.vert.mjs":"iJWro","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"1YON0":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"default",()=>i);var i=`varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;
uniform sampler2D uSampler;
uniform highp vec4 inputSize;


/**
 Basic FXAA implementation based on the code on geeks3d.com with the
 modification that the texture2DLod stuff was removed since it's
 unsupported by WebGL.

 --

 From:
 https://github.com/mitsuhiko/webgl-meincraft

 Copyright (c) 2011 by Armin Ronacher.

 Some rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are
 met:

 * Redistributions of source code must retain the above copyright
 notice, this list of conditions and the following disclaimer.

 * Redistributions in binary form must reproduce the above
 copyright notice, this list of conditions and the following
 disclaimer in the documentation and/or other materials provided
 with the distribution.

 * The names of the contributors may not be used to endorse or
 promote products derived from this software without specific
 prior written permission.

 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

#ifndef FXAA_REDUCE_MIN
#define FXAA_REDUCE_MIN   (1.0/ 128.0)
#endif
#ifndef FXAA_REDUCE_MUL
#define FXAA_REDUCE_MUL   (1.0 / 8.0)
#endif
#ifndef FXAA_SPAN_MAX
#define FXAA_SPAN_MAX     8.0
#endif

//optimized version for mobile, where dependent
//texture reads can be a bottleneck
vec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,
          vec2 v_rgbNW, vec2 v_rgbNE,
          vec2 v_rgbSW, vec2 v_rgbSE,
          vec2 v_rgbM) {
    vec4 color;
    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;
    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;
    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;
    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;
    vec4 texColor = texture2D(tex, v_rgbM);
    vec3 rgbM  = texColor.xyz;
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

    mediump vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);

    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
                  dir * rcpDirMin)) * inverseVP;

    vec3 rgbA = 0.5 * (
                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +
                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +
                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);

    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, texColor.a);
    else
        color = vec4(rgbB, texColor.a);
    return color;
}

void main() {

      vec4 color;

      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);

      gl_FragColor = color;
}
`},{"@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],iJWro:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"default",()=>i);var i=`
attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

void texcoords(vec2 fragCoord, vec2 inverseVP,
               out vec2 v_rgbNW, out vec2 v_rgbNE,
               out vec2 v_rgbSW, out vec2 v_rgbSE,
               out vec2 v_rgbM) {
    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;
    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;
    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;
    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;
    v_rgbM = vec2(fragCoord * inverseVP);
}

void main(void) {

   gl_Position = filterVertexPosition();

   vFragCoord = aVertexPosition * outputFrame.zw;

   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);
}
`},{"@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"3OO5g":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"NoiseFilter",()=>i.NoiseFilter);var i=e("./NoiseFilter.mjs")},{"./NoiseFilter.mjs":"9x1IG","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"9x1IG":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"NoiseFilter",()=>n);var i=e("@pixi/core"),a=e("./noise.frag.mjs"),o=s.interopDefault(a);class n extends i.Filter{constructor(e=.5,t=Math.random()){super(i.defaultFilterVertex,o.default,{uNoise:0,uSeed:0}),this.noise=e,this.seed=t}get noise(){return this.uniforms.uNoise}set noise(e){this.uniforms.uNoise=e}get seed(){return this.uniforms.uSeed}set seed(e){this.uniforms.uSeed=e}}},{"@pixi/core":"dUVGa","./noise.frag.mjs":"jGn3G","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],jGn3G:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"default",()=>i);var i=`precision highp float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform float uNoise;
uniform float uSeed;
uniform sampler2D uSampler;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture2D(uSampler, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * uSeed);
    float diff = (randomValue - 0.5) * uNoise;

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    color.r += diff;
    color.g += diff;
    color.b += diff;

    // Premultiply alpha again.
    color.rgb *= color.a;

    gl_FragColor = color;
}
`},{"@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"6sAgn":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"AccessibilityManager",()=>i.AccessibilityManager),s.export(r,"accessibleTarget",()=>a.accessibleTarget);var i=e("./AccessibilityManager.mjs"),a=e("./accessibleTarget.mjs")},{"./AccessibilityManager.mjs":"krB3H","./accessibleTarget.mjs":"5UlFB","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],krB3H:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"AccessibilityManager",()=>l);var i=e("@pixi/core"),a=e("@pixi/display"),o=e("@pixi/events"),n=e("./accessibleTarget.mjs");(0,a.DisplayObject).mixin(n.accessibleTarget);class l{constructor(e){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(i.utils.isMobile.tablet||i.utils.isMobile.phone)&&this.createTouchHook();let t=document.createElement("div");t.style.width="100px",t.style.height="100px",t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.style.zIndex="2",this.div=t,this.renderer=e,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}get isActive(){return this._isActive}get isMobileAccessibility(){return this._isMobileAccessibility}createTouchHook(){let e=document.createElement("button");e.style.width="1px",e.style.height="1px",e.style.position="absolute",e.style.top="-1000px",e.style.left="-1000px",e.style.zIndex="2",e.style.backgroundColor="#FF0000",e.title="select to enable accessibility for this content",e.addEventListener("focus",()=>{this._isMobileAccessibility=!0,this.activate(),this.destroyTouchHook()}),document.body.appendChild(e),this._hookDiv=e}destroyTouchHook(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)}activate(){this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),this.renderer.view.parentNode?.appendChild(this.div))}deactivate(){!this._isActive||this._isMobileAccessibility||(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),this.div.parentNode?.removeChild(this.div))}updateAccessibleObjects(e){if(!e.visible||!e.accessibleChildren)return;e.accessible&&e.isInteractive()&&(e._accessibleActive||this.addChild(e),e.renderId=this.renderId);let t=e.children;if(t)for(let e=0;e<t.length;e++)this.updateAccessibleObjects(t[e])}update(){let e=performance.now();if(i.utils.isMobile.android.device&&e<this.androidUpdateCount||(this.androidUpdateCount=e+this.androidUpdateFrequency,!this.renderer.renderingToScreen))return;this.renderer.lastObjectRendered&&this.updateAccessibleObjects(this.renderer.lastObjectRendered);let{x:t,y:r,width:s,height:a}=this.renderer.view.getBoundingClientRect(),{width:o,height:n,resolution:l}=this.renderer,h=s/o*l,u=a/n*l,c=this.div;c.style.left=`${t}px`,c.style.top=`${r}px`,c.style.width=`${o}px`,c.style.height=`${n}px`;for(let e=0;e<this.children.length;e++){let t=this.children[e];if(t.renderId!==this.renderId)t._accessibleActive=!1,(0,i.utils).removeItems(this.children,e,1),this.div.removeChild(t._accessibleDiv),this.pool.push(t._accessibleDiv),t._accessibleDiv=null,e--;else{c=t._accessibleDiv;let e=t.hitArea,r=t.worldTransform;t.hitArea?(c.style.left=`${(r.tx+e.x*r.a)*h}px`,c.style.top=`${(r.ty+e.y*r.d)*u}px`,c.style.width=`${e.width*r.a*h}px`,c.style.height=`${e.height*r.d*u}px`):(e=t.getBounds(),this.capHitArea(e),c.style.left=`${e.x*h}px`,c.style.top=`${e.y*u}px`,c.style.width=`${e.width*h}px`,c.style.height=`${e.height*u}px`,c.title!==t.accessibleTitle&&null!==t.accessibleTitle&&(c.title=t.accessibleTitle),c.getAttribute("aria-label")!==t.accessibleHint&&null!==t.accessibleHint&&c.setAttribute("aria-label",t.accessibleHint)),(t.accessibleTitle!==c.title||t.tabIndex!==c.tabIndex)&&(c.title=t.accessibleTitle,c.tabIndex=t.tabIndex,this.debug&&this.updateDebugHTML(c))}}this.renderId++}updateDebugHTML(e){e.innerHTML=`type: ${e.type}</br> title : ${e.title}</br> tabIndex: ${e.tabIndex}`}capHitArea(e){e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0);let{width:t,height:r}=this.renderer;e.x+e.width>t&&(e.width=t-e.x),e.y+e.height>r&&(e.height=r-e.y)}addChild(e){let t=this.pool.pop();t||((t=document.createElement("button")).style.width="100px",t.style.height="100px",t.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",t.style.position="absolute",t.style.zIndex="2",t.style.borderStyle="none",navigator.userAgent.toLowerCase().includes("chrome")?t.setAttribute("aria-live","off"):t.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?t.setAttribute("aria-relevant","additions"):t.setAttribute("aria-relevant","text"),t.addEventListener("click",this._onClick.bind(this)),t.addEventListener("focus",this._onFocus.bind(this)),t.addEventListener("focusout",this._onFocusOut.bind(this))),t.style.pointerEvents=e.accessiblePointerEvents,t.type=e.accessibleType,e.accessibleTitle&&null!==e.accessibleTitle?t.title=e.accessibleTitle:e.accessibleHint&&null!==e.accessibleHint||(t.title=`displayObject ${e.tabIndex}`),e.accessibleHint&&null!==e.accessibleHint&&t.setAttribute("aria-label",e.accessibleHint),this.debug&&this.updateDebugHTML(t),e._accessibleActive=!0,e._accessibleDiv=t,t.displayObject=e,this.children.push(e),this.div.appendChild(e._accessibleDiv),e._accessibleDiv.tabIndex=e.tabIndex}_dispatchEvent(e,t){let{displayObject:r}=e.target,s=this.renderer.events.rootBoundary,i=Object.assign(new o.FederatedEvent(s),{target:r});s.rootTarget=this.renderer.lastObjectRendered,t.forEach(e=>s.dispatchEvent(i,e))}_onClick(e){this._dispatchEvent(e,["click","pointertap","tap"])}_onFocus(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","assertive"),this._dispatchEvent(e,["mouseover"])}_onFocusOut(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","polite"),this._dispatchEvent(e,["mouseout"])}_onKeyDown(e){9===e.keyCode&&this.activate()}_onMouseMove(e){0===e.movementX&&0===e.movementY||this.deactivate()}destroy(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null}}l.extension={name:"accessibility",type:[i.ExtensionType.RendererPlugin,i.ExtensionType.CanvasRendererPlugin]},(0,i.extensions).add(l)},{"@pixi/core":"dUVGa","@pixi/display":"2blAU","@pixi/events":"heHeF","./accessibleTarget.mjs":"5UlFB","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],heHeF:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"EventBoundary",()=>i.EventBoundary),s.export(r,"EventSystem",()=>a.EventSystem),s.export(r,"FederatedDisplayObject",()=>n.FederatedDisplayObject),s.export(r,"FederatedEvent",()=>o.FederatedEvent),s.export(r,"FederatedMouseEvent",()=>l.FederatedMouseEvent),s.export(r,"FederatedPointerEvent",()=>h.FederatedPointerEvent),s.export(r,"FederatedWheelEvent",()=>u.FederatedWheelEvent);var i=e("./EventBoundary.mjs"),a=e("./EventSystem.mjs"),o=e("./FederatedEvent.mjs");e("./FederatedEventMap.mjs");var n=e("./FederatedEventTarget.mjs"),l=e("./FederatedMouseEvent.mjs"),h=e("./FederatedPointerEvent.mjs"),u=e("./FederatedWheelEvent.mjs")},{"./EventBoundary.mjs":"17DbG","./EventSystem.mjs":"9xnd1","./FederatedEvent.mjs":"ksRzu","./FederatedEventMap.mjs":"6VJEe","./FederatedEventTarget.mjs":"4xVQb","./FederatedMouseEvent.mjs":"0Hdkf","./FederatedPointerEvent.mjs":"8781L","./FederatedWheelEvent.mjs":"hMTID","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"17DbG":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"EventBoundary",()=>c);var i=e("@pixi/core"),a=e("./EventTicker.mjs"),o=e("./FederatedMouseEvent.mjs"),n=e("./FederatedPointerEvent.mjs"),l=e("./FederatedWheelEvent.mjs");let h=new i.Point,u=new i.Point;class c{constructor(e){this.dispatch=new i.utils.EventEmitter,this.moveOnAll=!1,this.enableGlobalMoveEvents=!0,this.mappingState={trackingData:{}},this.eventPool=new Map,this._allInteractiveElements=[],this._hitElements=[],this._isPointerMoveEvent=!1,this.rootTarget=e,this.hitPruneFn=this.hitPruneFn.bind(this),this.hitTestFn=this.hitTestFn.bind(this),this.mapPointerDown=this.mapPointerDown.bind(this),this.mapPointerMove=this.mapPointerMove.bind(this),this.mapPointerOut=this.mapPointerOut.bind(this),this.mapPointerOver=this.mapPointerOver.bind(this),this.mapPointerUp=this.mapPointerUp.bind(this),this.mapPointerUpOutside=this.mapPointerUpOutside.bind(this),this.mapWheel=this.mapWheel.bind(this),this.mappingTable={},this.addEventMapping("pointerdown",this.mapPointerDown),this.addEventMapping("pointermove",this.mapPointerMove),this.addEventMapping("pointerout",this.mapPointerOut),this.addEventMapping("pointerleave",this.mapPointerOut),this.addEventMapping("pointerover",this.mapPointerOver),this.addEventMapping("pointerup",this.mapPointerUp),this.addEventMapping("pointerupoutside",this.mapPointerUpOutside),this.addEventMapping("wheel",this.mapWheel)}addEventMapping(e,t){this.mappingTable[e]||(this.mappingTable[e]=[]),this.mappingTable[e].push({fn:t,priority:0}),this.mappingTable[e].sort((e,t)=>e.priority-t.priority)}dispatchEvent(e,t){e.propagationStopped=!1,e.propagationImmediatelyStopped=!1,this.propagate(e,t),this.dispatch.emit(t||e.type,e)}mapEvent(e){if(!this.rootTarget)return;let t=this.mappingTable[e.type];if(t)for(let r=0,s=t.length;r<s;r++)t[r].fn(e);else console.warn(`[EventBoundary]: Event mapping not defined for ${e.type}`)}hitTest(e,t){a.EventsTicker.pauseUpdate=!0;let r=this[this._isPointerMoveEvent&&this.enableGlobalMoveEvents?"hitTestMoveRecursive":"hitTestRecursive"](this.rootTarget,this.rootTarget.eventMode,h.set(e,t),this.hitTestFn,this.hitPruneFn);return r&&r[0]}propagate(e,t){if(!e.target)return;let r=e.composedPath();e.eventPhase=e.CAPTURING_PHASE;for(let s=0,i=r.length-1;s<i;s++)if(e.currentTarget=r[s],this.notifyTarget(e,t),e.propagationStopped||e.propagationImmediatelyStopped)return;if(e.eventPhase=e.AT_TARGET,e.currentTarget=e.target,this.notifyTarget(e,t),!(e.propagationStopped||e.propagationImmediatelyStopped)){e.eventPhase=e.BUBBLING_PHASE;for(let s=r.length-2;s>=0;s--)if(e.currentTarget=r[s],this.notifyTarget(e,t),e.propagationStopped||e.propagationImmediatelyStopped)return}}all(e,t,r=this._allInteractiveElements){if(0===r.length)return;e.eventPhase=e.BUBBLING_PHASE;let s=Array.isArray(t)?t:[t];for(let t=r.length-1;t>=0;t--)s.forEach(s=>{e.currentTarget=r[t],this.notifyTarget(e,s)})}propagationPath(e){let t=[e];for(let r=0;r<2048&&e!==this.rootTarget;r++){if(!e.parent)throw Error("Cannot find propagation path to disconnected target");t.push(e.parent),e=e.parent}return t.reverse(),t}hitTestMoveRecursive(e,t,r,s,i,o=!1){let n=!1;if(this._interactivePrune(e))return null;if(("dynamic"===e.eventMode||"dynamic"===t)&&(a.EventsTicker.pauseUpdate=!1),e.interactiveChildren&&e.children){let a=e.children;for(let l=a.length-1;l>=0;l--){let h=a[l],u=this.hitTestMoveRecursive(h,this._isInteractive(t)?t:h.eventMode,r,s,i,o||i(e,r));if(u){if(u.length>0&&!u[u.length-1].parent)continue;let t=e.isInteractive();(u.length>0||t)&&(t&&this._allInteractiveElements.push(e),u.push(e)),0===this._hitElements.length&&(this._hitElements=u),n=!0}}}let l=this._isInteractive(t),h=e.isInteractive();return l&&h&&this._allInteractiveElements.push(e),o||this._hitElements.length>0?null:n?this._hitElements:l&&!i(e,r)&&s(e,r)?h?[e]:[]:null}hitTestRecursive(e,t,r,s,i){if(this._interactivePrune(e)||i(e,r))return null;if(("dynamic"===e.eventMode||"dynamic"===t)&&(a.EventsTicker.pauseUpdate=!1),e.interactiveChildren&&e.children){let a=e.children;for(let o=a.length-1;o>=0;o--){let n=a[o],l=this.hitTestRecursive(n,this._isInteractive(t)?t:n.eventMode,r,s,i);if(l){if(l.length>0&&!l[l.length-1].parent)continue;let t=e.isInteractive();return(l.length>0||t)&&l.push(e),l}}}let o=this._isInteractive(t),n=e.isInteractive();return o&&s(e,r)?n?[e]:[]:null}_isInteractive(e){return"static"===e||"dynamic"===e}_interactivePrune(e){return!!(!e||e.isMask||!e.visible||!e.renderable||"none"===e.eventMode||"passive"===e.eventMode&&!e.interactiveChildren||e.isMask)}hitPruneFn(e,t){if(e.hitArea&&(e.worldTransform.applyInverse(t,u),!e.hitArea.contains(u.x,u.y)))return!0;if(e._mask){let r=e._mask.isMaskData?e._mask.maskObject:e._mask;if(r&&!r.containsPoint?.(t))return!0}return!1}hitTestFn(e,t){return"passive"!==e.eventMode&&(!!e.hitArea||!!e.containsPoint&&e.containsPoint(t))}notifyTarget(e,t){t=t??e.type;let r=`on${t}`;e.currentTarget[r]?.(e);let s=e.eventPhase===e.CAPTURING_PHASE||e.eventPhase===e.AT_TARGET?`${t}capture`:t;this.notifyListeners(e,s),e.eventPhase===e.AT_TARGET&&this.notifyListeners(e,t)}mapPointerDown(e){if(!(e instanceof n.FederatedPointerEvent)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}let t=this.createPointerEvent(e);if(this.dispatchEvent(t,"pointerdown"),"touch"===t.pointerType)this.dispatchEvent(t,"touchstart");else if("mouse"===t.pointerType||"pen"===t.pointerType){let e=2===t.button;this.dispatchEvent(t,e?"rightdown":"mousedown")}this.trackingData(e.pointerId).pressTargetsByButton[e.button]=t.composedPath(),this.freeEvent(t)}mapPointerMove(e){if(!(e instanceof n.FederatedPointerEvent)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}this._allInteractiveElements.length=0,this._hitElements.length=0,this._isPointerMoveEvent=!0;let t=this.createPointerEvent(e);this._isPointerMoveEvent=!1;let r="mouse"===t.pointerType||"pen"===t.pointerType,s=this.trackingData(e.pointerId),i=this.findMountedTarget(s.overTargets);if(s.overTargets?.length>0&&i!==t.target){let s="mousemove"===e.type?"mouseout":"pointerout",a=this.createPointerEvent(e,s,i);if(this.dispatchEvent(a,"pointerout"),r&&this.dispatchEvent(a,"mouseout"),!t.composedPath().includes(i)){let s=this.createPointerEvent(e,"pointerleave",i);for(s.eventPhase=s.AT_TARGET;s.target&&!t.composedPath().includes(s.target);)s.currentTarget=s.target,this.notifyTarget(s),r&&this.notifyTarget(s,"mouseleave"),s.target=s.target.parent;this.freeEvent(s)}this.freeEvent(a)}if(i!==t.target){let s="mousemove"===e.type?"mouseover":"pointerover",a=this.clonePointerEvent(t,s);this.dispatchEvent(a,"pointerover"),r&&this.dispatchEvent(a,"mouseover");let o=i?.parent;for(;o&&o!==this.rootTarget.parent&&o!==t.target;)o=o.parent;if(!o||o===this.rootTarget.parent){let e=this.clonePointerEvent(t,"pointerenter");for(e.eventPhase=e.AT_TARGET;e.target&&e.target!==i&&e.target!==this.rootTarget.parent;)e.currentTarget=e.target,this.notifyTarget(e),r&&this.notifyTarget(e,"mouseenter"),e.target=e.target.parent;this.freeEvent(e)}this.freeEvent(a)}let a=[],o=this.enableGlobalMoveEvents??!0;this.moveOnAll?a.push("pointermove"):this.dispatchEvent(t,"pointermove"),o&&a.push("globalpointermove"),"touch"===t.pointerType&&(this.moveOnAll?a.splice(1,0,"touchmove"):this.dispatchEvent(t,"touchmove"),o&&a.push("globaltouchmove")),r&&(this.moveOnAll?a.splice(1,0,"mousemove"):this.dispatchEvent(t,"mousemove"),o&&a.push("globalmousemove"),this.cursor=t.target?.cursor),a.length>0&&this.all(t,a),this._allInteractiveElements.length=0,this._hitElements.length=0,s.overTargets=t.composedPath(),this.freeEvent(t)}mapPointerOver(e){if(!(e instanceof n.FederatedPointerEvent)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}let t=this.trackingData(e.pointerId),r=this.createPointerEvent(e),s="mouse"===r.pointerType||"pen"===r.pointerType;this.dispatchEvent(r,"pointerover"),s&&this.dispatchEvent(r,"mouseover"),"mouse"===r.pointerType&&(this.cursor=r.target?.cursor);let i=this.clonePointerEvent(r,"pointerenter");for(i.eventPhase=i.AT_TARGET;i.target&&i.target!==this.rootTarget.parent;)i.currentTarget=i.target,this.notifyTarget(i),s&&this.notifyTarget(i,"mouseenter"),i.target=i.target.parent;t.overTargets=r.composedPath(),this.freeEvent(r),this.freeEvent(i)}mapPointerOut(e){if(!(e instanceof n.FederatedPointerEvent)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}let t=this.trackingData(e.pointerId);if(t.overTargets){let r="mouse"===e.pointerType||"pen"===e.pointerType,s=this.findMountedTarget(t.overTargets),i=this.createPointerEvent(e,"pointerout",s);this.dispatchEvent(i),r&&this.dispatchEvent(i,"mouseout");let a=this.createPointerEvent(e,"pointerleave",s);for(a.eventPhase=a.AT_TARGET;a.target&&a.target!==this.rootTarget.parent;)a.currentTarget=a.target,this.notifyTarget(a),r&&this.notifyTarget(a,"mouseleave"),a.target=a.target.parent;t.overTargets=null,this.freeEvent(i),this.freeEvent(a)}this.cursor=null}mapPointerUp(e){if(!(e instanceof n.FederatedPointerEvent)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}let t=performance.now(),r=this.createPointerEvent(e);if(this.dispatchEvent(r,"pointerup"),"touch"===r.pointerType)this.dispatchEvent(r,"touchend");else if("mouse"===r.pointerType||"pen"===r.pointerType){let e=2===r.button;this.dispatchEvent(r,e?"rightup":"mouseup")}let s=this.trackingData(e.pointerId),i=this.findMountedTarget(s.pressTargetsByButton[e.button]),a=i;if(i&&!r.composedPath().includes(i)){let t=i;for(;t&&!r.composedPath().includes(t);){if(r.currentTarget=t,this.notifyTarget(r,"pointerupoutside"),"touch"===r.pointerType)this.notifyTarget(r,"touchendoutside");else if("mouse"===r.pointerType||"pen"===r.pointerType){let e=2===r.button;this.notifyTarget(r,e?"rightupoutside":"mouseupoutside")}t=t.parent}delete s.pressTargetsByButton[e.button],a=t}if(a){let i=this.clonePointerEvent(r,"click");i.target=a,i.path=null,s.clicksByButton[e.button]||(s.clicksByButton[e.button]={clickCount:0,target:i.target,timeStamp:t});let o=s.clicksByButton[e.button];if(o.target===i.target&&t-o.timeStamp<200?++o.clickCount:o.clickCount=1,o.target=i.target,o.timeStamp=t,i.detail=o.clickCount,"mouse"===i.pointerType){let e=2===i.button;this.dispatchEvent(i,e?"rightclick":"click")}else"touch"===i.pointerType&&this.dispatchEvent(i,"tap");this.dispatchEvent(i,"pointertap"),this.freeEvent(i)}this.freeEvent(r)}mapPointerUpOutside(e){if(!(e instanceof n.FederatedPointerEvent)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}let t=this.trackingData(e.pointerId),r=this.findMountedTarget(t.pressTargetsByButton[e.button]),s=this.createPointerEvent(e);if(r){let i=r;for(;i;)s.currentTarget=i,this.notifyTarget(s,"pointerupoutside"),"touch"===s.pointerType?this.notifyTarget(s,"touchendoutside"):("mouse"===s.pointerType||"pen"===s.pointerType)&&this.notifyTarget(s,2===s.button?"rightupoutside":"mouseupoutside"),i=i.parent;delete t.pressTargetsByButton[e.button]}this.freeEvent(s)}mapWheel(e){if(!(e instanceof l.FederatedWheelEvent)){console.warn("EventBoundary cannot map a non-wheel event as a wheel event");return}let t=this.createWheelEvent(e);this.dispatchEvent(t),this.freeEvent(t)}findMountedTarget(e){if(!e)return null;let t=e[0];for(let r=1;r<e.length&&e[r].parent===t;r++)t=e[r];return t}createPointerEvent(e,t,r){let s=this.allocateEvent(n.FederatedPointerEvent);return this.copyPointerData(e,s),this.copyMouseData(e,s),this.copyData(e,s),s.nativeEvent=e.nativeEvent,s.originalEvent=e,s.target=r??this.hitTest(s.global.x,s.global.y)??this._hitElements[0],"string"==typeof t&&(s.type=t),s}createWheelEvent(e){let t=this.allocateEvent(l.FederatedWheelEvent);return this.copyWheelData(e,t),this.copyMouseData(e,t),this.copyData(e,t),t.nativeEvent=e.nativeEvent,t.originalEvent=e,t.target=this.hitTest(t.global.x,t.global.y),t}clonePointerEvent(e,t){let r=this.allocateEvent(n.FederatedPointerEvent);return r.nativeEvent=e.nativeEvent,r.originalEvent=e.originalEvent,this.copyPointerData(e,r),this.copyMouseData(e,r),this.copyData(e,r),r.target=e.target,r.path=e.composedPath().slice(),r.type=t??r.type,r}copyWheelData(e,t){t.deltaMode=e.deltaMode,t.deltaX=e.deltaX,t.deltaY=e.deltaY,t.deltaZ=e.deltaZ}copyPointerData(e,t){e instanceof n.FederatedPointerEvent&&t instanceof n.FederatedPointerEvent&&(t.pointerId=e.pointerId,t.width=e.width,t.height=e.height,t.isPrimary=e.isPrimary,t.pointerType=e.pointerType,t.pressure=e.pressure,t.tangentialPressure=e.tangentialPressure,t.tiltX=e.tiltX,t.tiltY=e.tiltY,t.twist=e.twist)}copyMouseData(e,t){e instanceof o.FederatedMouseEvent&&t instanceof o.FederatedMouseEvent&&(t.altKey=e.altKey,t.button=e.button,t.buttons=e.buttons,t.client.copyFrom(e.client),t.ctrlKey=e.ctrlKey,t.metaKey=e.metaKey,t.movement.copyFrom(e.movement),t.screen.copyFrom(e.screen),t.shiftKey=e.shiftKey,t.global.copyFrom(e.global))}copyData(e,t){t.isTrusted=e.isTrusted,t.srcElement=e.srcElement,t.timeStamp=performance.now(),t.type=e.type,t.detail=e.detail,t.view=e.view,t.which=e.which,t.layer.copyFrom(e.layer),t.page.copyFrom(e.page)}trackingData(e){return this.mappingState.trackingData[e]||(this.mappingState.trackingData[e]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[e]}allocateEvent(e){this.eventPool.has(e)||this.eventPool.set(e,[]);let t=this.eventPool.get(e).pop()||new e(this);return t.eventPhase=t.NONE,t.currentTarget=null,t.path=null,t.target=null,t}freeEvent(e){if(e.manager!==this)throw Error("It is illegal to free an event not managed by this EventBoundary!");let t=e.constructor;this.eventPool.has(t)||this.eventPool.set(t,[]),this.eventPool.get(t).push(e)}notifyListeners(e,t){let r=e.currentTarget._events[t];if(r&&e.currentTarget.isInteractive()){if("fn"in r)r.once&&e.currentTarget.removeListener(t,r.fn,void 0,!0),r.fn.call(r.context,e);else for(let s=0,i=r.length;s<i&&!e.propagationImmediatelyStopped;s++)r[s].once&&e.currentTarget.removeListener(t,r[s].fn,void 0,!0),r[s].fn.call(r[s].context,e)}}}},{"@pixi/core":"dUVGa","./EventTicker.mjs":"al76w","./FederatedMouseEvent.mjs":"0Hdkf","./FederatedPointerEvent.mjs":"8781L","./FederatedWheelEvent.mjs":"hMTID","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],al76w:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"EventsTicker",()=>a);var i=e("@pixi/core");let a=new class{constructor(){this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}init(e){this.removeTickerListener(),this.events=e,this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}get pauseUpdate(){return this._pauseUpdate}set pauseUpdate(e){this._pauseUpdate=e}addTickerListener(){this.tickerAdded||!this.domElement||((0,i.Ticker).system.add(this.tickerUpdate,this,i.UPDATE_PRIORITY.INTERACTION),this.tickerAdded=!0)}removeTickerListener(){this.tickerAdded&&((0,i.Ticker).system.remove(this.tickerUpdate,this),this.tickerAdded=!1)}pointerMoved(){this._didMove=!0}update(){if(!this.domElement||this._pauseUpdate)return;if(this._didMove){this._didMove=!1;return}let e=this.events.rootPointerEvent;this.events.supportsTouchEvents&&"touch"===e.pointerType||globalThis.document.dispatchEvent(new PointerEvent("pointermove",{clientX:e.clientX,clientY:e.clientY}))}tickerUpdate(e){this._deltaTime+=e,this._deltaTime<this.interactionFrequency||(this._deltaTime=0,this.update())}}},{"@pixi/core":"dUVGa","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"0Hdkf":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"FederatedMouseEvent",()=>o);var i=e("@pixi/core"),a=e("./FederatedEvent.mjs");class o extends a.FederatedEvent{constructor(){super(...arguments),this.client=new i.Point,this.movement=new i.Point,this.offset=new i.Point,this.global=new i.Point,this.screen=new i.Point}get clientX(){return this.client.x}get clientY(){return this.client.y}get x(){return this.clientX}get y(){return this.clientY}get movementX(){return this.movement.x}get movementY(){return this.movement.y}get offsetX(){return this.offset.x}get offsetY(){return this.offset.y}get globalX(){return this.global.x}get globalY(){return this.global.y}get screenX(){return this.screen.x}get screenY(){return this.screen.y}getLocalPosition(e,t,r){return e.worldTransform.applyInverse(r||this.global,t)}getModifierState(e){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(e)}initMouseEvent(e,t,r,s,i,a,o,n,l,h,u,c,d,p,m){throw Error("Method not implemented.")}}},{"@pixi/core":"dUVGa","./FederatedEvent.mjs":"ksRzu","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],ksRzu:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"FederatedEvent",()=>a);var i=e("@pixi/core");class a{constructor(e){this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.composed=!1,this.defaultPrevented=!1,this.eventPhase=a.prototype.NONE,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new i.Point,this.page=new i.Point,this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.manager=e}get layerX(){return this.layer.x}get layerY(){return this.layer.y}get pageX(){return this.page.x}get pageY(){return this.page.y}get data(){return this}composedPath(){return this.manager&&(!this.path||this.path[this.path.length-1]!==this.target)&&(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}initEvent(e,t,r){throw Error("initEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}initUIEvent(e,t,r,s,i){throw Error("initUIEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}preventDefault(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}stopImmediatePropagation(){this.propagationImmediatelyStopped=!0}stopPropagation(){this.propagationStopped=!0}}},{"@pixi/core":"dUVGa","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"8781L":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"FederatedPointerEvent",()=>a);var i=e("./FederatedMouseEvent.mjs");class a extends i.FederatedMouseEvent{constructor(){super(...arguments),this.width=0,this.height=0,this.isPrimary=!1}getCoalescedEvents(){return"pointermove"===this.type||"mousemove"===this.type||"touchmove"===this.type?[this]:[]}getPredictedEvents(){throw Error("getPredictedEvents is not supported!")}}},{"./FederatedMouseEvent.mjs":"0Hdkf","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],hMTID:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"FederatedWheelEvent",()=>a);var i=e("./FederatedMouseEvent.mjs");class a extends i.FederatedMouseEvent{constructor(){super(...arguments),this.DOM_DELTA_PIXEL=0,this.DOM_DELTA_LINE=1,this.DOM_DELTA_PAGE=2}}a.DOM_DELTA_PIXEL=0,a.DOM_DELTA_LINE=1,a.DOM_DELTA_PAGE=2},{"./FederatedMouseEvent.mjs":"0Hdkf","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"9xnd1":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"EventSystem",()=>c);var i=e("@pixi/core"),a=e("./EventBoundary.mjs"),o=e("./EventTicker.mjs"),n=e("./FederatedPointerEvent.mjs"),l=e("./FederatedWheelEvent.mjs");let h={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"},u=class e{constructor(t){this.supportsTouchEvents="ontouchstart"in globalThis,this.supportsPointerEvents=!!globalThis.PointerEvent,this.domElement=null,this.resolution=1,this.renderer=t,this.rootBoundary=new a.EventBoundary(null),(0,o.EventsTicker).init(this),this.autoPreventDefault=!0,this.eventsAdded=!1,this.rootPointerEvent=new n.FederatedPointerEvent(null),this.rootWheelEvent=new l.FederatedWheelEvent(null),this.cursorStyles={default:"inherit",pointer:"pointer"},this.features=new Proxy({...e.defaultEventFeatures},{set:(e,t,r)=>("globalMove"===t&&(this.rootBoundary.enableGlobalMoveEvents=r),e[t]=r,!0)}),this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.onPointerOverOut=this.onPointerOverOut.bind(this),this.onWheel=this.onWheel.bind(this)}static get defaultEventMode(){return this._defaultEventMode}init(t){let{view:r,resolution:s}=this.renderer;this.setTargetElement(r),this.resolution=s,e._defaultEventMode=t.eventMode??"auto",Object.assign(this.features,t.eventFeatures??{}),this.rootBoundary.enableGlobalMoveEvents=this.features.globalMove}resolutionChange(e){this.resolution=e}destroy(){this.setTargetElement(null),this.renderer=null}setCursor(e){e=e||"default";let t=!0;if(globalThis.OffscreenCanvas&&this.domElement instanceof OffscreenCanvas&&(t=!1),this.currentCursor===e)return;this.currentCursor=e;let r=this.cursorStyles[e];if(r)switch(typeof r){case"string":t&&(this.domElement.style.cursor=r);break;case"function":r(e);break;case"object":t&&Object.assign(this.domElement.style,r)}else t&&"string"==typeof e&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,e)&&(this.domElement.style.cursor=e)}get pointer(){return this.rootPointerEvent}onPointerDown(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;let t=this.normalizeToPointerData(e);this.autoPreventDefault&&t[0].isNormalized&&(e.cancelable||!("cancelable"in e))&&e.preventDefault();for(let e=0,r=t.length;e<r;e++){let r=t[e],s=this.bootstrapEvent(this.rootPointerEvent,r);this.rootBoundary.mapEvent(s)}this.setCursor(this.rootBoundary.cursor)}onPointerMove(e){if(!this.features.move)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,(0,o.EventsTicker).pointerMoved();let t=this.normalizeToPointerData(e);for(let e=0,r=t.length;e<r;e++){let r=this.bootstrapEvent(this.rootPointerEvent,t[e]);this.rootBoundary.mapEvent(r)}this.setCursor(this.rootBoundary.cursor)}onPointerUp(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;let t=e.target;e.composedPath&&e.composedPath().length>0&&(t=e.composedPath()[0]);let r=t!==this.domElement?"outside":"",s=this.normalizeToPointerData(e);for(let e=0,t=s.length;e<t;e++){let t=this.bootstrapEvent(this.rootPointerEvent,s[e]);t.type+=r,this.rootBoundary.mapEvent(t)}this.setCursor(this.rootBoundary.cursor)}onPointerOverOut(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;let t=this.normalizeToPointerData(e);for(let e=0,r=t.length;e<r;e++){let r=this.bootstrapEvent(this.rootPointerEvent,t[e]);this.rootBoundary.mapEvent(r)}this.setCursor(this.rootBoundary.cursor)}onWheel(e){if(!this.features.wheel)return;let t=this.normalizeWheelEvent(e);this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.rootBoundary.mapEvent(t)}setTargetElement(e){this.removeEvents(),this.domElement=e,o.EventsTicker.domElement=e,this.addEvents()}addEvents(){if(this.eventsAdded||!this.domElement)return;(0,o.EventsTicker).addTickerListener();let e=this.domElement.style;e&&(globalThis.navigator.msPointerEnabled?(e.msContentZooming="none",e.msTouchAction="none"):this.supportsPointerEvents&&(e.touchAction="none")),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,!0),this.domElement.addEventListener("pointerdown",this.onPointerDown,!0),this.domElement.addEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.addEventListener("pointerover",this.onPointerOverOut,!0),globalThis.addEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,!0),this.domElement.addEventListener("mousedown",this.onPointerDown,!0),this.domElement.addEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.addEventListener("mouseover",this.onPointerOverOut,!0),globalThis.addEventListener("mouseup",this.onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.addEventListener("touchstart",this.onPointerDown,!0),this.domElement.addEventListener("touchend",this.onPointerUp,!0),this.domElement.addEventListener("touchmove",this.onPointerMove,!0))),this.domElement.addEventListener("wheel",this.onWheel,{passive:!0,capture:!0}),this.eventsAdded=!0}removeEvents(){if(!this.eventsAdded||!this.domElement)return;(0,o.EventsTicker).removeTickerListener();let e=this.domElement.style;globalThis.navigator.msPointerEnabled?(e.msContentZooming="",e.msTouchAction=""):this.supportsPointerEvents&&(e.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,!0),this.domElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.domElement.removeEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.removeEventListener("pointerover",this.onPointerOverOut,!0),globalThis.removeEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,!0),this.domElement.removeEventListener("mousedown",this.onPointerDown,!0),this.domElement.removeEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.removeEventListener("mouseover",this.onPointerOverOut,!0),globalThis.removeEventListener("mouseup",this.onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.removeEventListener("touchstart",this.onPointerDown,!0),this.domElement.removeEventListener("touchend",this.onPointerUp,!0),this.domElement.removeEventListener("touchmove",this.onPointerMove,!0))),this.domElement.removeEventListener("wheel",this.onWheel,!0),this.domElement=null,this.eventsAdded=!1}mapPositionToPoint(e,t,r){let s=this.domElement.isConnected?this.domElement.getBoundingClientRect():{x:0,y:0,width:this.domElement.width,height:this.domElement.height,left:0,top:0},i=1/this.resolution;e.x=(t-s.left)*(this.domElement.width/s.width)*i,e.y=(r-s.top)*(this.domElement.height/s.height)*i}normalizeToPointerData(e){let t=[];if(this.supportsTouchEvents&&e instanceof TouchEvent)for(let r=0,s=e.changedTouches.length;r<s;r++){let s=e.changedTouches[r];typeof s.button>"u"&&(s.button=0),typeof s.buttons>"u"&&(s.buttons=1),typeof s.isPrimary>"u"&&(s.isPrimary=1===e.touches.length&&"touchstart"===e.type),typeof s.width>"u"&&(s.width=s.radiusX||1),typeof s.height>"u"&&(s.height=s.radiusY||1),typeof s.tiltX>"u"&&(s.tiltX=0),typeof s.tiltY>"u"&&(s.tiltY=0),typeof s.pointerType>"u"&&(s.pointerType="touch"),typeof s.pointerId>"u"&&(s.pointerId=s.identifier||0),typeof s.pressure>"u"&&(s.pressure=s.force||.5),typeof s.twist>"u"&&(s.twist=0),typeof s.tangentialPressure>"u"&&(s.tangentialPressure=0),typeof s.layerX>"u"&&(s.layerX=s.offsetX=s.clientX),typeof s.layerY>"u"&&(s.layerY=s.offsetY=s.clientY),s.isNormalized=!0,s.type=e.type,t.push(s)}else(!globalThis.MouseEvent||e instanceof MouseEvent&&(!this.supportsPointerEvents||!(e instanceof globalThis.PointerEvent)))&&(typeof e.isPrimary>"u"&&(e.isPrimary=!0),typeof e.width>"u"&&(e.width=1),typeof e.height>"u"&&(e.height=1),typeof e.tiltX>"u"&&(e.tiltX=0),typeof e.tiltY>"u"&&(e.tiltY=0),typeof e.pointerType>"u"&&(e.pointerType="mouse"),typeof e.pointerId>"u"&&(e.pointerId=1),typeof e.pressure>"u"&&(e.pressure=.5),typeof e.twist>"u"&&(e.twist=0),typeof e.tangentialPressure>"u"&&(e.tangentialPressure=0),e.isNormalized=!0),t.push(e);return t}normalizeWheelEvent(e){let t=this.rootWheelEvent;return this.transferMouseData(t,e),t.deltaX=e.deltaX,t.deltaY=e.deltaY,t.deltaZ=e.deltaZ,t.deltaMode=e.deltaMode,this.mapPositionToPoint(t.screen,e.clientX,e.clientY),t.global.copyFrom(t.screen),t.offset.copyFrom(t.screen),t.nativeEvent=e,t.type=e.type,t}bootstrapEvent(e,t){return e.originalEvent=null,e.nativeEvent=t,e.pointerId=t.pointerId,e.width=t.width,e.height=t.height,e.isPrimary=t.isPrimary,e.pointerType=t.pointerType,e.pressure=t.pressure,e.tangentialPressure=t.tangentialPressure,e.tiltX=t.tiltX,e.tiltY=t.tiltY,e.twist=t.twist,this.transferMouseData(e,t),this.mapPositionToPoint(e.screen,t.clientX,t.clientY),e.global.copyFrom(e.screen),e.offset.copyFrom(e.screen),e.isTrusted=t.isTrusted,"pointerleave"===e.type&&(e.type="pointerout"),e.type.startsWith("mouse")&&(e.type=e.type.replace("mouse","pointer")),e.type.startsWith("touch")&&(e.type=h[e.type]||e.type),e}transferMouseData(e,t){e.isTrusted=t.isTrusted,e.srcElement=t.srcElement,e.timeStamp=performance.now(),e.type=t.type,e.altKey=t.altKey,e.button=t.button,e.buttons=t.buttons,e.client.x=t.clientX,e.client.y=t.clientY,e.ctrlKey=t.ctrlKey,e.metaKey=t.metaKey,e.movement.x=t.movementX,e.movement.y=t.movementY,e.page.x=t.pageX,e.page.y=t.pageY,e.relatedTarget=null,e.shiftKey=t.shiftKey}};u.extension={name:"events",type:[i.ExtensionType.RendererSystem,i.ExtensionType.CanvasRendererSystem]},u.defaultEventFeatures={move:!0,globalMove:!0,click:!0,wheel:!0};let c=u;(0,i.extensions).add(c)},{"@pixi/core":"dUVGa","./EventBoundary.mjs":"17DbG","./EventTicker.mjs":"al76w","./FederatedPointerEvent.mjs":"8781L","./FederatedWheelEvent.mjs":"hMTID","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"6VJEe":[function(e,t,r){},{}],"4xVQb":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"FederatedDisplayObject",()=>h);var i=e("@pixi/core"),a=e("@pixi/display"),o=e("./EventSystem.mjs"),n=e("./FederatedEvent.mjs");function l(e){return"dynamic"===e||"static"===e}let h={onclick:null,onmousedown:null,onmouseenter:null,onmouseleave:null,onmousemove:null,onglobalmousemove:null,onmouseout:null,onmouseover:null,onmouseup:null,onmouseupoutside:null,onpointercancel:null,onpointerdown:null,onpointerenter:null,onpointerleave:null,onpointermove:null,onglobalpointermove:null,onpointerout:null,onpointerover:null,onpointertap:null,onpointerup:null,onpointerupoutside:null,onrightclick:null,onrightdown:null,onrightup:null,onrightupoutside:null,ontap:null,ontouchcancel:null,ontouchend:null,ontouchendoutside:null,ontouchmove:null,onglobaltouchmove:null,ontouchstart:null,onwheel:null,_internalInteractive:void 0,get interactive(){return this._internalInteractive??l(o.EventSystem.defaultEventMode)},set interactive(value){(0,i.utils).deprecation("7.2.0","Setting interactive is deprecated, use eventMode = 'none'/'passive'/'auto'/'static'/'dynamic' instead."),this._internalInteractive=value,this.eventMode=value?"static":"auto"},_internalEventMode:void 0,get eventMode(){return this._internalEventMode??o.EventSystem.defaultEventMode},set eventMode(value){this._internalInteractive=l(value),this._internalEventMode=value},isInteractive(){return"static"===this.eventMode||"dynamic"===this.eventMode},interactiveChildren:!0,hitArea:null,addEventListener(e,t,r){let s="boolean"==typeof r&&r||"object"==typeof r&&r.capture,i="object"==typeof r?r.signal:void 0,a="object"==typeof r&&!0===r.once,o="function"==typeof t?void 0:t;e=s?`${e}capture`:e;let n="function"==typeof t?t:t.handleEvent,l=this;i&&i.addEventListener("abort",()=>{l.off(e,n,o)}),a?l.once(e,n,o):l.on(e,n,o)},removeEventListener(e,t,r){let s="boolean"==typeof r&&r||"object"==typeof r&&r.capture,i="function"==typeof t?void 0:t;e=s?`${e}capture`:e,t="function"==typeof t?t:t.handleEvent,this.off(e,t,i)},dispatchEvent(e){if(!(e instanceof n.FederatedEvent))throw Error("DisplayObject cannot propagate events outside of the Federated Events API");return e.defaultPrevented=!1,e.path=null,e.target=this,e.manager.dispatchEvent(e),!e.defaultPrevented}};(0,a.DisplayObject).mixin(h)},{"@pixi/core":"dUVGa","@pixi/display":"2blAU","./EventSystem.mjs":"9xnd1","./FederatedEvent.mjs":"ksRzu","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"5UlFB":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"accessibleTarget",()=>i);let i={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1}},{"@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],hNdU2:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"Application",()=>i.Application),s.export(r,"ResizePlugin",()=>a.ResizePlugin);var i=e("./Application.mjs"),a=e("./ResizePlugin.mjs")},{"./Application.mjs":"5iTS1","./ResizePlugin.mjs":"24wj7","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"5iTS1":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"Application",()=>n);var i=e("@pixi/core"),a=e("@pixi/display");let o=class e{constructor(t){this.stage=new a.Container,t=Object.assign({forceCanvas:!1},t),this.renderer=(0,i.autoDetectRenderer)(t),e._plugins.forEach(e=>{e.init.call(this,t)})}render(){this.renderer.render(this.stage)}get view(){return this.renderer?.view}get screen(){return this.renderer?.screen}destroy(t,r){let s=e._plugins.slice(0);s.reverse(),s.forEach(e=>{e.destroy.call(this)}),this.stage.destroy(r),this.stage=null,this.renderer.destroy(t),this.renderer=null}};o._plugins=[];let n=o;(0,i.extensions).handleByList(i.ExtensionType.Application,n._plugins)},{"@pixi/core":"dUVGa","@pixi/display":"2blAU","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"24wj7":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"ResizePlugin",()=>a);var i=e("@pixi/core");class a{static init(e){Object.defineProperty(this,"resizeTo",{set(e){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=e,e&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get(){return this._resizeTo}}),this.queueResize=()=>{this._resizeTo&&(this.cancelResize(),this._resizeId=requestAnimationFrame(()=>this.resize()))},this.cancelResize=()=>{this._resizeId&&(cancelAnimationFrame(this._resizeId),this._resizeId=null)},this.resize=()=>{let e,t;if(this._resizeTo){if(this.cancelResize(),this._resizeTo===globalThis.window)e=globalThis.innerWidth,t=globalThis.innerHeight;else{let{clientWidth:r,clientHeight:s}=this._resizeTo;e=r,t=s}this.renderer.resize(e,t),this.render()}},this._resizeId=null,this._resizeTo=null,this.resizeTo=e.resizeTo||null}static destroy(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null}}a.extension=i.ExtensionType.Application,(0,i.extensions).add(a)},{"@pixi/core":"dUVGa","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"9DLSB":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"Assets",()=>i.Assets),s.export(r,"AssetsClass",()=>i.AssetsClass),s.export(r,"Cache",()=>a.Cache),s.export(r,"LoaderParserPriority",()=>p.LoaderParserPriority),s.export(r,"cacheTextureArray",()=>o.cacheTextureArray),s.export(r,"checkDataUrl",()=>v.checkDataUrl),s.export(r,"checkExtension",()=>A.checkExtension),s.export(r,"convertToList",()=>j.convertToList),s.export(r,"copySearchParams",()=>E.copySearchParams),s.export(r,"createStringVariations",()=>S.createStringVariations),s.export(r,"createTexture",()=>b.createTexture),s.export(r,"detectAvif",()=>n.detectAvif),s.export(r,"detectDefaults",()=>h.detectDefaults),s.export(r,"detectMp4",()=>c.detectMp4),s.export(r,"detectOgv",()=>d.detectOgv),s.export(r,"detectWebm",()=>u.detectWebm),s.export(r,"detectWebp",()=>l.detectWebp),s.export(r,"getFontFamilyName",()=>_.getFontFamilyName),s.export(r,"isSingleItem",()=>P.isSingleItem),s.export(r,"loadImageBitmap",()=>y.loadImageBitmap),s.export(r,"loadJson",()=>m.loadJson),s.export(r,"loadSVG",()=>g.loadSVG),s.export(r,"loadTextures",()=>y.loadTextures),s.export(r,"loadTxt",()=>f.loadTxt),s.export(r,"loadVideo",()=>x.loadVideo),s.export(r,"loadWebFont",()=>_.loadWebFont),s.export(r,"resolveTextureUrl",()=>T.resolveTextureUrl),e("./AssetExtension.mjs");var i=e("./Assets.mjs");e("./cache/index.mjs"),e("./detections/index.mjs"),e("./loader/index.mjs"),e("./resolver/index.mjs"),e("./types.mjs"),e("./utils/index.mjs");var a=e("./cache/Cache.mjs"),o=e("./cache/parsers/cacheTextureArray.mjs"),n=e("./detections/parsers/detectAvif.mjs"),l=e("./detections/parsers/detectWebp.mjs"),h=e("./detections/parsers/detectDefaults.mjs"),u=e("./detections/parsers/detectWebm.mjs"),c=e("./detections/parsers/detectMp4.mjs"),d=e("./detections/parsers/detectOgv.mjs"),p=e("./loader/parsers/LoaderParser.mjs"),m=e("./loader/parsers/loadJson.mjs"),f=e("./loader/parsers/loadTxt.mjs"),_=e("./loader/parsers/loadWebFont.mjs"),g=e("./loader/parsers/textures/loadSVG.mjs"),y=e("./loader/parsers/textures/loadTextures.mjs"),x=e("./loader/parsers/textures/loadVideo.mjs"),b=e("./loader/parsers/textures/utils/createTexture.mjs"),T=e("./resolver/parsers/resolveTextureUrl.mjs"),v=e("./utils/checkDataUrl.mjs"),A=e("./utils/checkExtension.mjs"),j=e("./utils/convertToList.mjs"),E=e("./utils/copySearchParams.mjs"),S=e("./utils/createStringVariations.mjs"),P=e("./utils/isSingleItem.mjs")},{"./AssetExtension.mjs":"8iWYZ","./Assets.mjs":"hAraq","./cache/index.mjs":"6Zuvt","./detections/index.mjs":"1TxXx","./loader/index.mjs":"duY03","./resolver/index.mjs":"bRqQw","./types.mjs":"1vhkG","./utils/index.mjs":"5nPkk","./cache/Cache.mjs":"5CPlP","./cache/parsers/cacheTextureArray.mjs":"6qKT6","./detections/parsers/detectAvif.mjs":"j0kaA","./detections/parsers/detectWebp.mjs":"g3WOo","./detections/parsers/detectDefaults.mjs":"jVP4g","./detections/parsers/detectWebm.mjs":"h2ClP","./detections/parsers/detectMp4.mjs":"gEoxh","./detections/parsers/detectOgv.mjs":"cJQND","./loader/parsers/LoaderParser.mjs":"6skYe","./loader/parsers/loadJson.mjs":"56YWg","./loader/parsers/loadTxt.mjs":"jRDFg","./loader/parsers/loadWebFont.mjs":"2jAMp","./loader/parsers/textures/loadSVG.mjs":"gYlKI","./loader/parsers/textures/loadTextures.mjs":"9th6E","./loader/parsers/textures/loadVideo.mjs":"NRVTi","./loader/parsers/textures/utils/createTexture.mjs":"5gDq4","./resolver/parsers/resolveTextureUrl.mjs":"aYaj7","./utils/checkDataUrl.mjs":"auPgH","./utils/checkExtension.mjs":"fPbHA","./utils/convertToList.mjs":"7SSHp","./utils/copySearchParams.mjs":"zT72z","./utils/createStringVariations.mjs":"f78qd","./utils/isSingleItem.mjs":"jL0kL","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"8iWYZ":[function(e,t,r){var s=e("@pixi/core");let i={loader:s.ExtensionType.LoadParser,resolver:s.ExtensionType.ResolveParser,cache:s.ExtensionType.CacheParser,detection:s.ExtensionType.DetectionParser};(0,s.extensions).handle(s.ExtensionType.Asset,e=>{let t=e.ref;Object.entries(i).filter(([e])=>!!t[e]).forEach(([e,r])=>(0,s.extensions).add(Object.assign(t[e],{extension:t[e].extension??r})))},e=>{let t=e.ref;Object.keys(i).filter(e=>!!t[e]).forEach(e=>(0,s.extensions).remove(t[e]))})},{"@pixi/core":"dUVGa"}],hAraq:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"Assets",()=>p),s.export(r,"AssetsClass",()=>d);var i=e("@pixi/core"),a=e("./BackgroundLoader.mjs"),o=e("./cache/Cache.mjs"),n=e("./loader/Loader.mjs");e("./loader/parsers/index.mjs");var l=e("./resolver/Resolver.mjs"),h=e("./utils/convertToList.mjs"),u=e("./utils/isSingleItem.mjs"),c=e("./loader/parsers/textures/loadTextures.mjs");class d{constructor(){this._detections=[],this._initialized=!1,this.resolver=new l.Resolver,this.loader=new n.Loader,this.cache=o.Cache,this._backgroundLoader=new a.BackgroundLoader(this.loader),this._backgroundLoader.active=!0,this.reset()}async init(e={}){if(this._initialized){console.warn("[Assets]AssetManager already initialized, did you load before calling this Assets.init()?");return}if(this._initialized=!0,e.defaultSearchParams&&this.resolver.setDefaultSearchParams(e.defaultSearchParams),e.basePath&&(this.resolver.basePath=e.basePath),e.bundleIdentifier&&this.resolver.setBundleIdentifier(e.bundleIdentifier),e.manifest){let t=e.manifest;"string"==typeof t&&(t=await this.load(t)),this.resolver.addManifest(t)}let t=e.texturePreference?.resolution??1,r=await this._detectFormats({preferredFormats:e.texturePreference?.format,skipDetections:e.skipDetections,detections:this._detections});this.resolver.prefer({params:{format:r,resolution:"number"==typeof t?[t]:t}}),e.preferences&&this.setPreferences(e.preferences)}add(e,t,r,s,i){this.resolver.add(e,t,r,s,i)}async load(e,t){this._initialized||await this.init();let r=(0,u.isSingleItem)(e),s=(0,h.convertToList)(e).map(e=>{if("string"!=typeof e){let t=this.resolver.getAlias(e);return t.some(e=>!this.resolver.hasKey(e))&&this.add(e),Array.isArray(t)?t[0]:t}return this.resolver.hasKey(e)||this.add({alias:e,src:e}),e}),i=this.resolver.resolve(s),a=await this._mapLoadToResolve(i,t);return r?a[s[0]]:a}addBundle(e,t){this.resolver.addBundle(e,t)}async loadBundle(e,t){this._initialized||await this.init();let r=!1;"string"==typeof e&&(r=!0,e=[e]);let s=this.resolver.resolveBundle(e),i={},a=Object.keys(s),o=0,n=0,l=()=>{t?.(++o/n)},h=a.map(e=>{let t=s[e];return n+=Object.keys(t).length,this._mapLoadToResolve(t,l).then(t=>{i[e]=t})});return await Promise.all(h),r?i[e[0]]:i}async backgroundLoad(e){this._initialized||await this.init(),"string"==typeof e&&(e=[e]);let t=this.resolver.resolve(e);this._backgroundLoader.add(Object.values(t))}async backgroundLoadBundle(e){this._initialized||await this.init(),"string"==typeof e&&(e=[e]),Object.values(this.resolver.resolveBundle(e)).forEach(e=>{this._backgroundLoader.add(Object.values(e))})}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(e){if("string"==typeof e)return(0,o.Cache).get(e);let t={};for(let r=0;r<e.length;r++)t[r]=(0,o.Cache).get(e[r]);return t}async _mapLoadToResolve(e,t){let r=Object.values(e),s=Object.keys(e);this._backgroundLoader.active=!1;let i=await this.loader.load(r,t);this._backgroundLoader.active=!0;let a={};return r.forEach((e,t)=>{let r=i[e.src],n=[e.src];e.alias&&n.push(...e.alias),a[s[t]]=r,(0,o.Cache).set(n,r)}),a}async unload(e){this._initialized||await this.init();let t=(0,h.convertToList)(e).map(e=>"string"!=typeof e?e.src:e),r=this.resolver.resolve(t);await this._unloadFromResolved(r)}async unloadBundle(e){this._initialized||await this.init(),e=(0,h.convertToList)(e);let t=this.resolver.resolveBundle(e),r=Object.keys(t).map(e=>this._unloadFromResolved(t[e]));await Promise.all(r)}async _unloadFromResolved(e){let t=Object.values(e);t.forEach(e=>{(0,o.Cache).remove(e.src)}),await this.loader.unload(t)}async _detectFormats(e){let t=[];for(let r of(e.preferredFormats&&(t=Array.isArray(e.preferredFormats)?e.preferredFormats:[e.preferredFormats]),e.detections))e.skipDetections||await r.test()?t=await r.add(t):e.skipDetections||(t=await r.remove(t));return t=t.filter((e,r)=>t.indexOf(e)===r)}get detections(){return this._detections}get preferWorkers(){return c.loadTextures.config.preferWorkers}set preferWorkers(e){(0,i.utils).deprecation("7.2.0","Assets.prefersWorkers is deprecated, use Assets.setPreferences({ preferWorkers: true }) instead."),this.setPreferences({preferWorkers:e})}setPreferences(e){this.loader.parsers.forEach(t=>{t.config&&Object.keys(t.config).filter(t=>t in e).forEach(r=>{t.config[r]=e[r]})})}}let p=new d;(0,i.extensions).handleByList(i.ExtensionType.LoadParser,p.loader.parsers).handleByList(i.ExtensionType.ResolveParser,p.resolver.parsers).handleByList(i.ExtensionType.CacheParser,p.cache.parsers).handleByList(i.ExtensionType.DetectionParser,p.detections)},{"@pixi/core":"dUVGa","./BackgroundLoader.mjs":"3SAXA","./cache/Cache.mjs":"5CPlP","./loader/Loader.mjs":"4kELX","./loader/parsers/index.mjs":"aEOwZ","./resolver/Resolver.mjs":"4AQDS","./utils/convertToList.mjs":"7SSHp","./utils/isSingleItem.mjs":"jL0kL","./loader/parsers/textures/loadTextures.mjs":"9th6E","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"3SAXA":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"BackgroundLoader",()=>i);class i{constructor(e,t=!1){this._loader=e,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=t}add(e){e.forEach(e=>{this._assetList.push(e)}),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;let e=[],t=Math.min(this._assetList.length,this._maxConcurrent);for(let r=0;r<t;r++)e.push(this._assetList.pop());await this._loader.load(e),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(e){this._isActive!==e&&(this._isActive=e,e&&!this._isLoading&&this._next())}}},{"@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"5CPlP":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"Cache",()=>o);var i=e("@pixi/core");e("../utils/index.mjs");var a=e("../utils/convertToList.mjs");let o=new class{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(e){return this._cache.has(e)}get(e){let t=this._cache.get(e);return t||console.warn(`[Assets] Asset id ${e} was not found in the Cache`),t}set(e,t){let r;let s=(0,a.convertToList)(e);for(let e=0;e<this.parsers.length;e++){let i=this.parsers[e];if(i.test(t)){r=i.getCacheableAssets(s,t);break}}r||(r={},s.forEach(e=>{r[e]=t}));let o=Object.keys(r),n={cacheKeys:o,keys:s};s.forEach(e=>{this._cacheMap.set(e,n)}),o.forEach(e=>{this._cache.has(e)&&this._cache.get(e)!==t&&console.warn("[Cache] already has key:",e),this._cache.set(e,r[e])}),t instanceof i.Texture&&s.forEach(e=>{t.baseTexture!==i.Texture.EMPTY.baseTexture&&(0,i.BaseTexture).addToCache(t.baseTexture,e),(0,i.Texture).addToCache(t,e)})}remove(e){if(!this._cacheMap.has(e)){console.warn(`[Assets] Asset id ${e} was not found in the Cache`);return}let t=this._cacheMap.get(e);t.cacheKeys.forEach(e=>{this._cache.delete(e)}),t.keys.forEach(e=>{this._cacheMap.delete(e)})}get parsers(){return this._parsers}}},{"@pixi/core":"dUVGa","../utils/index.mjs":"5nPkk","../utils/convertToList.mjs":"7SSHp","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"5nPkk":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"checkDataUrl",()=>i.checkDataUrl),s.export(r,"checkExtension",()=>a.checkExtension),s.export(r,"convertToList",()=>o.convertToList),s.export(r,"copySearchParams",()=>n.copySearchParams),s.export(r,"createStringVariations",()=>l.createStringVariations),s.export(r,"isSingleItem",()=>h.isSingleItem);var i=e("./checkDataUrl.mjs"),a=e("./checkExtension.mjs"),o=e("./convertToList.mjs"),n=e("./copySearchParams.mjs"),l=e("./createStringVariations.mjs"),h=e("./isSingleItem.mjs")},{"./checkDataUrl.mjs":"auPgH","./checkExtension.mjs":"fPbHA","./convertToList.mjs":"7SSHp","./copySearchParams.mjs":"zT72z","./createStringVariations.mjs":"f78qd","./isSingleItem.mjs":"jL0kL","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],auPgH:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");function i(e,t){if(Array.isArray(t)){for(let r of t)if(e.startsWith(`data:${r}`))return!0;return!1}return e.startsWith(`data:${t}`)}s.defineInteropFlag(r),s.export(r,"checkDataUrl",()=>i)},{"@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],fPbHA:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"checkExtension",()=>a);var i=e("@pixi/core");function a(e,t){let r=e.split("?")[0],s=(0,i.utils).path.extname(r).toLowerCase();return Array.isArray(t)?t.includes(s):s===t}},{"@pixi/core":"dUVGa","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"7SSHp":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"convertToList",()=>i);let i=(e,t,r=!1)=>(Array.isArray(e)||(e=[e]),t?e.map(e=>"string"==typeof e||r?t(e):e):e)},{"@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],zT72z:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"copySearchParams",()=>i);let i=(e,t)=>{let r=t.split("?")[1];return r&&(e+=`?${r}`),e}},{"@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],f78qd:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");function i(e){let t=e.match(/\{(.*?)\}/g),r=[];if(t){let s=[];t.forEach(e=>{let t=e.substring(1,e.length-1).split(",");s.push(t)}),function e(t,r,s,i,a){let o=r[s];for(let n=0;n<o.length;n++){let l=o[n];s<r.length-1?e(t.replace(i[s],l),r,s+1,i,a):a.push(t.replace(i[s],l))}}(e,s,0,t,r)}else r.push(e);return r}s.defineInteropFlag(r),s.export(r,"createStringVariations",()=>i)},{"@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],jL0kL:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"isSingleItem",()=>i);let i=e=>!Array.isArray(e)},{"@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"4kELX":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"Loader",()=>n);var i=e("@pixi/core");e("../utils/index.mjs");var a=e("../utils/isSingleItem.mjs"),o=e("../utils/convertToList.mjs");class n{constructor(){this._parsers=[],this._parsersValidated=!1,this.parsers=new Proxy(this._parsers,{set:(e,t,r)=>(this._parsersValidated=!1,e[t]=r,!0)}),this.promiseCache={}}reset(){this._parsersValidated=!1,this.promiseCache={}}_getLoadPromiseAndParser(e,t){let r={promise:null,parser:null};return r.promise=(async()=>{let s=null,i=null;if(t.loadParser&&((i=this._parserHash[t.loadParser])||console.warn(`[Assets] specified load parser "${t.loadParser}" not found while loading ${e}`)),!i){for(let r=0;r<this.parsers.length;r++){let s=this.parsers[r];if(s.load&&s.test?.(e,t,this)){i=s;break}}if(!i)return console.warn(`[Assets] ${e} could not be loaded as we don't know how to parse it, ensure the correct parser has been added`),null}s=await i.load(e,t,this),r.parser=i;for(let e=0;e<this.parsers.length;e++){let i=this.parsers[e];i.parse&&i.parse&&await i.testParse?.(s,t,this)&&(s=await i.parse(s,t,this)||s,r.parser=i)}return s})(),r}async load(e,t){this._parsersValidated||this._validateParsers();let r=0,s={},n=(0,a.isSingleItem)(e),l=(0,o.convertToList)(e,e=>({alias:[e],src:e})),h=l.length,u=l.map(async e=>{let a=(0,i.utils).path.toAbsolute(e.src);if(!s[e.src])try{this.promiseCache[a]||(this.promiseCache[a]=this._getLoadPromiseAndParser(a,e)),s[e.src]=await this.promiseCache[a].promise,t&&t(++r/h)}catch(t){throw delete this.promiseCache[a],delete s[e.src],Error(`[Loader.load] Failed to load ${a}.
${t}`)}});return await Promise.all(u),n?s[l[0].src]:s}async unload(e){let t=(0,o.convertToList)(e,e=>({alias:[e],src:e})).map(async e=>{let t=(0,i.utils).path.toAbsolute(e.src),r=this.promiseCache[t];if(r){let s=await r.promise;delete this.promiseCache[t],r.parser?.unload?.(s,e,this)}});await Promise.all(t)}_validateParsers(){this._parsersValidated=!0,this._parserHash=this._parsers.filter(e=>e.name).reduce((e,t)=>(e[t.name]&&console.warn(`[Assets] loadParser name conflict "${t.name}"`),{...e,[t.name]:t}),{})}}},{"@pixi/core":"dUVGa","../utils/index.mjs":"5nPkk","../utils/isSingleItem.mjs":"jL0kL","../utils/convertToList.mjs":"7SSHp","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],aEOwZ:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"LoaderParserPriority",()=>i.LoaderParserPriority),s.export(r,"getFontFamilyName",()=>n.getFontFamilyName),s.export(r,"loadJson",()=>a.loadJson),s.export(r,"loadTxt",()=>o.loadTxt),s.export(r,"loadWebFont",()=>n.loadWebFont);var i=e("./LoaderParser.mjs"),a=e("./loadJson.mjs"),o=e("./loadTxt.mjs"),n=e("./loadWebFont.mjs");e("./textures/index.mjs")},{"./LoaderParser.mjs":"6skYe","./loadJson.mjs":"56YWg","./loadTxt.mjs":"jRDFg","./loadWebFont.mjs":"2jAMp","./textures/index.mjs":"4vPmd","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"6skYe":[function(e,t,r){let s;var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r),i.export(r,"LoaderParserPriority",()=>a);var a=((s=a||{})[s.Low=0]="Low",s[s.Normal=1]="Normal",s[s.High=2]="High",s)},{"@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"56YWg":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"loadJson",()=>l);var i=e("@pixi/core"),a=e("../../utils/checkDataUrl.mjs"),o=e("../../utils/checkExtension.mjs"),n=e("./LoaderParser.mjs");let l={extension:{type:i.ExtensionType.LoadParser,priority:n.LoaderParserPriority.Low},name:"loadJson",test:e=>(0,a.checkDataUrl)(e,"application/json")||(0,o.checkExtension)(e,".json"),load:async e=>await (await (0,i.settings).ADAPTER.fetch(e)).json()};(0,i.extensions).add(l)},{"@pixi/core":"dUVGa","../../utils/checkDataUrl.mjs":"auPgH","../../utils/checkExtension.mjs":"fPbHA","./LoaderParser.mjs":"6skYe","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],jRDFg:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"loadTxt",()=>l);var i=e("@pixi/core"),a=e("../../utils/checkDataUrl.mjs"),o=e("../../utils/checkExtension.mjs"),n=e("./LoaderParser.mjs");let l={name:"loadTxt",extension:{type:i.ExtensionType.LoadParser,priority:n.LoaderParserPriority.Low},test:e=>(0,a.checkDataUrl)(e,"text/plain")||(0,o.checkExtension)(e,".txt"),load:async e=>await (await (0,i.settings).ADAPTER.fetch(e)).text()};(0,i.extensions).add(l)},{"@pixi/core":"dUVGa","../../utils/checkDataUrl.mjs":"auPgH","../../utils/checkExtension.mjs":"fPbHA","./LoaderParser.mjs":"6skYe","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"2jAMp":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"getFontFamilyName",()=>d),s.export(r,"loadWebFont",()=>m);var i=e("@pixi/core"),a=e("../../utils/checkDataUrl.mjs"),o=e("../../utils/checkExtension.mjs"),n=e("./LoaderParser.mjs");let l=["normal","bold","100","200","300","400","500","600","700","800","900"],h=[".ttf",".otf",".woff",".woff2"],u=["font/ttf","font/otf","font/woff","font/woff2"],c=/^(--|-?[A-Z_])[0-9A-Z_-]*$/i;function d(e){let t=(0,i.utils).path.extname(e),r=(0,i.utils).path.basename(e,t).replace(/(-|_)/g," ").toLowerCase().split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1)),s=r.length>0;for(let e of r)if(!e.match(c)){s=!1;break}let a=r.join(" ");return s||(a=`"${a.replace(/[\\"]/g,"\\$&")}"`),a}let p=/^[0-9A-Za-z%:/?#\[\]@!\$&'()\*\+,;=\-._~]*$/,m={extension:{type:i.ExtensionType.LoadParser,priority:n.LoaderParserPriority.Low},name:"loadWebFont",test:e=>(0,a.checkDataUrl)(e,u)||(0,o.checkExtension)(e,h),async load(e,t){let r=(0,i.settings).ADAPTER.getFontFaceSet();if(r){let s=[],i=t.data?.family??d(e),a=t.data?.weights?.filter(e=>l.includes(e))??["normal"],o=t.data??{};for(let t=0;t<a.length;t++){let n=a[t],l=new FontFace(i,`url(${p.test(e)?e:encodeURI(e)})`,{...o,weight:n});await l.load(),r.add(l),s.push(l)}return 1===s.length?s[0]:s}return console.warn("[loadWebFont] FontFace API is not supported. Skipping loading font"),null},unload(e){(Array.isArray(e)?e:[e]).forEach(e=>(0,i.settings).ADAPTER.getFontFaceSet().delete(e))}};(0,i.extensions).add(m)},{"@pixi/core":"dUVGa","../../utils/checkDataUrl.mjs":"auPgH","../../utils/checkExtension.mjs":"fPbHA","./LoaderParser.mjs":"6skYe","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"4vPmd":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"loadImageBitmap",()=>a.loadImageBitmap),s.export(r,"loadSVG",()=>i.loadSVG),s.export(r,"loadTextures",()=>a.loadTextures),s.export(r,"loadVideo",()=>o.loadVideo);var i=e("./loadSVG.mjs"),a=e("./loadTextures.mjs"),o=e("./loadVideo.mjs");e("./utils/index.mjs")},{"./loadSVG.mjs":"gYlKI","./loadTextures.mjs":"9th6E","./loadVideo.mjs":"NRVTi","./utils/index.mjs":"d4Byn","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],gYlKI:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"loadSVG",()=>u);var i=e("@pixi/core"),a=e("../../../utils/checkDataUrl.mjs"),o=e("../../../utils/checkExtension.mjs"),n=e("../LoaderParser.mjs"),l=e("./loadTextures.mjs"),h=e("./utils/createTexture.mjs");let u={extension:{type:i.ExtensionType.LoadParser,priority:n.LoaderParserPriority.High},name:"loadSVG",test:e=>(0,a.checkDataUrl)(e,"image/svg+xml")||(0,o.checkExtension)(e,".svg"),testParse:async e=>(0,i.SVGResource).test(e),async parse(e,t,r){let s=new i.SVGResource(e,t?.data?.resourceOptions);await s.load();let a=new i.BaseTexture(s,{resolution:(0,i.utils).getResolutionOfUrl(e),...t?.data});return a.resource.src=t.src,(0,h.createTexture)(a,r,t.src)},load:async(e,t)=>(await (0,i.settings).ADAPTER.fetch(e)).text(),unload:l.loadTextures.unload};(0,i.extensions).add(u)},{"@pixi/core":"dUVGa","../../../utils/checkDataUrl.mjs":"auPgH","../../../utils/checkExtension.mjs":"fPbHA","../LoaderParser.mjs":"6skYe","./loadTextures.mjs":"9th6E","./utils/createTexture.mjs":"5gDq4","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"9th6E":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"loadImageBitmap",()=>d),s.export(r,"loadTextures",()=>p);var i=e("@pixi/core"),a=e("../../../utils/checkDataUrl.mjs"),o=e("../../../utils/checkExtension.mjs"),n=e("../LoaderParser.mjs"),l=e("../WorkerManager.mjs"),h=e("./utils/createTexture.mjs");let u=[".jpeg",".jpg",".png",".webp",".avif"],c=["image/jpeg","image/png","image/webp","image/avif"];async function d(e){let t=await (0,i.settings).ADAPTER.fetch(e);if(!t.ok)throw Error(`[loadImageBitmap] Failed to fetch ${e}: ${t.status} ${t.statusText}`);let r=await t.blob();return await createImageBitmap(r)}let p={name:"loadTextures",extension:{type:i.ExtensionType.LoadParser,priority:n.LoaderParserPriority.High},config:{preferWorkers:!0,preferCreateImageBitmap:!0,crossOrigin:"anonymous"},test:e=>(0,a.checkDataUrl)(e,c)||(0,o.checkExtension)(e,u),async load(e,t,r){let s;let a=globalThis.createImageBitmap&&this.config.preferCreateImageBitmap;s=a?this.config.preferWorkers&&await (0,l.WorkerManager).isImageBitmapSupported()?await (0,l.WorkerManager).loadImageBitmap(e):await d(e):await new Promise((t,r)=>{let s=new Image;s.crossOrigin=this.config.crossOrigin,s.src=e,s.complete?t(s):(s.onload=()=>t(s),s.onerror=e=>r(e))});let o={...t.data};o.resolution??(o.resolution=(0,i.utils).getResolutionOfUrl(e)),a&&o.resourceOptions?.ownsImageBitmap===void 0&&(o.resourceOptions={...o.resourceOptions},o.resourceOptions.ownsImageBitmap=!0);let n=new i.BaseTexture(s,o);return n.resource.src=e,(0,h.createTexture)(n,r,e)},unload(e){e.destroy(!0)}};(0,i.extensions).add(p)},{"@pixi/core":"dUVGa","../../../utils/checkDataUrl.mjs":"auPgH","../../../utils/checkExtension.mjs":"fPbHA","../LoaderParser.mjs":"6skYe","../WorkerManager.mjs":"2dDNO","./utils/createTexture.mjs":"5gDq4","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"2dDNO":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"WorkerManager",()=>u);var i=e("../../_virtual/checkImageBitmap.worker.mjs"),a=s.interopDefault(i),o=e("../../_virtual/loadImageBitmap.worker.mjs"),n=s.interopDefault(o);let l=0,h,u=new class{constructor(){this._initialized=!1,this._createdWorkers=0,this.workerPool=[],this.queue=[],this.resolveHash={}}isImageBitmapSupported(){return void 0!==this._isImageBitmapSupported||(this._isImageBitmapSupported=new Promise(e=>{let t=new a.default;t.addEventListener("message",r=>{t.terminate(),(0,a.default).revokeObjectURL(),e(r.data)})})),this._isImageBitmapSupported}loadImageBitmap(e){return this._run("loadImageBitmap",[e])}async _initWorkers(){this._initialized||(this._initialized=!0)}getWorker(){void 0===h&&(h=navigator.hardwareConcurrency||4);let e=this.workerPool.pop();return!e&&this._createdWorkers<h&&(this._createdWorkers++,(e=new n.default).addEventListener("message",e=>{this.complete(e.data),this.returnWorker(e.target),this.next()})),e}returnWorker(e){this.workerPool.push(e)}complete(e){void 0!==e.error?this.resolveHash[e.uuid].reject(e.error):this.resolveHash[e.uuid].resolve(e.data),this.resolveHash[e.uuid]=null}async _run(e,t){await this._initWorkers();let r=new Promise((r,s)=>{this.queue.push({id:e,arguments:t,resolve:r,reject:s})});return this.next(),r}next(){if(!this.queue.length)return;let e=this.getWorker();if(!e)return;let t=this.queue.pop(),r=t.id;this.resolveHash[l]={resolve:t.resolve,reject:t.reject},e.postMessage({data:t.arguments,uuid:l++,id:r})}}},{"../../_virtual/checkImageBitmap.worker.mjs":"dM0v5","../../_virtual/loadImageBitmap.worker.mjs":"3GeWj","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],dM0v5:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"default",()=>o);let i=`(function() {
  "use strict";
  const WHITE_PNG = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=";
  async function checkImageBitmap() {
    try {
      if (typeof createImageBitmap != "function")
        return !1;
      const imageBlob = await (await fetch(WHITE_PNG)).blob(), imageBitmap = await createImageBitmap(imageBlob);
      return imageBitmap.width === 1 && imageBitmap.height === 1;
    } catch {
      return !1;
    }
  }
  checkImageBitmap().then((result) => {
    self.postMessage(result);
  });
})();
`,a=null;class o extends Worker{constructor(){a||(a=URL.createObjectURL(new Blob([i],{type:"application/javascript"}))),super(a)}}o.revokeObjectURL=function(){a&&(URL.revokeObjectURL(a),a=null)}},{"@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"3GeWj":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"default",()=>o);let i=`(function() {
  "use strict";
  async function loadImageBitmap(url) {
    const response = await fetch(url);
    if (!response.ok)
      throw new Error(\`[WorkerManager.loadImageBitmap] Failed to fetch \${url}: \${response.status} \${response.statusText}\`);
    const imageBlob = await response.blob();
    return await createImageBitmap(imageBlob);
  }
  self.onmessage = async (event) => {
    try {
      const imageBitmap = await loadImageBitmap(event.data.data[0]);
      self.postMessage({
        data: imageBitmap,
        uuid: event.data.uuid,
        id: event.data.id
      }, [imageBitmap]);
    } catch (e) {
      self.postMessage({
        error: e,
        uuid: event.data.uuid,
        id: event.data.id
      });
    }
  };
})();
`,a=null;class o extends Worker{constructor(){a||(a=URL.createObjectURL(new Blob([i],{type:"application/javascript"}))),super(a)}}o.revokeObjectURL=function(){a&&(URL.revokeObjectURL(a),a=null)}},{"@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"5gDq4":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"createTexture",()=>o);var i=e("@pixi/core"),a=e("../../../../cache/Cache.mjs");function o(e,t,r){e.resource.internal=!0;let s=new i.Texture(e),o=()=>{delete t.promiseCache[r],(0,a.Cache).has(r)&&(0,a.Cache).remove(r)};return s.baseTexture.once("destroyed",()=>{r in t.promiseCache&&(console.warn("[Assets] A BaseTexture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the BaseTexture."),o())}),s.once("destroyed",()=>{e.destroyed||(console.warn("[Assets] A Texture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the Texture."),o())}),s}},{"@pixi/core":"dUVGa","../../../../cache/Cache.mjs":"5CPlP","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],NRVTi:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"loadVideo",()=>c);var i=e("@pixi/core"),a=e("../../../utils/checkDataUrl.mjs"),o=e("../../../utils/checkExtension.mjs"),n=e("../LoaderParser.mjs"),l=e("./utils/createTexture.mjs");let h=[".mp4",".m4v",".webm",".ogv"],u=["video/mp4","video/webm","video/ogg"],c={name:"loadVideo",extension:{type:i.ExtensionType.LoadParser,priority:n.LoaderParserPriority.High},config:{defaultAutoPlay:!0,defaultUpdateFPS:0,defaultLoop:!1,defaultMuted:!1,defaultPlaysinline:!0},test:e=>(0,a.checkDataUrl)(e,u)||(0,o.checkExtension)(e,h),async load(e,t,r){let s;let a=await (await (0,i.settings).ADAPTER.fetch(e)).blob(),o=URL.createObjectURL(a);try{let a={autoPlay:this.config.defaultAutoPlay,updateFPS:this.config.defaultUpdateFPS,loop:this.config.defaultLoop,muted:this.config.defaultMuted,playsinline:this.config.defaultPlaysinline,...t?.data?.resourceOptions,autoLoad:!0},n=new i.VideoResource(o,a);await n.load();let h=new i.BaseTexture(n,{alphaMode:await (0,i.utils).detectVideoAlphaMode(),resolution:(0,i.utils).getResolutionOfUrl(e),...t?.data});h.resource.src=e,(s=(0,l.createTexture)(h,r,e)).baseTexture.once("destroyed",()=>{URL.revokeObjectURL(o)})}catch(e){throw URL.revokeObjectURL(o),e}return s},unload(e){e.destroy(!0)}};(0,i.extensions).add(c)},{"@pixi/core":"dUVGa","../../../utils/checkDataUrl.mjs":"auPgH","../../../utils/checkExtension.mjs":"fPbHA","../LoaderParser.mjs":"6skYe","./utils/createTexture.mjs":"5gDq4","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],d4Byn:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"createTexture",()=>i.createTexture);var i=e("./createTexture.mjs")},{"./createTexture.mjs":"5gDq4","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"4AQDS":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"Resolver",()=>l);var i=e("@pixi/core"),a=e("../utils/convertToList.mjs"),o=e("../utils/createStringVariations.mjs"),n=e("../utils/isSingleItem.mjs");class l{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(e,t)=>`${e}${this._bundleIdConnector}${t}`,extractAssetIdFromBundle:(e,t)=>t.replace(`${e}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(e){if(this._bundleIdConnector=e.connector??this._bundleIdConnector,this._createBundleAssetId=e.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=e.extractAssetIdFromBundle??this._extractAssetIdFromBundle,"bar"!==this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar")))throw Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...e){e.forEach(e=>{this._preferredOrder.push(e),e.priority||(e.priority=Object.keys(e.params))}),this._resolverHash={}}set basePath(e){this._basePath=e}get basePath(){return this._basePath}set rootPath(e){this._rootPath=e}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(e){"string"==typeof e?this._defaultSearchParams=e:this._defaultSearchParams=Object.keys(e).map(t=>`${encodeURIComponent(t)}=${encodeURIComponent(e[t])}`).join("&")}getAlias(e){let{alias:t,name:r,src:s,srcs:i}=e;return(0,a.convertToList)(t||r||s||i,e=>"string"==typeof e?e:Array.isArray(e)?e.map(e=>e?.src??e?.srcs??e):e?.src||e?.srcs?e.src??e.srcs:e,!0)}addManifest(e){this._manifest&&console.warn("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=e,e.bundles.forEach(e=>{this.addBundle(e.name,e.assets)})}addBundle(e,t){let r=[];Array.isArray(t)?t.forEach(t=>{let s;let i=t.src??t.srcs,a=t.alias??t.name;if("string"==typeof a){let t=this._createBundleAssetId(e,a);r.push(t),s=[a,t]}else{let t=a.map(t=>this._createBundleAssetId(e,t));r.push(...t),s=[...a,...t]}this.add({...t,alias:s,src:i})}):Object.keys(t).forEach(s=>{let i=[s,this._createBundleAssetId(e,s)];if("string"==typeof t[s])this.add({alias:i,src:t[s]});else if(Array.isArray(t[s]))this.add({alias:i,src:t[s]});else{let e=t[s],r=e.src??e.srcs;this.add({...e,alias:i,src:Array.isArray(r)?r:[r]})}r.push(...i)}),this._bundles[e]=r}add(e,t,r,s,n){let l;let h=[];"string"==typeof e||Array.isArray(e)&&"string"==typeof e[0]?((0,i.utils).deprecation("7.2.0",`Assets.add now uses an object instead of individual parameters.
Please use Assets.add({ alias, src, data, format, loadParser }) instead.`),h.push({alias:e,src:t,data:r,format:s,loadParser:n})):Array.isArray(e)?h.push(...e):h.push(e),l=e=>{this.hasKey(e)&&console.warn(`[Resolver] already has key: ${e} overwriting`)},(0,a.convertToList)(h).forEach(e=>{let{src:t,srcs:r}=e,{data:s,format:i,loadParser:n}=e,h=(0,a.convertToList)(t||r).map(e=>"string"==typeof e?(0,o.createStringVariations)(e):Array.isArray(e)?e:[e]),u=this.getAlias(e);Array.isArray(u)?u.forEach(l):l(u);let c=[];h.forEach(e=>{e.forEach(e=>{let t={};if("object"!=typeof e){t.src=e;for(let r=0;r<this._parsers.length;r++){let s=this._parsers[r];if(s.test(e)){t=s.parse(e);break}}}else s=e.data??s,i=e.format??i,n=e.loadParser??n,t={...t,...e};if(!u)throw Error(`[Resolver] alias is undefined for this asset: ${t.src}`);t=this.buildResolvedAsset(t,{aliases:u,data:s,format:i,loadParser:n}),c.push(t)})}),u.forEach(e=>{this._assetMap[e]=c})})}resolveBundle(e){let t=(0,n.isSingleItem)(e);e=(0,a.convertToList)(e);let r={};return e.forEach(e=>{let t=this._bundles[e];if(t){let s=this.resolve(t),i={};for(let t in s){let r=s[t];i[this._extractAssetIdFromBundle(e,t)]=r}r[e]=i}}),t?r[e[0]]:r}resolveUrl(e){let t=this.resolve(e);if("string"!=typeof e){let e={};for(let r in t)e[r]=t[r].src;return e}return t.src}resolve(e){let t=(0,n.isSingleItem)(e);e=(0,a.convertToList)(e);let r={};return e.forEach(e=>{if(!this._resolverHash[e]){if(this._assetMap[e]){let t=this._assetMap[e],r=t[0],s=this._getPreferredOrder(t);s?.priority.forEach(e=>{s.params[e].forEach(r=>{let s=t.filter(t=>!!t[e]&&t[e]===r);s.length&&(t=s)})}),this._resolverHash[e]=t[0]??r}else this._resolverHash[e]=this.buildResolvedAsset({alias:[e],src:e},{})}r[e]=this._resolverHash[e]}),t?r[e[0]]:r}hasKey(e){return!!this._assetMap[e]}hasBundle(e){return!!this._bundles[e]}_getPreferredOrder(e){for(let t=0;t<e.length;t++){let t=e[0],r=this._preferredOrder.find(e=>e.params.format.includes(t.format));if(r)return r}return this._preferredOrder[0]}_appendDefaultSearchParams(e){if(!this._defaultSearchParams)return e;let t=/\?/.test(e)?"&":"?";return`${e}${t}${this._defaultSearchParams}`}buildResolvedAsset(e,t){let{aliases:r,data:s,loadParser:a,format:o}=t;return(this._basePath||this._rootPath)&&(e.src=(0,i.utils).path.toAbsolute(e.src,this._basePath,this._rootPath)),e.alias=r??e.alias??[e.src],e.src=this._appendDefaultSearchParams(e.src),e.data={...s||{},...e.data},e.loadParser=a??e.loadParser,e.format=o??(0,i.utils).path.extname(e.src).slice(1),e.srcs=e.src,e.name=e.alias,e}}},{"@pixi/core":"dUVGa","../utils/convertToList.mjs":"7SSHp","../utils/createStringVariations.mjs":"f78qd","../utils/isSingleItem.mjs":"jL0kL","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"6Zuvt":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"Cache",()=>i.Cache);var i=e("./Cache.mjs");e("./CacheParser.mjs"),e("./parsers/index.mjs")},{"./Cache.mjs":"5CPlP","./CacheParser.mjs":"kgHZq","./parsers/index.mjs":"5vAm3","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],kgHZq:[function(e,t,r){},{}],"5vAm3":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"cacheTextureArray",()=>i.cacheTextureArray);var i=e("./cacheTextureArray.mjs")},{"./cacheTextureArray.mjs":"6qKT6","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"6qKT6":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"cacheTextureArray",()=>a);var i=e("@pixi/core");let a={extension:i.ExtensionType.CacheParser,test:e=>Array.isArray(e)&&e.every(e=>e instanceof i.Texture),getCacheableAssets:(e,t)=>{let r={};return e.forEach(e=>{t.forEach((t,s)=>{r[e+(0===s?"":s+1)]=t})}),r}};(0,i.extensions).add(a)},{"@pixi/core":"dUVGa","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"1TxXx":[function(e,t,r){e("./parsers/index.mjs")},{"./parsers/index.mjs":"k2WDq"}],k2WDq:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"detectAvif",()=>i.detectAvif),s.export(r,"detectDefaults",()=>o.detectDefaults),s.export(r,"detectMp4",()=>l.detectMp4),s.export(r,"detectOgv",()=>h.detectOgv),s.export(r,"detectWebm",()=>n.detectWebm),s.export(r,"detectWebp",()=>a.detectWebp);var i=e("./detectAvif.mjs"),a=e("./detectWebp.mjs"),o=e("./detectDefaults.mjs"),n=e("./detectWebm.mjs"),l=e("./detectMp4.mjs"),h=e("./detectOgv.mjs")},{"./detectAvif.mjs":"j0kaA","./detectWebp.mjs":"g3WOo","./detectDefaults.mjs":"jVP4g","./detectWebm.mjs":"h2ClP","./detectMp4.mjs":"gEoxh","./detectOgv.mjs":"cJQND","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],j0kaA:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"detectAvif",()=>o);var i=e("@pixi/core"),a=e("../utils/testImageFormat.mjs");let o={extension:{type:i.ExtensionType.DetectionParser,priority:1},test:async()=>(0,a.testImageFormat)("data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A="),add:async e=>[...e,"avif"],remove:async e=>e.filter(e=>"avif"!==e)};(0,i.extensions).add(o)},{"@pixi/core":"dUVGa","../utils/testImageFormat.mjs":"hlIxe","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],hlIxe:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");async function i(e){if("Image"in globalThis)return new Promise(t=>{let r=new Image;r.onload=()=>{t(!0)},r.onerror=()=>{t(!1)},r.src=e});if("createImageBitmap"in globalThis&&"fetch"in globalThis){try{let t=await (await fetch(e)).blob();await createImageBitmap(t)}catch{return!1}return!0}return!1}s.defineInteropFlag(r),s.export(r,"testImageFormat",()=>i)},{"@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],g3WOo:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"detectWebp",()=>o);var i=e("@pixi/core"),a=e("../utils/testImageFormat.mjs");let o={extension:{type:i.ExtensionType.DetectionParser,priority:0},test:async()=>(0,a.testImageFormat)("data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA="),add:async e=>[...e,"webp"],remove:async e=>e.filter(e=>"webp"!==e)};(0,i.extensions).add(o)},{"@pixi/core":"dUVGa","../utils/testImageFormat.mjs":"hlIxe","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],jVP4g:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"detectDefaults",()=>o);var i=e("@pixi/core");let a=["png","jpg","jpeg"],o={extension:{type:i.ExtensionType.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:async e=>[...e,...a],remove:async e=>e.filter(e=>!a.includes(e))};(0,i.extensions).add(o)},{"@pixi/core":"dUVGa","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],h2ClP:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"detectWebm",()=>o);var i=e("@pixi/core"),a=e("../utils/testVideoFormat.mjs");let o={extension:{type:i.ExtensionType.DetectionParser,priority:0},test:async()=>(0,a.testVideoFormat)("video/webm"),add:async e=>[...e,"webm"],remove:async e=>e.filter(e=>"webm"!==e)};(0,i.extensions).add(o)},{"@pixi/core":"dUVGa","../utils/testVideoFormat.mjs":"apobM","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],apobM:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"testVideoFormat",()=>a);let i="WorkerGlobalScope"in globalThis&&globalThis instanceof globalThis.WorkerGlobalScope;function a(e){return!i&&""!==document.createElement("video").canPlayType(e)}},{"@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],gEoxh:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"detectMp4",()=>o);var i=e("@pixi/core"),a=e("../utils/testVideoFormat.mjs");let o={extension:{type:i.ExtensionType.DetectionParser,priority:0},test:async()=>(0,a.testVideoFormat)("video/mp4"),add:async e=>[...e,"mp4","m4v"],remove:async e=>e.filter(e=>"mp4"!==e&&"m4v"!==e)};(0,i.extensions).add(o)},{"@pixi/core":"dUVGa","../utils/testVideoFormat.mjs":"apobM","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],cJQND:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"detectOgv",()=>o);var i=e("@pixi/core"),a=e("../utils/testVideoFormat.mjs");let o={extension:{type:i.ExtensionType.DetectionParser,priority:0},test:async()=>(0,a.testVideoFormat)("video/ogg"),add:async e=>[...e,"ogv"],remove:async e=>e.filter(e=>"ogv"!==e)};(0,i.extensions).add(o)},{"@pixi/core":"dUVGa","../utils/testVideoFormat.mjs":"apobM","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],duY03:[function(e,t,r){e("./parsers/index.mjs")},{"./parsers/index.mjs":"aEOwZ"}],bRqQw:[function(e,t,r){e("./parsers/index.mjs"),e("./types.mjs")},{"./parsers/index.mjs":"k67zx","./types.mjs":"4ILlZ"}],k67zx:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"resolveTextureUrl",()=>i.resolveTextureUrl);var i=e("./resolveTextureUrl.mjs")},{"./resolveTextureUrl.mjs":"aYaj7","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],aYaj7:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"resolveTextureUrl",()=>o);var i=e("@pixi/core");e("../../loader/index.mjs");var a=e("../../loader/parsers/textures/loadTextures.mjs");let o={extension:i.ExtensionType.ResolveParser,test:a.loadTextures.test,parse:e=>({resolution:parseFloat(i.settings.RETINA_PREFIX.exec(e)?.[1]??"1"),format:(0,i.utils).path.extname(e).slice(1),src:e})};(0,i.extensions).add(o)},{"@pixi/core":"dUVGa","../../loader/index.mjs":"duY03","../../loader/parsers/textures/loadTextures.mjs":"9th6E","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"4ILlZ":[function(e,t,r){},{}],"1vhkG":[function(e,t,r){},{}],fHYdX:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"BlobResource",()=>c.BlobResource),s.export(r,"CompressedTextureResource",()=>d.CompressedTextureResource),s.export(r,"FORMATS_TO_COMPONENTS",()=>u.FORMATS_TO_COMPONENTS),s.export(r,"INTERNAL_FORMATS",()=>i.INTERNAL_FORMATS),s.export(r,"INTERNAL_FORMAT_TO_BYTES_PER_PIXEL",()=>i.INTERNAL_FORMAT_TO_BYTES_PER_PIXEL),s.export(r,"TYPES_TO_BYTES_PER_COMPONENT",()=>u.TYPES_TO_BYTES_PER_COMPONENT),s.export(r,"TYPES_TO_BYTES_PER_PIXEL",()=>u.TYPES_TO_BYTES_PER_PIXEL),s.export(r,"detectCompressedTextures",()=>a.detectCompressedTextures),s.export(r,"loadDDS",()=>o.loadDDS),s.export(r,"loadKTX",()=>n.loadKTX),s.export(r,"parseDDS",()=>h.parseDDS),s.export(r,"parseKTX",()=>u.parseKTX),s.export(r,"resolveCompressedTextureUrl",()=>l.resolveCompressedTextureUrl);var i=e("./const.mjs");e("./loaders/index.mjs"),e("./parsers/index.mjs"),e("./resources/index.mjs");var a=e("./loaders/detectCompressedTextures.mjs"),o=e("./loaders/loadDDS.mjs"),n=e("./loaders/loadKTX.mjs"),l=e("./loaders/resolveCompressedTextureUrl.mjs"),h=e("./parsers/parseDDS.mjs"),u=e("./parsers/parseKTX.mjs"),c=e("./resources/BlobResource.mjs"),d=e("./resources/CompressedTextureResource.mjs")},{"./const.mjs":"3uf9i","./loaders/index.mjs":"iyLlH","./parsers/index.mjs":"g95BH","./resources/index.mjs":"c6qvN","./loaders/detectCompressedTextures.mjs":"eSxVf","./loaders/loadDDS.mjs":"kvVND","./loaders/loadKTX.mjs":"krZ0V","./loaders/resolveCompressedTextureUrl.mjs":"hMtje","./parsers/parseDDS.mjs":"gCVwv","./parsers/parseKTX.mjs":"kvDna","./resources/BlobResource.mjs":"t6EHU","./resources/CompressedTextureResource.mjs":"fucpP","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"3uf9i":[function(e,t,r){let s;var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r),i.export(r,"INTERNAL_FORMATS",()=>a),i.export(r,"INTERNAL_FORMAT_TO_BYTES_PER_PIXEL",()=>o);var a=((s=a||{})[s.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",s[s.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",s[s.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",s[s.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",s[s.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",s[s.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",s[s.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",s[s.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",s[s.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",s[s.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",s[s.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",s[s.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",s[s.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",s[s.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",s[s.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",s[s.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",s[s.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",s[s.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",s[s.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",s[s.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",s[s.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",s[s.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",s[s.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",s[s.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",s[s.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35987]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",s[s.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",s[s.COMPRESSED_RGBA_ASTC_4x4_KHR=37808]="COMPRESSED_RGBA_ASTC_4x4_KHR",s[s.COMPRESSED_RGBA_BPTC_UNORM_EXT=36492]="COMPRESSED_RGBA_BPTC_UNORM_EXT",s[s.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT=36493]="COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT",s[s.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT=36494]="COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT",s[s.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT=36495]="COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT",s);let o={33776:.5,33777:.5,33778:1,33779:1,35916:.5,35917:.5,35918:1,35919:1,37488:.5,37489:.5,37490:1,37491:1,37492:.5,37496:1,37493:.5,37497:1,37494:.5,37495:.5,35840:.5,35842:.5,35841:.25,35843:.25,36196:.5,35986:.5,35987:1,34798:1,37808:1,36492:1,36493:1,36494:1,36495:1}},{"@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],iyLlH:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"detectCompressedTextures",()=>i.detectCompressedTextures),s.export(r,"loadDDS",()=>a.loadDDS),s.export(r,"loadKTX",()=>o.loadKTX),s.export(r,"resolveCompressedTextureUrl",()=>n.resolveCompressedTextureUrl),e("./compressedTextureExtensions.mjs");var i=e("./detectCompressedTextures.mjs"),a=e("./loadDDS.mjs"),o=e("./loadKTX.mjs"),n=e("./resolveCompressedTextureUrl.mjs")},{"./compressedTextureExtensions.mjs":"6xOxw","./detectCompressedTextures.mjs":"eSxVf","./loadDDS.mjs":"kvVND","./loadKTX.mjs":"krZ0V","./resolveCompressedTextureUrl.mjs":"hMtje","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"6xOxw":[function(e,t,r){},{}],eSxVf:[function(e,t,r){let s,i;var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"detectCompressedTextures",()=>l);var o=e("@pixi/core");function n(){i={s3tc:s.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:s.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:s.getExtension("WEBGL_compressed_texture_etc"),etc1:s.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:s.getExtension("WEBGL_compressed_texture_pvrtc")||s.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:s.getExtension("WEBGL_compressed_texture_atc"),astc:s.getExtension("WEBGL_compressed_texture_astc"),bptc:s.getExtension("EXT_texture_compression_bptc")}}let l={extension:{type:o.ExtensionType.DetectionParser,priority:2},test:async()=>{let e=(0,o.settings).ADAPTER.createCanvas().getContext("webgl");return e?(s=e,!0):(console.warn("WebGL not available for compressed textures."),!1)},add:async e=>{i||n();let t=[];for(let e in i)i[e]&&t.push(e);return[...t,...e]},remove:async e=>(i||n(),e.filter(e=>!(e in i)))};(0,o.extensions).add(l)},{"@pixi/core":"dUVGa","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],kvVND:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"loadDDS",()=>n);var i=e("@pixi/assets"),a=e("@pixi/core");e("../parsers/index.mjs");var o=e("../parsers/parseDDS.mjs");let n={extension:{type:a.ExtensionType.LoadParser,priority:i.LoaderParserPriority.High},name:"loadDDS",test:e=>(0,i.checkExtension)(e,".dds"),async load(e,t,r){let s=await (await (0,a.settings).ADAPTER.fetch(e)).arrayBuffer(),n=(0,o.parseDDS)(s).map(s=>{let o=new a.BaseTexture(s,{mipmap:a.MIPMAP_MODES.OFF,alphaMode:a.ALPHA_MODES.NO_PREMULTIPLIED_ALPHA,resolution:(0,a.utils).getResolutionOfUrl(e),...t.data});return(0,i.createTexture)(o,r,e)});return 1===n.length?n[0]:n},unload(e){Array.isArray(e)?e.forEach(e=>e.destroy(!0)):e.destroy(!0)}};(0,a.extensions).add(n)},{"@pixi/assets":"9DLSB","@pixi/core":"dUVGa","../parsers/index.mjs":"g95BH","../parsers/parseDDS.mjs":"gCVwv","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],g95BH:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"FORMATS_TO_COMPONENTS",()=>a.FORMATS_TO_COMPONENTS),s.export(r,"TYPES_TO_BYTES_PER_COMPONENT",()=>a.TYPES_TO_BYTES_PER_COMPONENT),s.export(r,"TYPES_TO_BYTES_PER_PIXEL",()=>a.TYPES_TO_BYTES_PER_PIXEL),s.export(r,"parseDDS",()=>i.parseDDS),s.export(r,"parseKTX",()=>a.parseKTX);var i=e("./parseDDS.mjs"),a=e("./parseKTX.mjs")},{"./parseDDS.mjs":"gCVwv","./parseKTX.mjs":"kvDna","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],gCVwv:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"parseDDS",()=>u);var i=e("../const.mjs");e("../resources/index.mjs");var a=e("../resources/CompressedTextureResource.mjs");let o={FOURCC:2},n={DXGI_FORMAT:0,RESOURCE_DIMENSION:1,MISC_FLAG:2,ARRAY_SIZE:3},l={827611204:i.INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT1_EXT,861165636:i.INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT3_EXT,894720068:i.INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT5_EXT},h={70:i.INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT1_EXT,71:i.INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT1_EXT,73:i.INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT3_EXT,74:i.INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT3_EXT,76:i.INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT5_EXT,77:i.INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT5_EXT,72:i.INTERNAL_FORMATS.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,75:i.INTERNAL_FORMATS.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,78:i.INTERNAL_FORMATS.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT,96:i.INTERNAL_FORMATS.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT,95:i.INTERNAL_FORMATS.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT,98:i.INTERNAL_FORMATS.COMPRESSED_RGBA_BPTC_UNORM_EXT,99:i.INTERNAL_FORMATS.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT};function u(e){let t=new Uint32Array(e);if(542327876!==t[0])throw Error("Invalid DDS file magic word");let r=new Uint32Array(e,0,124/Uint32Array.BYTES_PER_ELEMENT),s=r[3],u=r[4],c=r[7],d=new Uint32Array(e,19*Uint32Array.BYTES_PER_ELEMENT,32/Uint32Array.BYTES_PER_ELEMENT),p=d[1];if(4&p){let r=d[o.FOURCC];if(808540228!==r){let t=l[r],i=new Uint8Array(e,128);return[new a.CompressedTextureResource(i,{format:t,width:u,height:s,levels:c})]}let p=new Uint32Array(t.buffer,128,20/Uint32Array.BYTES_PER_ELEMENT),m=p[n.DXGI_FORMAT],f=p[n.RESOURCE_DIMENSION],_=p[n.MISC_FLAG],g=p[n.ARRAY_SIZE],y=h[m];if(void 0===y)throw Error(`DDSParser cannot parse texture data with DXGI format ${m}`);if(4===_)throw Error("DDSParser does not support cubemap textures");if(6===f)throw Error("DDSParser does not supported 3D texture data");let x=[];if(1===g)x.push(new Uint8Array(e,148));else{let t=i.INTERNAL_FORMAT_TO_BYTES_PER_PIXEL[y],r=0,a=u,o=s;for(let e=0;e<c;e++)r+=Math.max(1,a+3&-4)*Math.max(1,o+3&-4)*t,a>>>=1,o>>>=1;let n=148;for(let t=0;t<g;t++)x.push(new Uint8Array(e,n,r)),n+=r}return x.map(e=>new a.CompressedTextureResource(e,{format:y,width:u,height:s,levels:c}))}throw 64&p?Error("DDSParser does not support uncompressed texture data."):512&p?Error("DDSParser does not supported YUV uncompressed texture data."):131072&p?Error("DDSParser does not support single-channel (lumninance) texture data!"):2&p?Error("DDSParser does not support single-channel (alpha) texture data!"):Error("DDSParser failed to load a texture file due to an unknown reason!")}},{"../const.mjs":"3uf9i","../resources/index.mjs":"c6qvN","../resources/CompressedTextureResource.mjs":"fucpP","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],c6qvN:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"BlobResource",()=>i.BlobResource),s.export(r,"CompressedTextureResource",()=>a.CompressedTextureResource);var i=e("./BlobResource.mjs"),a=e("./CompressedTextureResource.mjs")},{"./BlobResource.mjs":"t6EHU","./CompressedTextureResource.mjs":"fucpP","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],t6EHU:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"BlobResource",()=>a);var i=e("@pixi/core");class a extends i.BufferResource{constructor(e,t={width:1,height:1,autoLoad:!0}){let r,s;"string"==typeof e?(r=e,s=new Uint8Array):(r=null,s=e),super(s,t),this.origin=r,this.buffer=s?new i.ViewableBuffer(s):null,this._load=null,this.loaded=!1,null!==this.origin&&!1!==t.autoLoad&&this.load(),null===this.origin&&this.buffer&&(this._load=Promise.resolve(this),this.loaded=!0,this.onBlobLoaded(this.buffer.rawBinaryData))}onBlobLoaded(e){}load(){return this._load||(this._load=fetch(this.origin).then(e=>e.blob()).then(e=>e.arrayBuffer()).then(e=>(this.data=new Uint32Array(e),this.buffer=new i.ViewableBuffer(e),this.loaded=!0,this.onBlobLoaded(e),this.update(),this))),this._load}}},{"@pixi/core":"dUVGa","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],fucpP:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"CompressedTextureResource",()=>o);var i=e("../const.mjs"),a=e("./BlobResource.mjs");class o extends a.BlobResource{constructor(e,t){super(e,t),this.format=t.format,this.levels=t.levels||1,this._width=t.width,this._height=t.height,this._extension=o._formatToExtension(this.format),(t.levelBuffers||this.buffer)&&(this._levelBuffers=t.levelBuffers||o._createLevelBuffers(e instanceof Uint8Array?e:this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height))}upload(e,t,r){let s=e.gl;if(!e.context.extensions[this._extension])throw Error(`${this._extension} textures are not supported on the current machine`);if(!this._levelBuffers)return!1;s.pixelStorei(s.UNPACK_ALIGNMENT,4);for(let e=0,t=this.levels;e<t;e++){let{levelID:t,levelWidth:r,levelHeight:i,levelBuffer:a}=this._levelBuffers[e];s.compressedTexImage2D(s.TEXTURE_2D,t,this.format,r,i,0,a)}return!0}onBlobLoaded(){this._levelBuffers=o._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)}static _formatToExtension(e){if(e>=33776&&e<=33779)return"s3tc";if(e>=35916&&e<=35919)return"s3tc_sRGB";if(e>=37488&&e<=37497)return"etc";if(e>=35840&&e<=35843)return"pvrtc";if(36196===e)return"etc1";if(35986===e||35987===e||34798===e)return"atc";if(e>=36492&&e<=36495)return"bptc";if(37808===e)return"astc";throw Error(`Invalid (compressed) texture format given: ${e}`)}static _createLevelBuffers(e,t,r,s,a,o,n){let l=Array(r),h=e.byteOffset,u=o,c=n,d=u+s-1&~(s-1),p=c+a-1&~(a-1),m=d*p*i.INTERNAL_FORMAT_TO_BYTES_PER_PIXEL[t];for(let o=0;o<r;o++)l[o]={levelID:o,levelWidth:r>1?u:d,levelHeight:r>1?c:p,levelBuffer:new Uint8Array(e.buffer,h,m)},h+=m,c=c>>1||1,m=(d=(u=u>>1||1)+s-1&~(s-1))*(p=c+a-1&~(a-1))*i.INTERNAL_FORMAT_TO_BYTES_PER_PIXEL[t];return l}}},{"../const.mjs":"3uf9i","./BlobResource.mjs":"t6EHU","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],kvDna:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"FORMATS_TO_COMPONENTS",()=>u),s.export(r,"TYPES_TO_BYTES_PER_COMPONENT",()=>h),s.export(r,"TYPES_TO_BYTES_PER_PIXEL",()=>c),s.export(r,"parseKTX",()=>d);var i=e("@pixi/core"),a=e("../const.mjs");e("../resources/index.mjs");var o=e("../resources/CompressedTextureResource.mjs");let n=[171,75,84,88,32,49,49,187,13,10,26,10],l={ENDIANNESS:12,GL_TYPE:16,GL_FORMAT:24,GL_INTERNAL_FORMAT:28,PIXEL_WIDTH:36,PIXEL_HEIGHT:40,PIXEL_DEPTH:44,NUMBER_OF_ARRAY_ELEMENTS:48,NUMBER_OF_FACES:52,NUMBER_OF_MIPMAP_LEVELS:56,BYTES_OF_KEY_VALUE_DATA:60},h={[i.TYPES.UNSIGNED_BYTE]:1,[i.TYPES.UNSIGNED_SHORT]:2,[i.TYPES.INT]:4,[i.TYPES.UNSIGNED_INT]:4,[i.TYPES.FLOAT]:4,[i.TYPES.HALF_FLOAT]:8},u={[i.FORMATS.RGBA]:4,[i.FORMATS.RGB]:3,[i.FORMATS.RG]:2,[i.FORMATS.RED]:1,[i.FORMATS.LUMINANCE]:1,[i.FORMATS.LUMINANCE_ALPHA]:2,[i.FORMATS.ALPHA]:1},c={[i.TYPES.UNSIGNED_SHORT_4_4_4_4]:2,[i.TYPES.UNSIGNED_SHORT_5_5_5_1]:2,[i.TYPES.UNSIGNED_SHORT_5_6_5]:2};function d(e,t,r=!1){let s;let d=new DataView(t);if(!function(e,t){for(let r=0;r<n.length;r++)if(t.getUint8(r)!==n[r])return console.error(`${e} is not a valid *.ktx file!`),!1;return!0}(e,d))return null;let p=67305985===d.getUint32(l.ENDIANNESS,!0),m=d.getUint32(l.GL_TYPE,p),f=d.getUint32(l.GL_FORMAT,p),_=d.getUint32(l.GL_INTERNAL_FORMAT,p),g=d.getUint32(l.PIXEL_WIDTH,p),y=d.getUint32(l.PIXEL_HEIGHT,p)||1,x=d.getUint32(l.PIXEL_DEPTH,p)||1,b=d.getUint32(l.NUMBER_OF_ARRAY_ELEMENTS,p)||1,T=d.getUint32(l.NUMBER_OF_FACES,p),v=d.getUint32(l.NUMBER_OF_MIPMAP_LEVELS,p),A=d.getUint32(l.BYTES_OF_KEY_VALUE_DATA,p);if(0===y||1!==x)throw Error("Only 2D textures are supported");if(1!==T)throw Error("CubeTextures are not supported by KTXLoader yet!");if(1!==b)throw Error("WebGL does not support array textures");let j=g+3&-4,E=y+3&-4,S=Array(b),P=g*y;if(0===m&&(P=j*E),void 0===(s=0!==m?h[m]?h[m]*u[f]:c[m]:a.INTERNAL_FORMAT_TO_BYTES_PER_PIXEL[_]))throw Error("Unable to resolve the pixel format stored in the *.ktx file!");let M=r?function(e,t,r){let s=new Map,i=0;for(;i<t;){let a=e.getUint32(64+i,r),o=64+i+4,n=3-(a+3)%4;if(0===a||a>t-i){console.error("KTXLoader: keyAndValueByteSize out of bounds");break}let l=0;for(;l<a&&0!==e.getUint8(o+l);l++);if(-1===l){console.error("KTXLoader: Failed to find null byte terminating kvData key");break}let h=new TextDecoder().decode(new Uint8Array(e.buffer,o,l)),u=new DataView(e.buffer,o+l+1,a-l-1);s.set(h,u),i+=4+a+n}return s}(d,A,p):null,C=P*s,R=g,F=y,I=j,w=E,L=64+A;for(let e=0;e<v;e++){let r=d.getUint32(L,p),i=L+4;for(let r=0;r<b;r++){let s=S[r];s||(s=S[r]=Array(v)),s[e]={levelID:e,levelWidth:v>1||0!==m?R:I,levelHeight:v>1||0!==m?F:w,levelBuffer:new Uint8Array(t,i,C)},i+=C}L+=r+4,L=L%4!=0?L+4-L%4:L,F=F>>1||1,C=(I=(R=R>>1||1)+4-1&-4)*(w=F+4-1&-4)*s}return 0!==m?{uncompressed:S.map(e=>{let t=e[0].levelBuffer,r=!1;return m===i.TYPES.FLOAT?t=new Float32Array(e[0].levelBuffer.buffer,e[0].levelBuffer.byteOffset,e[0].levelBuffer.byteLength/4):m===i.TYPES.UNSIGNED_INT?(r=!0,t=new Uint32Array(e[0].levelBuffer.buffer,e[0].levelBuffer.byteOffset,e[0].levelBuffer.byteLength/4)):m===i.TYPES.INT&&(r=!0,t=new Int32Array(e[0].levelBuffer.buffer,e[0].levelBuffer.byteOffset,e[0].levelBuffer.byteLength/4)),{resource:new i.BufferResource(t,{width:e[0].levelWidth,height:e[0].levelHeight}),type:m,format:r?function(e){switch(e){case i.FORMATS.RGBA:return i.FORMATS.RGBA_INTEGER;case i.FORMATS.RGB:return i.FORMATS.RGB_INTEGER;case i.FORMATS.RG:return i.FORMATS.RG_INTEGER;case i.FORMATS.RED:return i.FORMATS.RED_INTEGER;default:return e}}(f):f}}),kvData:M}:{compressed:S.map(e=>new o.CompressedTextureResource(null,{format:_,width:g,height:y,levels:v,levelBuffers:e})),kvData:M}}},{"@pixi/core":"dUVGa","../const.mjs":"3uf9i","../resources/index.mjs":"c6qvN","../resources/CompressedTextureResource.mjs":"fucpP","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],krZ0V:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"loadKTX",()=>n);var i=e("@pixi/assets"),a=e("@pixi/core");e("../parsers/index.mjs");var o=e("../parsers/parseKTX.mjs");let n={extension:{type:a.ExtensionType.LoadParser,priority:i.LoaderParserPriority.High},name:"loadKTX",test:e=>(0,i.checkExtension)(e,".ktx"),async load(e,t,r){let s=await (await (0,a.settings).ADAPTER.fetch(e)).arrayBuffer(),{compressed:n,uncompressed:l,kvData:h}=(0,o.parseKTX)(e,s),u=n??l,c={mipmap:a.MIPMAP_MODES.OFF,alphaMode:a.ALPHA_MODES.NO_PREMULTIPLIED_ALPHA,resolution:(0,a.utils).getResolutionOfUrl(e),...t.data},d=u.map(t=>{u===l&&Object.assign(c,{type:t.type,format:t.format});let s=t.resource??t,o=new a.BaseTexture(s,c);return o.ktxKeyValueData=h,(0,i.createTexture)(o,r,e)});return 1===d.length?d[0]:d},unload(e){Array.isArray(e)?e.forEach(e=>e.destroy(!0)):e.destroy(!0)}};(0,a.extensions).add(n)},{"@pixi/assets":"9DLSB","@pixi/core":"dUVGa","../parsers/index.mjs":"g95BH","../parsers/parseKTX.mjs":"kvDna","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],hMtje:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"resolveCompressedTextureUrl",()=>a);var i=e("@pixi/core");let a={extension:i.ExtensionType.ResolveParser,test:e=>["basis","ktx","dds"].includes((0,i.utils).path.extname(e).slice(1)),parse:e=>{let t=(0,i.utils).path.extname(e).slice(1);if("ktx"===t){let t=[".s3tc.ktx",".s3tc_sRGB.ktx",".etc.ktx",".etc1.ktx",".pvrt.ktx",".atc.ktx",".astc.ktx",".bptc.ktx"];if(t.some(t=>e.endsWith(t)))return{resolution:parseFloat(i.settings.RETINA_PREFIX.exec(e)?.[1]??"1"),format:t.find(t=>e.endsWith(t)),src:e}}return{resolution:parseFloat(i.settings.RETINA_PREFIX.exec(e)?.[1]??"1"),format:t,src:e}}};(0,i.extensions).add(a)},{"@pixi/core":"dUVGa","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],aoVXp:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"Extract",()=>i.Extract);var i=e("./Extract.mjs")},{"./Extract.mjs":"lJMJU","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],lJMJU:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"Extract",()=>n);var i=e("@pixi/core");let a=new i.Rectangle,o=class e{constructor(e){this.renderer=e,this._rendererPremultipliedAlpha=!1}contextChange(){let e=this.renderer?.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(e&&e.alpha&&e.premultipliedAlpha)}async image(e,t,r,s){let i=new Image;return i.src=await this.base64(e,t,r,s),i}async base64(e,t,r,s){let i=this.canvas(e,s);if(void 0!==i.toBlob)return new Promise((e,s)=>{i.toBlob(t=>{if(!t){s(Error("ICanvas.toBlob failed!"));return}let r=new FileReader;r.onload=()=>e(r.result),r.onerror=s,r.readAsDataURL(t)},t,r)});if(void 0!==i.toDataURL)return i.toDataURL(t,r);if(void 0!==i.convertToBlob){let e=await i.convertToBlob({type:t,quality:r});return new Promise((t,r)=>{let s=new FileReader;s.onload=()=>t(s.result),s.onerror=r,s.readAsDataURL(e)})}throw Error("Extract.base64() requires ICanvas.toDataURL, ICanvas.toBlob, or ICanvas.convertToBlob to be implemented")}canvas(t,r){let{pixels:s,width:a,height:o,flipY:n,premultipliedAlpha:l}=this._rawPixels(t,r);n&&e._flipY(s,a,o),l&&e._unpremultiplyAlpha(s);let h=new i.utils.CanvasRenderTarget(a,o,1),u=new ImageData(new Uint8ClampedArray(s.buffer),a,o);return h.context.putImageData(u,0,0),h.canvas}pixels(t,r){let{pixels:s,width:i,height:a,flipY:o,premultipliedAlpha:n}=this._rawPixels(t,r);return o&&e._flipY(s,i,a),n&&e._unpremultiplyAlpha(s),s}_rawPixels(e,t){let r=this.renderer;if(!r)throw Error("The Extract has already been destroyed");let s,o=!1,n=!1,l,h=!1;e&&(e instanceof i.RenderTexture?l=e:(l=r.generateTexture(e,{region:t,resolution:r.resolution,multisample:r.multisample}),h=!0,t&&(a.width=t.width,a.height=t.height,t=a)));let u=r.gl;if(l){if(s=l.baseTexture.resolution,t=t??l.frame,o=!1,n=l.baseTexture.alphaMode>0&&l.baseTexture.format===i.FORMATS.RGBA,!h){r.renderTexture.bind(l);let e=l.framebuffer.glFramebuffers[r.CONTEXT_UID];e.blitFramebuffer&&r.framebuffer.bind(e.blitFramebuffer)}}else s=r.resolution,t||((t=a).width=r.width/s,t.height=r.height/s),o=!0,n=this._rendererPremultipliedAlpha,r.renderTexture.bind();let c=Math.max(Math.round(t.width*s),1),d=Math.max(Math.round(t.height*s),1),p=new Uint8Array(4*c*d);return u.readPixels(Math.round(t.x*s),Math.round(t.y*s),c,d,u.RGBA,u.UNSIGNED_BYTE,p),h&&l?.destroy(!0),{pixels:p,width:c,height:d,flipY:o,premultipliedAlpha:n}}destroy(){this.renderer=null}static _flipY(e,t,r){let s=t<<2,i=r>>1,a=new Uint8Array(s);for(let t=0;t<i;t++){let i=t*s,o=(r-t-1)*s;a.set(e.subarray(i,i+s)),e.copyWithin(i,o,o+s),e.set(a,o)}}static _unpremultiplyAlpha(e){e instanceof Uint8ClampedArray&&(e=new Uint8Array(e.buffer));let t=e.length;for(let r=0;r<t;r+=4){let t=e[r+3];if(0!==t){let s=255.001/t;e[r]=e[r]*s+.5,e[r+1]=e[r+1]*s+.5,e[r+2]=e[r+2]*s+.5}}}};o.extension={name:"extract",type:i.ExtensionType.RendererSystem};let n=o;(0,i.extensions).add(n)},{"@pixi/core":"dUVGa","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],knKbC:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"FillStyle",()=>h.FillStyle),s.export(r,"GRAPHICS_CURVES",()=>a.GRAPHICS_CURVES),s.export(r,"Graphics",()=>o.Graphics),s.export(r,"GraphicsData",()=>n.GraphicsData),s.export(r,"GraphicsGeometry",()=>l.GraphicsGeometry),s.export(r,"LINE_CAP",()=>a.LINE_CAP),s.export(r,"LINE_JOIN",()=>a.LINE_JOIN),s.export(r,"LineStyle",()=>u.LineStyle),s.export(r,"curves",()=>a.curves),s.export(r,"graphicsUtils",()=>b);var i=e("./utils/index.mjs"),a=e("./const.mjs"),o=e("./Graphics.mjs"),n=e("./GraphicsData.mjs"),l=e("./GraphicsGeometry.mjs"),h=e("./styles/FillStyle.mjs"),u=e("./styles/LineStyle.mjs"),c=e("./utils/buildPoly.mjs"),d=e("./utils/buildCircle.mjs"),p=e("./utils/buildRectangle.mjs"),m=e("./utils/buildRoundedRectangle.mjs"),f=e("./utils/buildLine.mjs"),_=e("./utils/ArcUtils.mjs"),g=e("./utils/BezierUtils.mjs"),y=e("./utils/QuadraticUtils.mjs"),x=e("./utils/BatchPart.mjs");let b={buildPoly:c.buildPoly,buildCircle:d.buildCircle,buildRectangle:p.buildRectangle,buildRoundedRectangle:m.buildRoundedRectangle,buildLine:f.buildLine,ArcUtils:_.ArcUtils,BezierUtils:g.BezierUtils,QuadraticUtils:y.QuadraticUtils,BatchPart:x.BatchPart,FILL_COMMANDS:i.FILL_COMMANDS,BATCH_POOL:i.BATCH_POOL,DRAW_CALL_POOL:i.DRAW_CALL_POOL}},{"./utils/index.mjs":"7EtTw","./const.mjs":"8nXzv","./Graphics.mjs":"iQPQq","./GraphicsData.mjs":"lrUoY","./GraphicsGeometry.mjs":"ewcoW","./styles/FillStyle.mjs":"5gEdO","./styles/LineStyle.mjs":"6qqHl","./utils/buildPoly.mjs":"bbNhK","./utils/buildCircle.mjs":"dAweU","./utils/buildRectangle.mjs":"6DX2e","./utils/buildRoundedRectangle.mjs":"SLUid","./utils/buildLine.mjs":"6ETN8","./utils/ArcUtils.mjs":"kXmUx","./utils/BezierUtils.mjs":"2SIot","./utils/QuadraticUtils.mjs":"hDWQQ","./utils/BatchPart.mjs":"5Ewu2","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"7EtTw":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"ArcUtils",()=>h.ArcUtils),s.export(r,"BATCH_POOL",()=>f),s.export(r,"BatchPart",()=>u.BatchPart),s.export(r,"BezierUtils",()=>c.BezierUtils),s.export(r,"DRAW_CALL_POOL",()=>_),s.export(r,"FILL_COMMANDS",()=>m),s.export(r,"QuadraticUtils",()=>p.QuadraticUtils),s.export(r,"buildCircle",()=>a.buildCircle),s.export(r,"buildLine",()=>d.buildLine),s.export(r,"buildPoly",()=>o.buildPoly),s.export(r,"buildRectangle",()=>n.buildRectangle),s.export(r,"buildRoundedRectangle",()=>l.buildRoundedRectangle);var i=e("@pixi/core"),a=e("./buildCircle.mjs"),o=e("./buildPoly.mjs"),n=e("./buildRectangle.mjs"),l=e("./buildRoundedRectangle.mjs"),h=e("./ArcUtils.mjs"),u=e("./BatchPart.mjs"),c=e("./BezierUtils.mjs"),d=e("./buildLine.mjs"),p=e("./QuadraticUtils.mjs");let m={[i.SHAPES.POLY]:o.buildPoly,[i.SHAPES.CIRC]:a.buildCircle,[i.SHAPES.ELIP]:a.buildCircle,[i.SHAPES.RECT]:n.buildRectangle,[i.SHAPES.RREC]:l.buildRoundedRectangle},f=[],_=[]},{"@pixi/core":"dUVGa","./buildCircle.mjs":"dAweU","./buildPoly.mjs":"bbNhK","./buildRectangle.mjs":"6DX2e","./buildRoundedRectangle.mjs":"SLUid","./ArcUtils.mjs":"kXmUx","./BatchPart.mjs":"5Ewu2","./BezierUtils.mjs":"2SIot","./buildLine.mjs":"6ETN8","./QuadraticUtils.mjs":"hDWQQ","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],dAweU:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"buildCircle",()=>a);var i=e("@pixi/core");let a={build(e){let t,r,s,a,o,n;let l=e.points;if(e.type===i.SHAPES.CIRC){let i=e.shape;t=i.x,r=i.y,o=n=i.radius,s=a=0}else if(e.type===i.SHAPES.ELIP){let i=e.shape;t=i.x,r=i.y,o=i.width,n=i.height,s=a=0}else{let i=e.shape,l=i.width/2,h=i.height/2;t=i.x+l,r=i.y+h,o=n=Math.max(0,Math.min(i.radius,Math.min(l,h))),s=l-o,a=h-n}if(!(o>=0&&n>=0&&s>=0&&a>=0)){l.length=0;return}let h=Math.ceil(2.3*Math.sqrt(o+n)),u=8*h+(s?4:0)+(a?4:0);if(l.length=u,0===u)return;if(0===h){l.length=8,l[0]=l[6]=t+s,l[1]=l[3]=r+a,l[2]=l[4]=t-s,l[5]=l[7]=r-a;return}let c=0,d=4*h+(s?2:0)+2,p=d,m=u;{let e=s+o,i=a,n=t+e,h=t-e,u=r+i;if(l[c++]=n,l[c++]=u,l[--d]=u,l[--d]=h,a){let e=r-i;l[p++]=h,l[p++]=e,l[--m]=e,l[--m]=n}}for(let e=1;e<h;e++){let i=Math.PI/2*(e/h),u=s+Math.cos(i)*o,f=a+Math.sin(i)*n,_=t+u,g=t-u,y=r+f,x=r-f;l[c++]=_,l[c++]=y,l[--d]=y,l[--d]=g,l[p++]=g,l[p++]=x,l[--m]=x,l[--m]=_}{let e=s,i=a+n,o=t+e,h=t-e,u=r+i,d=r-i;l[c++]=o,l[c++]=u,l[--m]=d,l[--m]=o,s&&(l[c++]=h,l[c++]=u,l[--m]=d,l[--m]=h)}},triangulate(e,t){let r,s;let a=e.points,o=t.points,n=t.indices;if(0===a.length)return;let l=o.length/2,h=l;if(e.type!==i.SHAPES.RREC){let t=e.shape;r=t.x,s=t.y}else{let t=e.shape;r=t.x+t.width/2,s=t.y+t.height/2}let u=e.matrix;o.push(e.matrix?u.a*r+u.c*s+u.tx:r,e.matrix?u.b*r+u.d*s+u.ty:s),l++,o.push(a[0],a[1]);for(let e=2;e<a.length;e+=2)o.push(a[e],a[e+1]),n.push(l++,h,l);n.push(h+1,h,l)}}},{"@pixi/core":"dUVGa","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],bbNhK:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"buildPoly",()=>o);var i=e("@pixi/core");function a(e,t=!1){let r=e.length;if(r<6)return;let s=0;for(let t=0,i=e[r-2],a=e[r-1];t<r;t+=2){let r=e[t],o=e[t+1];s+=(r-i)*(o+a),i=r,a=o}if(!t&&s>0||t&&s<=0){let t=r/2;for(let s=t+t%2;s<r;s+=2){let t=r-s-2,i=r-s-1,a=s,o=s+1;[e[t],e[a]]=[e[a],e[t]],[e[i],e[o]]=[e[o],e[i]]}}}let o={build(e){e.points=e.shape.points.slice()},triangulate(e,t){let r=e.points,s=e.holes,o=t.points,n=t.indices;if(r.length>=6){a(r,!1);let e=[];for(let t=0;t<s.length;t++){let i=s[t];a(i.points,!0),e.push(r.length/2),r=r.concat(i.points)}let t=(0,i.utils).earcut(r,e,2);if(!t)return;let l=o.length/2;for(let e=0;e<t.length;e+=3)n.push(t[e]+l),n.push(t[e+1]+l),n.push(t[e+2]+l);for(let e=0;e<r.length;e++)o.push(r[e])}}}},{"@pixi/core":"dUVGa","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"6DX2e":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"buildRectangle",()=>i);let i={build(e){let t=e.shape,r=t.x,s=t.y,i=t.width,a=t.height,o=e.points;o.length=0,i>=0&&a>=0&&o.push(r,s,r+i,s,r+i,s+a,r,s+a)},triangulate(e,t){let r=e.points,s=t.points;if(0===r.length)return;let i=s.length/2;s.push(r[0],r[1],r[2],r[3],r[6],r[7],r[4],r[5]),t.indices.push(i,i+1,i+2,i+1,i+2,i+3)}}},{"@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],SLUid:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"buildRoundedRectangle",()=>a);var i=e("./buildCircle.mjs");let a={build(e){(0,i.buildCircle).build(e)},triangulate(e,t){(0,i.buildCircle).triangulate(e,t)}}},{"./buildCircle.mjs":"dAweU","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],kXmUx:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"ArcUtils",()=>o);var i=e("@pixi/core"),a=e("../const.mjs");class o{static curveTo(e,t,r,s,i,a){let o=a[a.length-2],n=a[a.length-1]-t,l=o-e,h=s-t,u=r-e,c=Math.abs(n*u-l*h);if(c<1e-8||0===i)return(a[a.length-2]!==e||a[a.length-1]!==t)&&a.push(e,t),null;let d=n*n+l*l,p=h*h+u*u,m=n*h+l*u,f=i*Math.sqrt(d)/c,_=i*Math.sqrt(p)/c,g=f*m/d,y=_*m/p,x=f*u+_*l,b=f*h+_*n;return{cx:x+e,cy:b+t,radius:i,startAngle:Math.atan2(n*(_+g)-b,l*(_+g)-x),endAngle:Math.atan2(h*(f+y)-b,u*(f+y)-x),anticlockwise:l*h>u*n}}static arc(e,t,r,s,o,n,l,h,u){let c=l-n,d=(0,a.curves)._segmentsCount(Math.abs(c)*o,40*Math.ceil(Math.abs(c)/i.PI_2)),p=c/(2*d),m=2*p,f=Math.cos(p),_=Math.sin(p),g=d-1,y=g%1/g;for(let e=0;e<=g;++e){let t=p+n+m*(e+y*e),i=Math.cos(t),a=-Math.sin(t);u.push((f*i+_*a)*o+r,(-(f*a)+_*i)*o+s)}}}},{"@pixi/core":"dUVGa","../const.mjs":"8nXzv","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"8nXzv":[function(e,t,r){let s,i;var a=e("@parcel/transformer-js/src/esmodule-helpers.js");a.defineInteropFlag(r),a.export(r,"GRAPHICS_CURVES",()=>h),a.export(r,"LINE_CAP",()=>n),a.export(r,"LINE_JOIN",()=>o),a.export(r,"curves",()=>l);var o=((s=o||{}).MITER="miter",s.BEVEL="bevel",s.ROUND="round",s),n=((i=n||{}).BUTT="butt",i.ROUND="round",i.SQUARE="square",i);let l={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount(e,t=20){if(!this.adaptive||!e||isNaN(e))return t;let r=Math.ceil(e/this.maxLength);return r<this.minSegments?r=this.minSegments:r>this.maxSegments&&(r=this.maxSegments),r}},h=l},{"@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"5Ewu2":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"BatchPart",()=>i);class i{constructor(){this.reset()}begin(e,t,r){this.reset(),this.style=e,this.start=t,this.attribStart=r}end(e,t){this.attribSize=t-this.attribStart,this.size=e-this.start}reset(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0}}},{"@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"2SIot":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"BezierUtils",()=>a);var i=e("../const.mjs");class a{static curveLength(e,t,r,s,i,a,o,n){let l=0,h=0,u=0,c=0,d=0,p=0,m=0,f=0,_=0,g=0,y=0,x=e,b=t;for(let T=1;T<=10;++T)c=(u=(h=T/10)*h)*h,f=(m=(p=(d=1-h)*d)*d)*e+3*p*h*r+3*d*u*i+c*o,_=m*t+3*p*h*s+3*d*u*a+c*n,g=x-f,y=b-_,x=f,b=_,l+=Math.sqrt(g*g+y*y);return l}static curveTo(e,t,r,s,o,n,l){let h=l[l.length-2],u=l[l.length-1];l.length-=2;let c=(0,i.curves)._segmentsCount(a.curveLength(h,u,e,t,r,s,o,n)),d=0,p=0,m=0,f=0,_=0;l.push(h,u);for(let i=1,a=0;i<=c;++i)m=(p=(d=1-(a=i/c))*d)*d,_=(f=a*a)*a,l.push(m*h+3*p*a*e+3*d*f*r+_*o,m*u+3*p*a*t+3*d*f*s+_*n)}}},{"../const.mjs":"8nXzv","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"6ETN8":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"buildLine",()=>l);var i=e("@pixi/core"),a=e("../const.mjs");function o(e,t,r,s,i,a,o,n){let l,h;o?(l=s,h=-r):(l=-s,h=r);let u=e-r*i+l,c=t-s*i+h,d=e+r*a+l,p=t+s*a+h;return n.push(u,c,d,p),2}function n(e,t,r,s,i,a,o,n){let l=r-e,h=s-t,u=Math.atan2(l,h),c=Math.atan2(i-e,a-t);n&&u<c?u+=2*Math.PI:!n&&u>c&&(c+=2*Math.PI);let d=u,p=c-u,m=Math.sqrt(l*l+h*h),f=(15*Math.abs(p)*Math.sqrt(m)/Math.PI>>0)+1,_=p/f;if(d+=_,n){o.push(e,t,r,s);for(let r=1,s=d;r<f;r++,s+=_)o.push(e,t,e+Math.sin(s)*m,t+Math.cos(s)*m);o.push(e,t,i,a)}else{o.push(r,s,e,t);for(let r=1,s=d;r<f;r++,s+=_)o.push(e+Math.sin(s)*m,t+Math.cos(s)*m,e,t);o.push(i,a,e,t)}return 2*f}function l(e,t){e.lineStyle.native?function(e,t){let r=0,s=e.shape,a=e.points||s.points,o=s.type!==i.SHAPES.POLY||s.closeStroke;if(0===a.length)return;let n=t.points,l=t.indices,h=a.length/2,u=n.length/2,c=u;for(n.push(a[0],a[1]),r=1;r<h;r++)n.push(a[2*r],a[2*r+1]),l.push(c,c+1),c++;o&&l.push(c,u)}(e,t):function(e,t){let r=e.shape,s=e.points||r.points.slice(),l=t.closePointEps;if(0===s.length)return;let h=e.lineStyle,u=new i.Point(s[0],s[1]),c=new i.Point(s[s.length-2],s[s.length-1]),d=r.type!==i.SHAPES.POLY||r.closeStroke,p=Math.abs(u.x-c.x)<l&&Math.abs(u.y-c.y)<l;if(d){s=s.slice(),p&&(s.pop(),s.pop(),c.set(s[s.length-2],s[s.length-1]));let e=(u.x+c.x)*.5,t=(c.y+u.y)*.5;s.unshift(e,t),s.push(e,t)}let m=t.points,f=s.length/2,_=s.length,g=m.length/2,y=h.width/2,x=y*y,b=h.miterLimit*h.miterLimit,T=s[0],v=s[1],A=s[2],j=s[3],E=0,S=0,P=-(v-j),M=T-A,C=0,R=0,F=Math.sqrt(P*P+M*M);P/=F,M/=F,P*=y,M*=y;let I=h.alignment,w=(1-I)*2,L=2*I;d||(h.cap===a.LINE_CAP.ROUND?_+=n(T-P*(w-L)*.5,v-M*(w-L)*.5,T-P*w,v-M*w,T+P*L,v+M*L,m,!0)+2:h.cap===a.LINE_CAP.SQUARE&&(_+=o(T,v,P,M,w,L,!0,m))),m.push(T-P*w,v-M*w,T+P*L,v+M*L);for(let e=1;e<f-1;++e){T=s[(e-1)*2],v=s[(e-1)*2+1],A=s[2*e],j=s[2*e+1],E=s[(e+1)*2],S=s[(e+1)*2+1],F=Math.sqrt((P=-(v-j))*P+(M=T-A)*M),P/=F,M/=F,P*=y,M*=y,F=Math.sqrt((C=-(j-S))*C+(R=A-E)*R),C/=F,R/=F,C*=y,R*=y;let t=A-T,r=v-j,i=A-E,o=S-j,l=t*i+r*o,u=r*i-o*t,c=u<0;if(Math.abs(u)<.001*Math.abs(l)){m.push(A-P*w,j-M*w,A+P*L,j+M*L),l>=0&&(h.join===a.LINE_JOIN.ROUND?_+=n(A,j,A-P*w,j-M*w,A-C*w,j-R*w,m,!1)+4:_+=2,m.push(A-C*L,j-R*L,A+C*w,j+R*w));continue}let d=(-P+T)*(-M+j)-(-P+A)*(-M+v),p=(-C+E)*(-R+j)-(-C+A)*(-R+S),f=(t*p-i*d)/u,g=(o*d-r*p)/u,I=(f-A)*(f-A)+(g-j)*(g-j),O=A+(f-A)*w,B=j+(g-j)*w,D=A-(f-A)*L,N=j-(g-j)*L,k=c?w:L,G=I<=Math.min(t*t+r*r,i*i+o*o)+k*k*x,U=h.join;if(U===a.LINE_JOIN.MITER&&I/x>b&&(U=a.LINE_JOIN.BEVEL),G)switch(U){case a.LINE_JOIN.MITER:m.push(O,B,D,N);break;case a.LINE_JOIN.BEVEL:c?m.push(O,B,A+P*L,j+M*L,O,B,A+C*L,j+R*L):m.push(A-P*w,j-M*w,D,N,A-C*w,j-R*w,D,N),_+=2;break;case a.LINE_JOIN.ROUND:c?(m.push(O,B,A+P*L,j+M*L),_+=n(A,j,A+P*L,j+M*L,A+C*L,j+R*L,m,!0)+4,m.push(O,B,A+C*L,j+R*L)):(m.push(A-P*w,j-M*w,D,N),_+=n(A,j,A-P*w,j-M*w,A-C*w,j-R*w,m,!1)+4,m.push(A-C*w,j-R*w,D,N))}else{switch(m.push(A-P*w,j-M*w,A+P*L,j+M*L),U){case a.LINE_JOIN.MITER:c?m.push(D,N,D,N):m.push(O,B,O,B),_+=2;break;case a.LINE_JOIN.ROUND:c?_+=n(A,j,A+P*L,j+M*L,A+C*L,j+R*L,m,!0)+2:_+=n(A,j,A-P*w,j-M*w,A-C*w,j-R*w,m,!1)+2}m.push(A-C*w,j-R*w,A+C*L,j+R*L),_+=2}}T=s[(f-2)*2],v=s[(f-2)*2+1],A=s[(f-1)*2],F=Math.sqrt((P=-(v-(j=s[(f-1)*2+1])))*P+(M=T-A)*M),P/=F,M/=F,P*=y,M*=y,m.push(A-P*w,j-M*w,A+P*L,j+M*L),d||(h.cap===a.LINE_CAP.ROUND?_+=n(A-P*(w-L)*.5,j-M*(w-L)*.5,A-P*w,j-M*w,A+P*L,j+M*L,m,!1)+2:h.cap===a.LINE_CAP.SQUARE&&(_+=o(A,j,P,M,w,L,!1,m)));let O=t.indices,B=a.curves.epsilon*a.curves.epsilon;for(let e=g;e<_+g-2;++e)T=m[2*e],v=m[2*e+1],A=m[(e+1)*2],j=m[(e+1)*2+1],E=m[(e+2)*2],Math.abs(T*(j-(S=m[(e+2)*2+1]))+A*(S-v)+E*(v-j))<B||O.push(e,e+1,e+2)}(e,t)}},{"@pixi/core":"dUVGa","../const.mjs":"8nXzv","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],hDWQQ:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"QuadraticUtils",()=>a);var i=e("../const.mjs");class a{static curveLength(e,t,r,s,i,a){let o=e-2*r+i,n=t-2*s+a,l=2*r-2*e,h=2*s-2*t,u=4*(o*o+n*n),c=4*(o*l+n*h),d=l*l+h*h,p=2*Math.sqrt(u+c+d),m=Math.sqrt(u),f=2*u*m,_=2*Math.sqrt(d),g=c/m;return(f*p+m*c*(p-_)+(4*d*u-c*c)*Math.log((2*m+g+p)/(g+_)))/(4*f)}static curveTo(e,t,r,s,o){let n=o[o.length-2],l=o[o.length-1],h=(0,i.curves)._segmentsCount(a.curveLength(n,l,e,t,r,s)),u=0,c=0;for(let i=1;i<=h;++i){let a=i/h;u=n+(e-n)*a,c=l+(t-l)*a,o.push(u+(e+(r-e)*a-u)*a,c+(t+(s-t)*a-c)*a)}}}},{"../const.mjs":"8nXzv","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],iQPQq:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"Graphics",()=>f);var i=e("@pixi/core"),a=e("@pixi/display"),o=e("./const.mjs"),n=e("./GraphicsGeometry.mjs"),l=e("./styles/FillStyle.mjs"),h=e("./styles/LineStyle.mjs");e("./utils/index.mjs");var u=e("./utils/QuadraticUtils.mjs"),c=e("./utils/BezierUtils.mjs"),d=e("./utils/ArcUtils.mjs");let p={},m=class e extends a.Container{constructor(e=null){super(),this.shader=null,this.pluginName="batch",this.currentPath=null,this.batches=[],this.batchTint=-1,this.batchDirty=-1,this.vertexData=null,this._fillStyle=new l.FillStyle,this._lineStyle=new h.LineStyle,this._matrix=null,this._holeMode=!1,this.state=(0,i.State).for2d(),this._geometry=e||new n.GraphicsGeometry,this._geometry.refCount++,this._transformID=-1,this._tintColor=new i.Color(16777215),this.blendMode=i.BLEND_MODES.NORMAL}get geometry(){return this._geometry}clone(){return this.finishPoly(),new e(this._geometry)}set blendMode(e){this.state.blendMode=e}get blendMode(){return this.state.blendMode}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e)}get fill(){return this._fillStyle}get line(){return this._lineStyle}lineStyle(e=null,t=0,r,s=.5,i=!1){return"number"==typeof e&&(e={width:e,color:t,alpha:r,alignment:s,native:i}),this.lineTextureStyle(e)}lineTextureStyle(e){e=Object.assign({width:0,texture:i.Texture.WHITE,color:e?.texture?16777215:0,matrix:null,alignment:.5,native:!1,cap:o.LINE_CAP.BUTT,join:o.LINE_JOIN.MITER,miterLimit:10},e),this.normalizeColor(e),this.currentPath&&this.startPoly();let t=e.width>0&&e.alpha>0;return t?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._lineStyle,{visible:t},e)):this._lineStyle.reset(),this}startPoly(){if(this.currentPath){let e=this.currentPath.points,t=this.currentPath.points.length;t>2&&(this.drawShape(this.currentPath),this.currentPath=new i.Polygon,this.currentPath.closeStroke=!1,this.currentPath.points.push(e[t-2],e[t-1]))}else this.currentPath=new i.Polygon,this.currentPath.closeStroke=!1}finishPoly(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)}moveTo(e,t){return this.startPoly(),this.currentPath.points[0]=e,this.currentPath.points[1]=t,this}lineTo(e,t){this.currentPath||this.moveTo(0,0);let r=this.currentPath.points,s=r[r.length-2],i=r[r.length-1];return(s!==e||i!==t)&&r.push(e,t),this}_initCurve(e=0,t=0){this.currentPath?0===this.currentPath.points.length&&(this.currentPath.points=[e,t]):this.moveTo(e,t)}quadraticCurveTo(e,t,r,s){this._initCurve();let i=this.currentPath.points;return 0===i.length&&this.moveTo(0,0),(0,u.QuadraticUtils).curveTo(e,t,r,s,i),this}bezierCurveTo(e,t,r,s,i,a){return this._initCurve(),(0,c.BezierUtils).curveTo(e,t,r,s,i,a,this.currentPath.points),this}arcTo(e,t,r,s,i){this._initCurve(e,t);let a=this.currentPath.points,o=(0,d.ArcUtils).curveTo(e,t,r,s,i,a);if(o){let{cx:e,cy:t,radius:r,startAngle:s,endAngle:i,anticlockwise:a}=o;this.arc(e,t,r,s,i,a)}return this}arc(e,t,r,s,a,o=!1){if(s===a||(!o&&a<=s?a+=i.PI_2:o&&s<=a&&(s+=i.PI_2),a-s==0))return this;let n=e+Math.cos(s)*r,l=t+Math.sin(s)*r,h=this._geometry.closePointEps,u=this.currentPath?this.currentPath.points:null;if(u){let e=Math.abs(u[u.length-2]-n),t=Math.abs(u[u.length-1]-l);e<h&&t<h||u.push(n,l)}else this.moveTo(n,l),u=this.currentPath.points;return(0,d.ArcUtils).arc(n,l,e,t,r,s,a,o,u),this}beginFill(e=0,t){return this.beginTextureFill({texture:i.Texture.WHITE,color:e,alpha:t})}normalizeColor(e){let t=(0,i.Color).shared.setValue(e.color??0);e.color=t.toNumber(),e.alpha??(e.alpha=t.alpha)}beginTextureFill(e){e=Object.assign({texture:i.Texture.WHITE,color:16777215,matrix:null},e),this.normalizeColor(e),this.currentPath&&this.startPoly();let t=e.alpha>0;return t?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._fillStyle,{visible:t},e)):this._fillStyle.reset(),this}endFill(){return this.finishPoly(),this._fillStyle.reset(),this}drawRect(e,t,r,s){return this.drawShape(new i.Rectangle(e,t,r,s))}drawRoundedRect(e,t,r,s,a){return this.drawShape(new i.RoundedRectangle(e,t,r,s,a))}drawCircle(e,t,r){return this.drawShape(new i.Circle(e,t,r))}drawEllipse(e,t,r,s){return this.drawShape(new i.Ellipse(e,t,r,s))}drawPolygon(...e){let t,r=!0,s=e[0];s.points?(r=s.closeStroke,t=s.points):t=Array.isArray(e[0])?e[0]:e;let a=new i.Polygon(t);return a.closeStroke=r,this.drawShape(a),this}drawShape(e){return this._holeMode?this._geometry.drawHole(e,this._matrix):this._geometry.drawShape(e,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this}clear(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this}isFastRect(){let e=this._geometry.graphicsData;return 1===e.length&&e[0].shape.type===i.SHAPES.RECT&&!e[0].matrix&&!e[0].holes.length&&!(e[0].lineStyle.visible&&e[0].lineStyle.width)}_render(e){this.finishPoly();let t=this._geometry;t.updateBatches(),t.batchable?(this.batchDirty!==t.batchDirty&&this._populateBatches(),this._renderBatched(e)):(e.batch.flush(),this._renderDirect(e))}_populateBatches(){let e=this._geometry,t=this.blendMode,r=e.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=e.batchDirty,this.batches.length=r,this.vertexData=new Float32Array(e.points);for(let s=0;s<r;s++){let r=e.batches[s],a=r.style.color,o=new Float32Array(this.vertexData.buffer,8*r.attribStart,2*r.attribSize),n=new Float32Array(e.uvsFloat32.buffer,8*r.attribStart,2*r.attribSize),l={vertexData:o,blendMode:t,indices:new Uint16Array(e.indicesUint16.buffer,2*r.start,r.size),uvs:n,_batchRGB:(0,i.Color).shared.setValue(a).toRgbArray(),_tintRGB:a,_texture:r.style.texture,alpha:r.style.alpha,worldAlpha:1};this.batches[s]=l}}_renderBatched(e){if(this.batches.length){e.batch.setObjectRenderer(e.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(let t=0,r=this.batches.length;t<r;t++){let r=this.batches[t];r.worldAlpha=this.worldAlpha*r.alpha,e.plugins[this.pluginName].render(r)}}}_renderDirect(e){let t=this._resolveDirectShader(e),r=this._geometry,s=this.worldAlpha,a=t.uniforms,o=r.drawCalls;a.translationMatrix=this.transform.worldTransform,(0,i.Color).shared.setValue(this._tintColor).premultiply(s).toArray(a.tint),e.shader.bind(t),e.geometry.bind(r,t),e.state.set(this.state);for(let t=0,s=o.length;t<s;t++)this._renderDrawCallDirect(e,r.drawCalls[t])}_renderDrawCallDirect(e,t){let{texArray:r,type:s,size:i,start:a}=t,o=r.count;for(let t=0;t<o;t++)e.texture.bind(r.elements[t],t);e.geometry.draw(s,i,a)}_resolveDirectShader(e){let t=this.shader,r=this.pluginName;if(!t){if(!p[r]){let{maxTextures:t}=e.plugins[r],s=new Int32Array(t);for(let e=0;e<t;e++)s[e]=e;let a={tint:new Float32Array([1,1,1,1]),translationMatrix:new i.Matrix,default:(0,i.UniformGroup).from({uSamplers:s},!0)},o=e.plugins[r]._shader.program;p[r]=new i.Shader(o,a)}t=p[r]}return t}_calculateBounds(){this.finishPoly();let e=this._geometry;if(!e.graphicsData.length)return;let{minX:t,minY:r,maxX:s,maxY:i}=e.bounds;this._bounds.addFrame(this.transform,t,r,s,i)}containsPoint(t){return this.worldTransform.applyInverse(t,e._TEMP_POINT),this._geometry.containsPoint(e._TEMP_POINT)}calculateTints(){if(this.batchTint!==this.tint){this.batchTint=this._tintColor.toNumber();for(let e=0;e<this.batches.length;e++){let t=this.batches[e];t._tintRGB=(0,i.Color).shared.setValue(this._tintColor).multiply(t._batchRGB).toLittleEndianNumber()}}}calculateVertices(){let e=this.transform._worldID;if(this._transformID===e)return;this._transformID=e;let t=this.transform.worldTransform,r=t.a,s=t.b,i=t.c,a=t.d,o=t.tx,n=t.ty,l=this._geometry.points,h=this.vertexData,u=0;for(let e=0;e<l.length;e+=2){let t=l[e],c=l[e+1];h[u++]=r*t+i*c+o,h[u++]=a*c+s*t+n}}closePath(){let e=this.currentPath;return e&&(e.closeStroke=!0,this.finishPoly()),this}setMatrix(e){return this._matrix=e,this}beginHole(){return this.finishPoly(),this._holeMode=!0,this}endHole(){return this.finishPoly(),this._holeMode=!1,this}destroy(e){this._geometry.refCount--,0===this._geometry.refCount&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,super.destroy(e)}};m.curves=o.curves,m._TEMP_POINT=new i.Point;let f=m},{"@pixi/core":"dUVGa","@pixi/display":"2blAU","./const.mjs":"8nXzv","./GraphicsGeometry.mjs":"ewcoW","./styles/FillStyle.mjs":"5gEdO","./styles/LineStyle.mjs":"6qqHl","./utils/index.mjs":"7EtTw","./utils/QuadraticUtils.mjs":"hDWQQ","./utils/BezierUtils.mjs":"2SIot","./utils/ArcUtils.mjs":"kXmUx","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],ewcoW:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"GraphicsGeometry",()=>p);var i=e("@pixi/core"),a=e("@pixi/display"),o=e("./GraphicsData.mjs"),n=e("./utils/index.mjs"),l=e("./utils/BatchPart.mjs"),h=e("./utils/buildPoly.mjs"),u=e("./utils/buildLine.mjs");let c=new i.Point,d=class e extends i.BatchGeometry{constructor(){super(),this.closePointEps=1e-4,this.boundsPadding=0,this.uvsFloat32=null,this.indicesUint16=null,this.batchable=!1,this.points=[],this.colors=[],this.uvs=[],this.indices=[],this.textureIds=[],this.graphicsData=[],this.drawCalls=[],this.batchDirty=-1,this.batches=[],this.dirty=0,this.cacheDirty=-1,this.clearDirty=0,this.shapeIndex=0,this._bounds=new a.Bounds,this.boundsDirty=-1}get bounds(){return this.updateBatches(),this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds}invalidate(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(let e=0;e<this.drawCalls.length;e++)this.drawCalls[e].texArray.clear(),(0,n.DRAW_CALL_POOL).push(this.drawCalls[e]);this.drawCalls.length=0;for(let e=0;e<this.batches.length;e++){let t=this.batches[e];t.reset(),(0,n.BATCH_POOL).push(t)}this.batches.length=0}clear(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this}drawShape(e,t=null,r=null,s=null){let i=new o.GraphicsData(e,t,r,s);return this.graphicsData.push(i),this.dirty++,this}drawHole(e,t=null){if(!this.graphicsData.length)return null;let r=new o.GraphicsData(e,null,null,t),s=this.graphicsData[this.graphicsData.length-1];return r.lineStyle=s.lineStyle,s.holes.push(r),this.dirty++,this}destroy(){super.destroy();for(let e=0;e<this.graphicsData.length;++e)this.graphicsData[e].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null}containsPoint(e){let t=this.graphicsData;for(let r=0;r<t.length;++r){let s=t[r];if(s.fillStyle.visible&&s.shape&&(s.matrix?s.matrix.applyInverse(e,c):c.copyFrom(e),s.shape.contains(c.x,c.y))){let e=!1;if(s.holes){for(let t=0;t<s.holes.length;t++)if(s.holes[t].shape.contains(c.x,c.y)){e=!0;break}}if(!e)return!0}}return!1}updateBatches(){if(!this.graphicsData.length){this.batchable=!0;return}if(!this.validateBatching())return;this.cacheDirty=this.dirty;let e=this.uvs,t=this.graphicsData,r=null,s=null;this.batches.length>0&&(s=(r=this.batches[this.batches.length-1]).style);for(let a=this.shapeIndex;a<t.length;a++){this.shapeIndex++;let o=t[a],h=o.fillStyle,u=o.lineStyle;(0,n.FILL_COMMANDS)[o.type].build(o),o.matrix&&this.transformPoints(o.points,o.matrix),(h.visible||u.visible)&&this.processHoles(o.holes);for(let t=0;t<2;t++){let a=0===t?h:u;if(!a.visible)continue;let c=a.texture.baseTexture,d=this.indices.length,p=this.points.length/2;c.wrapMode=i.WRAP_MODES.REPEAT,0===t?this.processFill(o):this.processLine(o);let m=this.points.length/2-p;0!==m&&(r&&!this._compareStyles(s,a)&&(r.end(d,p),r=null),r||((r=(0,n.BATCH_POOL).pop()||new l.BatchPart).begin(a,d,p),this.batches.push(r),s=a),this.addUvs(this.points,e,a.texture,p,m,a.matrix))}}let a=this.indices.length,o=this.points.length/2;if(r&&r.end(a,o),0===this.batches.length){this.batchable=!0;return}let h=o>65535;this.indicesUint16&&this.indices.length===this.indicesUint16.length&&h===this.indicesUint16.BYTES_PER_ELEMENT>2?this.indicesUint16.set(this.indices):this.indicesUint16=h?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}_compareStyles(e,t){return!(!e||!t||e.texture.baseTexture!==t.texture.baseTexture||e.color+e.alpha!==t.color+t.alpha||!!e.native!=!!t.native)}validateBatching(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(let e=0,t=this.graphicsData.length;e<t;e++){let t=this.graphicsData[e],r=t.fillStyle,s=t.lineStyle;if(r&&!r.texture.baseTexture.valid||s&&!s.texture.baseTexture.valid)return!1}return!0}packBatches(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);let e=this.batches;for(let t=0,r=e.length;t<r;t++){let r=e[t];for(let e=0;e<r.size;e++){let t=r.start+e;this.indicesUint16[t]=this.indicesUint16[t]-r.attribStart}}}isBatchable(){if(this.points.length>131070)return!1;let t=this.batches;for(let e=0;e<t.length;e++)if(t[e].style.native)return!1;return this.points.length<2*e.BATCHABLE_SIZE}buildDrawCalls(){let e=++i.BaseTexture._globalBatch;for(let e=0;e<this.drawCalls.length;e++)this.drawCalls[e].texArray.clear(),(0,n.DRAW_CALL_POOL).push(this.drawCalls[e]);this.drawCalls.length=0;let t=this.colors,r=this.textureIds,s=(0,n.DRAW_CALL_POOL).pop();s||((s=new i.BatchDrawCall).texArray=new i.BatchTextureArray),s.texArray.count=0,s.start=0,s.size=0,s.type=i.DRAW_MODES.TRIANGLES;let a=0,o=null,l=0,h=!1,u=i.DRAW_MODES.TRIANGLES,c=0;this.drawCalls.push(s);for(let d=0;d<this.batches.length;d++){let p=this.batches[d],m=p.style,f=m.texture.baseTexture;!!m.native!==h&&(u=(h=!!m.native)?i.DRAW_MODES.LINES:i.DRAW_MODES.TRIANGLES,o=null,a=8,e++),o!==f&&(o=f,f._batchEnabled!==e&&(8===a&&(e++,a=0,s.size>0&&((s=(0,n.DRAW_CALL_POOL).pop())||((s=new i.BatchDrawCall).texArray=new i.BatchTextureArray),this.drawCalls.push(s)),s.start=c,s.size=0,s.texArray.count=0,s.type=u),f.touched=1,f._batchEnabled=e,f._batchLocation=a,f.wrapMode=i.WRAP_MODES.REPEAT,s.texArray.elements[s.texArray.count++]=f,a++)),s.size+=p.size,c+=p.size,l=f._batchLocation,this.addColors(t,m.color,m.alpha,p.attribSize,p.attribStart),this.addTextureIds(r,l,p.attribSize,p.attribStart)}i.BaseTexture._globalBatch=e,this.packAttributes()}packAttributes(){let e=this.points,t=this.uvs,r=this.colors,s=this.textureIds,i=new ArrayBuffer(12*e.length),a=new Float32Array(i),o=new Uint32Array(i),n=0;for(let i=0;i<e.length/2;i++)a[n++]=e[2*i],a[n++]=e[2*i+1],a[n++]=t[2*i],a[n++]=t[2*i+1],o[n++]=r[i],a[n++]=s[i];this._buffer.update(i),this._indexBuffer.update(this.indicesUint16)}processFill(e){e.holes.length?(0,h.buildPoly).triangulate(e,this):(0,n.FILL_COMMANDS)[e.type].triangulate(e,this)}processLine(e){(0,u.buildLine)(e,this);for(let t=0;t<e.holes.length;t++)(0,u.buildLine)(e.holes[t],this)}processHoles(e){for(let t=0;t<e.length;t++){let r=e[t];(0,n.FILL_COMMANDS)[r.type].build(r),r.matrix&&this.transformPoints(r.points,r.matrix)}}calculateBounds(){let e=this._bounds;e.clear(),e.addVertexData(this.points,0,this.points.length),e.pad(this.boundsPadding,this.boundsPadding)}transformPoints(e,t){for(let r=0;r<e.length/2;r++){let s=e[2*r],i=e[2*r+1];e[2*r]=t.a*s+t.c*i+t.tx,e[2*r+1]=t.b*s+t.d*i+t.ty}}addColors(e,t,r,s,a=0){let o=(0,i.Color).shared.setValue(t).toLittleEndianNumber(),n=(0,i.Color).shared.setValue(o).toPremultiplied(r);e.length=Math.max(e.length,a+s);for(let t=0;t<s;t++)e[a+t]=n}addTextureIds(e,t,r,s=0){e.length=Math.max(e.length,s+r);for(let i=0;i<r;i++)e[s+i]=t}addUvs(e,t,r,s,i,a=null){let o=0,n=t.length,l=r.frame;for(;o<i;){let r=e[(s+o)*2],i=e[(s+o)*2+1];if(a){let e=a.a*r+a.c*i+a.tx;i=a.b*r+a.d*i+a.ty,r=e}o++,t.push(r/l.width,i/l.height)}let h=r.baseTexture;(l.width<h.width||l.height<h.height)&&this.adjustUvs(t,r,n,i)}adjustUvs(e,t,r,s){let i=t.baseTexture,a=r+2*s,o=t.frame,n=o.width/i.width,l=o.height/i.height,h=o.x/o.width,u=o.y/o.height,c=Math.floor(e[r]+1e-6),d=Math.floor(e[r+1]+1e-6);for(let t=r+2;t<a;t+=2)c=Math.min(c,Math.floor(e[t]+1e-6)),d=Math.min(d,Math.floor(e[t+1]+1e-6));h-=c,u-=d;for(let t=r;t<a;t+=2)e[t]=(e[t]+h)*n,e[t+1]=(e[t+1]+u)*l}};d.BATCHABLE_SIZE=100;let p=d},{"@pixi/core":"dUVGa","@pixi/display":"2blAU","./GraphicsData.mjs":"lrUoY","./utils/index.mjs":"7EtTw","./utils/BatchPart.mjs":"5Ewu2","./utils/buildPoly.mjs":"bbNhK","./utils/buildLine.mjs":"6ETN8","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],lrUoY:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"GraphicsData",()=>i);class i{constructor(e,t=null,r=null,s=null){this.points=[],this.holes=[],this.shape=e,this.lineStyle=r,this.fillStyle=t,this.matrix=s,this.type=e.type}clone(){return new i(this.shape,this.fillStyle,this.lineStyle,this.matrix)}destroy(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null}}},{"@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"5gEdO":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"FillStyle",()=>a);var i=e("@pixi/core");class a{constructor(){this.color=16777215,this.alpha=1,this.texture=i.Texture.WHITE,this.matrix=null,this.visible=!1,this.reset()}clone(){let e=new a;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e}reset(){this.color=16777215,this.alpha=1,this.texture=i.Texture.WHITE,this.matrix=null,this.visible=!1}destroy(){this.texture=null,this.matrix=null}}},{"@pixi/core":"dUVGa","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"6qqHl":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"LineStyle",()=>o);var i=e("../const.mjs"),a=e("./FillStyle.mjs");class o extends a.FillStyle{constructor(){super(...arguments),this.width=0,this.alignment=.5,this.native=!1,this.cap=i.LINE_CAP.BUTT,this.join=i.LINE_JOIN.MITER,this.miterLimit=10}clone(){let e=new o;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e.width=this.width,e.alignment=this.alignment,e.native=this.native,e.cap=this.cap,e.join=this.join,e.miterLimit=this.miterLimit,e}reset(){super.reset(),this.color=0,this.alignment=.5,this.width=0,this.native=!1,this.cap=i.LINE_CAP.BUTT,this.join=i.LINE_JOIN.MITER,this.miterLimit=10}}},{"../const.mjs":"8nXzv","./FillStyle.mjs":"5gEdO","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],hq9Ok:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"Mesh",()=>i.Mesh),s.export(r,"MeshBatchUvs",()=>a.MeshBatchUvs),s.export(r,"MeshGeometry",()=>o.MeshGeometry),s.export(r,"MeshMaterial",()=>n.MeshMaterial);var i=e("./Mesh.mjs"),a=e("./MeshBatchUvs.mjs"),o=e("./MeshGeometry.mjs"),n=e("./MeshMaterial.mjs")},{"./Mesh.mjs":"caoK1","./MeshBatchUvs.mjs":"5eNQ1","./MeshGeometry.mjs":"6OOIs","./MeshMaterial.mjs":"1MiQB","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],caoK1:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"Mesh",()=>u);var i=e("@pixi/core"),a=e("@pixi/display"),o=e("./MeshBatchUvs.mjs");let n=new i.Point,l=new i.Polygon,h=class e extends a.Container{constructor(e,t,r,s=i.DRAW_MODES.TRIANGLES){super(),this.geometry=e,this.shader=t,this.state=r||(0,i.State).for2d(),this.drawMode=s,this.start=0,this.size=0,this.uvs=null,this.indices=null,this.vertexData=new Float32Array(1),this.vertexDirty=-1,this._transformID=-1,this._roundPixels=i.settings.ROUND_PIXELS,this.batchUvs=null}get geometry(){return this._geometry}set geometry(e){this._geometry!==e&&(this._geometry&&(this._geometry.refCount--,0===this._geometry.refCount&&this._geometry.dispose()),this._geometry=e,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)}get uvBuffer(){return this.geometry.buffers[1]}get verticesBuffer(){return this.geometry.buffers[0]}set material(e){this.shader=e}get material(){return this.shader}set blendMode(e){this.state.blendMode=e}get blendMode(){return this.state.blendMode}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get tint(){return"tint"in this.shader?this.shader.tint:null}set tint(e){this.shader.tint=e}get tintValue(){return this.shader.tintValue}get texture(){return"texture"in this.shader?this.shader.texture:null}set texture(e){this.shader.texture=e}_render(t){let r=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===i.DRAW_MODES.TRIANGLES&&r.length<2*e.BATCHABLE_SIZE?this._renderToBatch(t):this._renderDefault(t)}_renderDefault(e){let t=this.shader;t.alpha=this.worldAlpha,t.update&&t.update(),e.batch.flush(),t.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),e.shader.bind(t),e.state.set(this.state),e.geometry.bind(this.geometry,t),e.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)}_renderToBatch(e){let t=this.geometry,r=this.shader;r.uvMatrix&&(r.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=t.indexBuffer.data,this._tintRGB=r._tintRGB,this._texture=r.texture;let s=this.material.pluginName;e.batch.setObjectRenderer(e.plugins[s]),e.plugins[s].render(this)}calculateVertices(){let e=this.geometry.buffers[0],t=e.data,r=e._updateID;if(r===this.vertexDirty&&this._transformID===this.transform._worldID)return;this._transformID=this.transform._worldID,this.vertexData.length!==t.length&&(this.vertexData=new Float32Array(t.length));let s=this.transform.worldTransform,a=s.a,o=s.b,n=s.c,l=s.d,h=s.tx,u=s.ty,c=this.vertexData;for(let e=0;e<c.length/2;e++){let r=t[2*e],s=t[2*e+1];c[2*e]=a*r+n*s+h,c[2*e+1]=o*r+l*s+u}if(this._roundPixels){let e=i.settings.RESOLUTION;for(let t=0;t<c.length;++t)c[t]=Math.round(c[t]*e)/e}this.vertexDirty=r}calculateUvs(){let e=this.geometry.buffers[1],t=this.shader;t.uvMatrix.isSimple?this.uvs=e.data:(this.batchUvs||(this.batchUvs=new o.MeshBatchUvs(e,t.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)}_calculateBounds(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)}containsPoint(e){if(!this.getBounds().contains(e.x,e.y))return!1;this.worldTransform.applyInverse(e,n);let t=this.geometry.getBuffer("aVertexPosition").data,r=l.points,s=this.geometry.getIndex().data,i=s.length,a=4===this.drawMode?3:1;for(let e=0;e+2<i;e+=a){let i=2*s[e],a=2*s[e+1],o=2*s[e+2];if(r[0]=t[i],r[1]=t[i+1],r[2]=t[a],r[3]=t[a+1],r[4]=t[o],r[5]=t[o+1],l.contains(n.x,n.y))return!0}return!1}destroy(e){super.destroy(e),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null}};h.BATCHABLE_SIZE=100;let u=h},{"@pixi/core":"dUVGa","@pixi/display":"2blAU","./MeshBatchUvs.mjs":"5eNQ1","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"5eNQ1":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"MeshBatchUvs",()=>i);class i{constructor(e,t){this.uvBuffer=e,this.uvMatrix=t,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}update(e){if(!e&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)return;this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;let t=this.uvBuffer.data;this.data&&this.data.length===t.length||(this.data=new Float32Array(t.length)),this.uvMatrix.multiplyUvs(t,this.data),this._updateID++}}},{"@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"6OOIs":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"MeshGeometry",()=>a);var i=e("@pixi/core");class a extends i.Geometry{constructor(e,t,r){super();let s=new i.Buffer(e),a=new i.Buffer(t,!0),o=new i.Buffer(r,!0,!0);this.addAttribute("aVertexPosition",s,2,!1,i.TYPES.FLOAT).addAttribute("aTextureCoord",a,2,!1,i.TYPES.FLOAT).addIndex(o),this._updateId=-1}get vertexDirtyId(){return this.buffers[0]._updateID}}},{"@pixi/core":"dUVGa","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"1MiQB":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"MeshMaterial",()=>h);var i=e("@pixi/core"),a=e("./shader/mesh.frag.mjs"),o=s.interopDefault(a),n=e("./shader/mesh.vert.mjs"),l=s.interopDefault(n);class h extends i.Shader{constructor(e,t){let r={uSampler:e,alpha:1,uTextureMatrix:i.Matrix.IDENTITY,uColor:new Float32Array([1,1,1,1])};(t=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},t)).uniforms&&Object.assign(r,t.uniforms),super(t.program||(0,i.Program).from(l.default,o.default),r),this._colorDirty=!1,this.uvMatrix=new i.TextureMatrix(e),this.batchable=void 0===t.program,this.pluginName=t.pluginName,this._tintColor=new i.Color(t.tint),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0,this.alpha=t.alpha}get texture(){return this.uniforms.uSampler}set texture(e){this.uniforms.uSampler!==e&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!e.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=e,this.uvMatrix.texture=e)}set alpha(e){e!==this._alpha&&(this._alpha=e,this._colorDirty=!0)}get alpha(){return this._alpha}set tint(e){e!==this.tint&&(this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0)}get tint(){return this._tintColor.value}get tintValue(){return this._tintColor.toNumber()}update(){if(this._colorDirty){this._colorDirty=!1;let e=this.texture.baseTexture.alphaMode;(0,i.Color).shared.setValue(this._tintColor).premultiply(this._alpha,e).toArray(this.uniforms.uColor)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)}}},{"@pixi/core":"dUVGa","./shader/mesh.frag.mjs":"dtisi","./shader/mesh.vert.mjs":"a4lUc","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],dtisi:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"default",()=>i);var i=`varying vec2 vTextureCoord;
uniform vec4 uColor;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;
}
`},{"@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],a4lUc:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"default",()=>i);var i=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTextureMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;
}
`},{"@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],aGfaJ:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"NineSlicePlane",()=>o.NineSlicePlane),s.export(r,"PlaneGeometry",()=>i.PlaneGeometry),s.export(r,"RopeGeometry",()=>a.RopeGeometry),s.export(r,"SimpleMesh",()=>n.SimpleMesh),s.export(r,"SimplePlane",()=>l.SimplePlane),s.export(r,"SimpleRope",()=>h.SimpleRope);var i=e("./geometry/PlaneGeometry.mjs"),a=e("./geometry/RopeGeometry.mjs"),o=e("./NineSlicePlane.mjs"),n=e("./SimpleMesh.mjs"),l=e("./SimplePlane.mjs"),h=e("./SimpleRope.mjs")},{"./geometry/PlaneGeometry.mjs":"ebQA3","./geometry/RopeGeometry.mjs":"gr8pd","./NineSlicePlane.mjs":"aE3kd","./SimpleMesh.mjs":"bpjgw","./SimplePlane.mjs":"fsLFM","./SimpleRope.mjs":"jGc78","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],ebQA3:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"PlaneGeometry",()=>a);var i=e("@pixi/mesh");class a extends i.MeshGeometry{constructor(e=100,t=100,r=10,s=10){super(),this.segWidth=r,this.segHeight=s,this.width=e,this.height=t,this.build()}build(){let e=this.segWidth*this.segHeight,t=[],r=[],s=[],i=this.segWidth-1,a=this.segHeight-1,o=this.width/i,n=this.height/a;for(let s=0;s<e;s++){let e=s%this.segWidth,l=s/this.segWidth|0;t.push(e*o,l*n),r.push(e/i,l/a)}let l=i*a;for(let e=0;e<l;e++){let t=e%i,r=e/i|0,a=r*this.segWidth+t,o=r*this.segWidth+t+1,n=(r+1)*this.segWidth+t,l=(r+1)*this.segWidth+t+1;s.push(a,o,n,o,l,n)}this.buffers[0].data=new Float32Array(t),this.buffers[1].data=new Float32Array(r),this.indexBuffer.data=new Uint16Array(s),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()}}},{"@pixi/mesh":"hq9Ok","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],gr8pd:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"RopeGeometry",()=>a);var i=e("@pixi/mesh");class a extends i.MeshGeometry{constructor(e=200,t,r=0){super(new Float32Array(4*t.length),new Float32Array(4*t.length),new Uint16Array((t.length-1)*6)),this.points=t,this._width=e,this.textureScale=r,this.build()}get width(){return this._width}build(){let e=this.points;if(!e)return;let t=this.getBuffer("aVertexPosition"),r=this.getBuffer("aTextureCoord"),s=this.getIndex();if(e.length<1)return;t.data.length/4!==e.length&&(t.data=new Float32Array(4*e.length),r.data=new Float32Array(4*e.length),s.data=new Uint16Array((e.length-1)*6));let i=r.data,a=s.data;i[0]=0,i[1]=0,i[2]=0,i[3]=1;let o=0,n=e[0],l=this._width*this.textureScale,h=e.length;for(let t=0;t<h;t++){let r=4*t;if(this.textureScale>0){let r=n.x-e[t].x,s=n.y-e[t].y,i=Math.sqrt(r*r+s*s);n=e[t],o+=i/l}else o=t/(h-1);i[r]=o,i[r+1]=0,i[r+2]=o,i[r+3]=1}let u=0;for(let e=0;e<h-1;e++){let t=2*e;a[u++]=t,a[u++]=t+1,a[u++]=t+2,a[u++]=t+2,a[u++]=t+1,a[u++]=t+3}r.update(),s.update(),this.updateVertices()}updateVertices(){let e=this.points;if(e.length<1)return;let t=e[0],r,s=0,i=0,a=this.buffers[0].data,o=e.length,n=this.textureScale>0?this.textureScale*this._width/2:this._width/2;for(let l=0;l<o;l++){let h=e[l],u=4*l;i=-((r=l<e.length-1?e[l+1]:h).x-t.x),s=r.y-t.y;let c=(1-l/(o-1))*10;c>1&&(c=1);let d=Math.sqrt(s*s+i*i);d<1e-6?(s=0,i=0):(s/=d,i/=d,s*=n,i*=n),a[u]=h.x+s,a[u+1]=h.y+i,a[u+2]=h.x-s,a[u+3]=h.y-i,t=h}this.buffers[0].update()}update(){this.textureScale>0?this.build():this.updateVertices()}}},{"@pixi/mesh":"hq9Ok","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],aE3kd:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"NineSlicePlane",()=>o);var i=e("@pixi/core"),a=e("./SimplePlane.mjs");class o extends a.SimplePlane{constructor(e,t,r,s,a){super(i.Texture.WHITE,4,4),this._origWidth=e.orig.width,this._origHeight=e.orig.height,this._width=this._origWidth,this._height=this._origHeight,this._leftWidth=t??e.defaultBorders?.left??10,this._rightWidth=s??e.defaultBorders?.right??10,this._topHeight=r??e.defaultBorders?.top??10,this._bottomHeight=a??e.defaultBorders?.bottom??10,this.texture=e}textureUpdated(){this._textureID=this.shader.texture._updateID,this._refresh()}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(e){this.geometry.getBuffer("aVertexPosition").data=e}updateHorizontalVertices(){let e=this.vertices,t=this._getMinScale();e[9]=e[11]=e[13]=e[15]=this._topHeight*t,e[17]=e[19]=e[21]=e[23]=this._height-this._bottomHeight*t,e[25]=e[27]=e[29]=e[31]=this._height}updateVerticalVertices(){let e=this.vertices,t=this._getMinScale();e[2]=e[10]=e[18]=e[26]=this._leftWidth*t,e[4]=e[12]=e[20]=e[28]=this._width-this._rightWidth*t,e[6]=e[14]=e[22]=e[30]=this._width}_getMinScale(){let e=this._leftWidth+this._rightWidth,t=this._width>e?1:this._width/e,r=this._topHeight+this._bottomHeight;return Math.min(t,this._height>r?1:this._height/r)}get width(){return this._width}set width(e){this._width=e,this._refresh()}get height(){return this._height}set height(e){this._height=e,this._refresh()}get leftWidth(){return this._leftWidth}set leftWidth(e){this._leftWidth=e,this._refresh()}get rightWidth(){return this._rightWidth}set rightWidth(e){this._rightWidth=e,this._refresh()}get topHeight(){return this._topHeight}set topHeight(e){this._topHeight=e,this._refresh()}get bottomHeight(){return this._bottomHeight}set bottomHeight(e){this._bottomHeight=e,this._refresh()}_refresh(){let e=this.texture,t=this.geometry.buffers[1].data;this._origWidth=e.orig.width,this._origHeight=e.orig.height;let r=1/this._origWidth,s=1/this._origHeight;t[0]=t[8]=t[16]=t[24]=0,t[1]=t[3]=t[5]=t[7]=0,t[6]=t[14]=t[22]=t[30]=1,t[25]=t[27]=t[29]=t[31]=1,t[2]=t[10]=t[18]=t[26]=r*this._leftWidth,t[4]=t[12]=t[20]=t[28]=1-r*this._rightWidth,t[9]=t[11]=t[13]=t[15]=s*this._topHeight,t[17]=t[19]=t[21]=t[23]=1-s*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()}}},{"@pixi/core":"dUVGa","./SimplePlane.mjs":"fsLFM","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],fsLFM:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"SimplePlane",()=>n);var i=e("@pixi/core"),a=e("@pixi/mesh"),o=e("./geometry/PlaneGeometry.mjs");class n extends a.Mesh{constructor(e,t,r){super(new o.PlaneGeometry(e.width,e.height,t,r),new a.MeshMaterial(i.Texture.WHITE)),this.texture=e,this.autoResize=!0}textureUpdated(){this._textureID=this.shader.texture._updateID;let e=this.geometry,{width:t,height:r}=this.shader.texture;this.autoResize&&(e.width!==t||e.height!==r)&&(e.width=this.shader.texture.width,e.height=this.shader.texture.height,e.build())}set texture(e){this.shader.texture!==e&&(this.shader.texture=e,this._textureID=-1,e.baseTexture.valid?this.textureUpdated():e.once("update",this.textureUpdated,this))}get texture(){return this.shader.texture}_render(e){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),super._render(e)}destroy(e){this.shader.texture.off("update",this.textureUpdated,this),super.destroy(e)}}},{"@pixi/core":"dUVGa","@pixi/mesh":"hq9Ok","./geometry/PlaneGeometry.mjs":"ebQA3","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],bpjgw:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"SimpleMesh",()=>o);var i=e("@pixi/core"),a=e("@pixi/mesh");class o extends a.Mesh{constructor(e=i.Texture.EMPTY,t,r,s,o){let n=new a.MeshGeometry(t,r,s);n.getBuffer("aVertexPosition").static=!1,super(n,new a.MeshMaterial(e),null,o),this.autoUpdate=!0}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(e){this.geometry.getBuffer("aVertexPosition").data=e}_render(e){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),super._render(e)}}},{"@pixi/core":"dUVGa","@pixi/mesh":"hq9Ok","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],jGc78:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"SimpleRope",()=>n);var i=e("@pixi/core"),a=e("@pixi/mesh"),o=e("./geometry/RopeGeometry.mjs");class n extends a.Mesh{constructor(e,t,r=0){let s=new o.RopeGeometry(e.height,t,r),n=new a.MeshMaterial(e);r>0&&(e.baseTexture.wrapMode=i.WRAP_MODES.REPEAT),super(s,n),this.autoUpdate=!0}_render(e){let t=this.geometry;(this.autoUpdate||t._width!==this.shader.texture.height)&&(t._width=this.shader.texture.height,t.update()),super._render(e)}}},{"@pixi/core":"dUVGa","@pixi/mesh":"hq9Ok","./geometry/RopeGeometry.mjs":"gr8pd","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],g4mi1:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"ParticleContainer",()=>i.ParticleContainer),s.export(r,"ParticleRenderer",()=>a.ParticleRenderer);var i=e("./ParticleContainer.mjs"),a=e("./ParticleRenderer.mjs")},{"./ParticleContainer.mjs":"4Gpkf","./ParticleRenderer.mjs":"bslz6","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"4Gpkf":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"ParticleContainer",()=>o);var i=e("@pixi/core"),a=e("@pixi/display");class o extends a.Container{constructor(e=1500,t,r=16384,s=!1){super(),r>16384&&(r=16384),this._properties=[!1,!0,!1,!1,!1],this._maxSize=e,this._batchSize=r,this._buffers=null,this._bufferUpdateIDs=[],this._updateID=0,this.interactiveChildren=!1,this.blendMode=i.BLEND_MODES.NORMAL,this.autoResize=s,this.roundPixels=!0,this.baseTexture=null,this.setProperties(t),this._tintColor=new i.Color(0),this.tintRgb=new Float32Array(3),this.tint=16777215}setProperties(e){e&&(this._properties[0]="vertices"in e||"scale"in e?!!e.vertices||!!e.scale:this._properties[0],this._properties[1]="position"in e?!!e.position:this._properties[1],this._properties[2]="rotation"in e?!!e.rotation:this._properties[2],this._properties[3]="uvs"in e?!!e.uvs:this._properties[3],this._properties[4]="tint"in e||"alpha"in e?!!e.tint||!!e.alpha:this._properties[4])}updateTransform(){this.displayObjectUpdateTransform()}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e),this._tintColor.toRgbArray(this.tintRgb)}render(e){this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable&&(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",()=>this.onChildrenChange(0))),e.batch.setObjectRenderer(e.plugins.particle),e.plugins.particle.render(this))}onChildrenChange(e){let t=Math.floor(e/this._batchSize);for(;this._bufferUpdateIDs.length<t;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[t]=++this._updateID}dispose(){if(this._buffers){for(let e=0;e<this._buffers.length;++e)this._buffers[e].destroy();this._buffers=null}}destroy(e){super.destroy(e),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null}}},{"@pixi/core":"dUVGa","@pixi/display":"2blAU","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],bslz6:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"ParticleRenderer",()=>u);var i=e("@pixi/core"),a=e("./ParticleBuffer.mjs"),o=e("./particles.frag.mjs"),n=s.interopDefault(o),l=e("./particles.vert.mjs"),h=s.interopDefault(l);class u extends i.ObjectRenderer{constructor(e){super(e),this.shader=null,this.properties=null,this.tempMatrix=new i.Matrix,this.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:this.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:this.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:this.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:this.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:i.TYPES.UNSIGNED_BYTE,uploadFunction:this.uploadTint,offset:0}],this.shader=(0,i.Shader).from(h.default,n.default,{}),this.state=(0,i.State).for2d()}render(e){let t=e.children,r=e._maxSize,s=e._batchSize,a=this.renderer,o=t.length;if(0===o)return;o>r&&!e.autoResize&&(o=r);let n=e._buffers;n||(n=e._buffers=this.generateBuffers(e));let l=t[0]._texture.baseTexture,h=l.alphaMode>0;this.state.blendMode=(0,i.utils).correctBlendMode(e.blendMode,h),a.state.set(this.state);let u=a.gl,c=e.worldTransform.copyTo(this.tempMatrix);c.prepend(a.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=c.toArray(!0),this.shader.uniforms.uColor=(0,i.Color).shared.setValue(e.tintRgb).premultiply(e.worldAlpha,h).toArray(this.shader.uniforms.uColor),this.shader.uniforms.uSampler=l,this.renderer.shader.bind(this.shader);let d=!1;for(let r=0,i=0;r<o;r+=s,i+=1){let l=o-r;l>s&&(l=s),i>=n.length&&n.push(this._generateOneMoreBuffer(e));let h=n[i];h.uploadDynamic(t,r,l);let c=e._bufferUpdateIDs[i]||0;(d=d||h._updateID<c)&&(h._updateID=e._updateID,h.uploadStatic(t,r,l)),a.geometry.bind(h.geometry),u.drawElements(u.TRIANGLES,6*l,u.UNSIGNED_SHORT,0)}}generateBuffers(e){let t=[],r=e._maxSize,s=e._batchSize,i=e._properties;for(let e=0;e<r;e+=s)t.push(new a.ParticleBuffer(this.properties,i,s));return t}_generateOneMoreBuffer(e){let t=e._batchSize,r=e._properties;return new a.ParticleBuffer(this.properties,r,t)}uploadVertices(e,t,r,s,i,a){let o=0,n=0,l=0,h=0;for(let u=0;u<r;++u){let r=e[t+u],c=r._texture,d=r.scale.x,p=r.scale.y,m=c.trim,f=c.orig;m?(o=(n=m.x-r.anchor.x*f.width)+m.width,l=(h=m.y-r.anchor.y*f.height)+m.height):(o=f.width*(1-r.anchor.x),n=-(f.width*r.anchor.x),l=f.height*(1-r.anchor.y),h=-(f.height*r.anchor.y)),s[a]=n*d,s[a+1]=h*p,s[a+i]=o*d,s[a+i+1]=h*p,s[a+2*i]=o*d,s[a+2*i+1]=l*p,s[a+3*i]=n*d,s[a+3*i+1]=l*p,a+=4*i}}uploadPosition(e,t,r,s,i,a){for(let o=0;o<r;o++){let r=e[t+o].position;s[a]=r.x,s[a+1]=r.y,s[a+i]=r.x,s[a+i+1]=r.y,s[a+2*i]=r.x,s[a+2*i+1]=r.y,s[a+3*i]=r.x,s[a+3*i+1]=r.y,a+=4*i}}uploadRotation(e,t,r,s,i,a){for(let o=0;o<r;o++){let r=e[t+o].rotation;s[a]=r,s[a+i]=r,s[a+2*i]=r,s[a+3*i]=r,a+=4*i}}uploadUvs(e,t,r,s,i,a){for(let o=0;o<r;++o){let r=e[t+o]._texture._uvs;r?(s[a]=r.x0,s[a+1]=r.y0,s[a+i]=r.x1,s[a+i+1]=r.y1,s[a+2*i]=r.x2,s[a+2*i+1]=r.y2,s[a+3*i]=r.x3,s[a+3*i+1]=r.y3):(s[a]=0,s[a+1]=0,s[a+i]=0,s[a+i+1]=0,s[a+2*i]=0,s[a+2*i+1]=0,s[a+3*i]=0,s[a+3*i+1]=0),a+=4*i}}uploadTint(e,t,r,s,a,o){for(let n=0;n<r;++n){let r=e[t+n],l=(0,i.Color).shared.setValue(r._tintRGB).toPremultiplied(r.alpha,r.texture.baseTexture.alphaMode>0);s[o]=l,s[o+a]=l,s[o+2*a]=l,s[o+3*a]=l,o+=4*a}}destroy(){super.destroy(),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null}}u.extension={name:"particle",type:i.ExtensionType.RendererPlugin},(0,i.extensions).add(u)},{"@pixi/core":"dUVGa","./ParticleBuffer.mjs":"8SUBv","./particles.frag.mjs":"8CNnz","./particles.vert.mjs":"htLxE","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"8SUBv":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"ParticleBuffer",()=>a);var i=e("@pixi/core");class a{constructor(e,t,r){this.geometry=new i.Geometry,this.indexBuffer=null,this.size=r,this.dynamicProperties=[],this.staticProperties=[];for(let r=0;r<e.length;++r){let s=e[r];s={attributeName:s.attributeName,size:s.size,uploadFunction:s.uploadFunction,type:s.type||i.TYPES.FLOAT,offset:s.offset},t[r]?this.dynamicProperties.push(s):this.staticProperties.push(s)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}initBuffers(){let e=this.geometry,t=0;this.indexBuffer=new i.Buffer((0,i.utils).createIndicesForQuads(this.size),!0,!0),e.addIndex(this.indexBuffer),this.dynamicStride=0;for(let e=0;e<this.dynamicProperties.length;++e){let r=this.dynamicProperties[e];r.offset=t,t+=r.size,this.dynamicStride+=r.size}let r=new ArrayBuffer(this.size*this.dynamicStride*16);this.dynamicData=new Float32Array(r),this.dynamicDataUint32=new Uint32Array(r),this.dynamicBuffer=new i.Buffer(this.dynamicData,!1,!1);let s=0;this.staticStride=0;for(let e=0;e<this.staticProperties.length;++e){let t=this.staticProperties[e];t.offset=s,s+=t.size,this.staticStride+=t.size}let a=new ArrayBuffer(this.size*this.staticStride*16);this.staticData=new Float32Array(a),this.staticDataUint32=new Uint32Array(a),this.staticBuffer=new i.Buffer(this.staticData,!0,!1);for(let t=0;t<this.dynamicProperties.length;++t){let r=this.dynamicProperties[t];e.addAttribute(r.attributeName,this.dynamicBuffer,0,r.type===i.TYPES.UNSIGNED_BYTE,r.type,4*this.dynamicStride,4*r.offset)}for(let t=0;t<this.staticProperties.length;++t){let r=this.staticProperties[t];e.addAttribute(r.attributeName,this.staticBuffer,0,r.type===i.TYPES.UNSIGNED_BYTE,r.type,4*this.staticStride,4*r.offset)}}uploadDynamic(e,t,r){for(let s=0;s<this.dynamicProperties.length;s++){let a=this.dynamicProperties[s];a.uploadFunction(e,t,r,a.type===i.TYPES.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,a.offset)}this.dynamicBuffer._updateID++}uploadStatic(e,t,r){for(let s=0;s<this.staticProperties.length;s++){let a=this.staticProperties[s];a.uploadFunction(e,t,r,a.type===i.TYPES.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,a.offset)}this.staticBuffer._updateID++}destroy(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()}}},{"@pixi/core":"dUVGa","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"8CNnz":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"default",()=>i);var i=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

void main(void){
    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;
    gl_FragColor = color;
}`},{"@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],htLxE:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"default",()=>i);var i=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;

attribute vec2 aPositionCoord;
attribute float aRotation;

uniform mat3 translationMatrix;
uniform vec4 uColor;

varying vec2 vTextureCoord;
varying vec4 vColor;

void main(void){
    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);
    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);

    vec2 v = vec2(x, y);
    v = v + aPositionCoord;

    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vColor = aColor * uColor;
}
`},{"@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],fm6Ky:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"BasePrepare",()=>i.BasePrepare),s.export(r,"CountLimiter",()=>a.CountLimiter),s.export(r,"Prepare",()=>o.Prepare),s.export(r,"TimeLimiter",()=>n.TimeLimiter),e("./settings.mjs");var i=e("./BasePrepare.mjs"),a=e("./CountLimiter.mjs"),o=e("./Prepare.mjs"),n=e("./TimeLimiter.mjs")},{"./settings.mjs":"2l3Gj","./BasePrepare.mjs":"7NlMO","./CountLimiter.mjs":"i4a8y","./Prepare.mjs":"6vfNx","./TimeLimiter.mjs":"h0Inv","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"2l3Gj":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"settings",()=>i.settings);var i=e("@pixi/core"),a=e("./BasePrepare.mjs");Object.defineProperties(i.settings,{UPLOADS_PER_FRAME:{get:()=>a.BasePrepare.uploadsPerFrame,set(e){(0,i.utils).deprecation("7.1.0","settings.UPLOADS_PER_FRAME is deprecated, use prepare.BasePrepare.uploadsPerFrame"),a.BasePrepare.uploadsPerFrame=e}}})},{"@pixi/core":"dUVGa","./BasePrepare.mjs":"7NlMO","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"7NlMO":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"BasePrepare",()=>_);var i=e("@pixi/core"),a=e("@pixi/display"),o=e("@pixi/text"),n=e("./CountLimiter.mjs");function l(e,t){let r=!1;if(e?._textures?.length){for(let s=0;s<e._textures.length;s++)if(e._textures[s]instanceof i.Texture){let i=e._textures[s].baseTexture;t.includes(i)||(t.push(i),r=!0)}}return r}function h(e,t){if(e.baseTexture instanceof i.BaseTexture){let r=e.baseTexture;return t.includes(r)||t.push(r),!0}return!1}function u(e,t){if(e._texture&&e._texture instanceof i.Texture){let r=e._texture.baseTexture;return t.includes(r)||t.push(r),!0}return!1}function c(e,t){return t instanceof o.Text&&(t.updateText(!0),!0)}function d(e,t){if(t instanceof o.TextStyle){let e=t.toFontString();return(0,o.TextMetrics).measureFont(e),!0}return!1}function p(e,t){if(e instanceof o.Text){t.includes(e.style)||t.push(e.style),t.includes(e)||t.push(e);let r=e._texture.baseTexture;return t.includes(r)||t.push(r),!0}return!1}function m(e,t){return e instanceof o.TextStyle&&(t.includes(e)||t.push(e),!0)}let f=class e{constructor(t){this.limiter=new n.CountLimiter(e.uploadsPerFrame),this.renderer=t,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=()=>{this.queue&&this.prepareItems()},this.registerFindHook(p),this.registerFindHook(m),this.registerFindHook(l),this.registerFindHook(h),this.registerFindHook(u),this.registerUploadHook(c),this.registerUploadHook(d)}upload(e){return new Promise(t=>{e&&this.add(e),this.queue.length?(this.completes.push(t),this.ticking||(this.ticking=!0,(0,i.Ticker).system.addOnce(this.tick,this,i.UPDATE_PRIORITY.UTILITY))):t()})}tick(){setTimeout(this.delayedTick,0)}prepareItems(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){let e=this.queue[0],t=!1;if(e&&!e._destroyed){for(let r=0,s=this.uploadHooks.length;r<s;r++)if(this.uploadHooks[r](this.uploadHookHelper,e)){this.queue.shift(),t=!0;break}}t||this.queue.shift()}if(this.queue.length)(0,i.Ticker).system.addOnce(this.tick,this,i.UPDATE_PRIORITY.UTILITY);else{this.ticking=!1;let e=this.completes.slice(0);this.completes.length=0;for(let t=0,r=e.length;t<r;t++)e[t]()}}registerFindHook(e){return e&&this.addHooks.push(e),this}registerUploadHook(e){return e&&this.uploadHooks.push(e),this}add(e){for(let t=0,r=this.addHooks.length;t<r&&!this.addHooks[t](e,this.queue);t++);if(e instanceof a.Container)for(let t=e.children.length-1;t>=0;t--)this.add(e.children[t]);return this}destroy(){this.ticking&&(0,i.Ticker).system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null}};f.uploadsPerFrame=4;let _=f},{"@pixi/core":"dUVGa","@pixi/display":"2blAU","@pixi/text":"jmhqR","./CountLimiter.mjs":"i4a8y","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],jmhqR:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"TEXT_GRADIENT",()=>i.TEXT_GRADIENT),s.export(r,"Text",()=>a.Text),s.export(r,"TextMetrics",()=>o.TextMetrics),s.export(r,"TextStyle",()=>n.TextStyle);var i=e("./const.mjs"),a=e("./Text.mjs"),o=e("./TextMetrics.mjs"),n=e("./TextStyle.mjs")},{"./const.mjs":"ein4n","./Text.mjs":"e7YH1","./TextMetrics.mjs":"8TcRv","./TextStyle.mjs":"8VmNe","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],ein4n:[function(e,t,r){let s;var i=e("@parcel/transformer-js/src/esmodule-helpers.js");i.defineInteropFlag(r),i.export(r,"TEXT_GRADIENT",()=>a);var a=((s=a||{})[s.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",s[s.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL",s)},{"@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],e7YH1:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"Text",()=>c);var i=e("@pixi/core"),a=e("@pixi/sprite"),o=e("./const.mjs"),n=e("./TextMetrics.mjs"),l=e("./TextStyle.mjs");let h={texture:!0,children:!1,baseTexture:!0},u=class e extends a.Sprite{constructor(t,r,s){let a=!1;s||(s=(0,i.settings).ADAPTER.createCanvas(),a=!0),s.width=3,s.height=3;let o=(0,i.Texture).from(s);o.orig=new i.Rectangle,o.trim=new i.Rectangle,super(o),this._ownCanvas=a,this.canvas=s,this.context=s.getContext("2d",{willReadFrequently:!0}),this._resolution=e.defaultResolution??i.settings.RESOLUTION,this._autoResolution=e.defaultAutoResolution,this._text=null,this._style=null,this._styleListener=null,this._font="",this.text=t,this.style=r,this.localStyleID=-1}static get experimentalLetterSpacing(){return n.TextMetrics.experimentalLetterSpacing}static set experimentalLetterSpacing(e){(0,i.utils).deprecation("7.1.0","Text.experimentalLetterSpacing is deprecated, use TextMetrics.experimentalLetterSpacing"),n.TextMetrics.experimentalLetterSpacing=e}updateText(e){let t,r;let s=this._style;if(this.localStyleID!==s.styleID&&(this.dirty=!0,this.localStyleID=s.styleID),!this.dirty&&e)return;this._font=this._style.toFontString();let a=this.context,o=(0,n.TextMetrics).measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),l=o.width,h=o.height,u=o.lines,c=o.lineHeight,d=o.lineWidths,p=o.maxLineWidth,m=o.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,l)+2*s.padding)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,h)+2*s.padding)*this._resolution),a.scale(this._resolution,this._resolution),a.clearRect(0,0,this.canvas.width,this.canvas.height),a.font=this._font,a.lineWidth=s.strokeThickness,a.textBaseline=s.textBaseline,a.lineJoin=s.lineJoin,a.miterLimit=s.miterLimit;let f=s.dropShadow?2:1;for(let e=0;e<f;++e){let n=s.dropShadow&&0===e,l=n?Math.ceil(Math.max(1,h)+2*s.padding):0,f=l*this._resolution;if(n){a.fillStyle="black",a.strokeStyle="black";let e=s.dropShadowColor,t=s.dropShadowBlur*this._resolution,r=s.dropShadowDistance*this._resolution;a.shadowColor=(0,i.Color).shared.setValue(e).setAlpha(s.dropShadowAlpha).toRgbaString(),a.shadowBlur=t,a.shadowOffsetX=Math.cos(s.dropShadowAngle)*r,a.shadowOffsetY=Math.sin(s.dropShadowAngle)*r+f}else a.fillStyle=this._generateFillStyle(s,u,o),a.strokeStyle=s.stroke,a.shadowColor="black",a.shadowBlur=0,a.shadowOffsetX=0,a.shadowOffsetY=0;let _=(c-m.fontSize)/2;c-m.fontSize<0&&(_=0);for(let e=0;e<u.length;e++)t=s.strokeThickness/2,r=s.strokeThickness/2+e*c+m.ascent+_,"right"===s.align?t+=p-d[e]:"center"===s.align&&(t+=(p-d[e])/2),s.stroke&&s.strokeThickness&&this.drawLetterSpacing(u[e],t+s.padding,r+s.padding-l,!0),s.fill&&this.drawLetterSpacing(u[e],t+s.padding,r+s.padding-l)}this.updateTexture()}drawLetterSpacing(e,t,r,s=!1){let i=this._style.letterSpacing,a=!1;if(n.TextMetrics.experimentalLetterSpacingSupported&&(n.TextMetrics.experimentalLetterSpacing?(this.context.letterSpacing=`${i}px`,this.context.textLetterSpacing=`${i}px`,a=!0):(this.context.letterSpacing="0px",this.context.textLetterSpacing="0px")),0===i||a){s?this.context.strokeText(e,t,r):this.context.fillText(e,t,r);return}let o=t,l=(0,n.TextMetrics).graphemeSegmenter(e),h=this.context.measureText(e).width,u=0;for(let e=0;e<l.length;++e){let t=l[e];s?this.context.strokeText(t,o,r):this.context.fillText(t,o,r);let a="";for(let t=e+1;t<l.length;++t)a+=l[t];o+=h-(u=this.context.measureText(a).width)+i,h=u}}updateTexture(){let e=this.canvas;if(this._style.trim){let t=(0,i.utils).trimCanvas(e);t.data&&(e.width=t.width,e.height=t.height,this.context.putImageData(t.data,0,0))}let t=this._texture,r=this._style,s=r.trim?0:r.padding,a=t.baseTexture;t.trim.width=t._frame.width=e.width/this._resolution,t.trim.height=t._frame.height=e.height/this._resolution,t.trim.x=-s,t.trim.y=-s,t.orig.width=t._frame.width-2*s,t.orig.height=t._frame.height-2*s,this._onTextureUpdate(),a.setRealSize(e.width,e.height,this._resolution),t.updateUvs(),this.dirty=!1}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._render(e)}updateTransform(){this.updateText(!0),super.updateTransform()}getBounds(e,t){return this.updateText(!0),-1===this._textureID&&(e=!1),super.getBounds(e,t)}getLocalBounds(e){return this.updateText(!0),super.getLocalBounds.call(this,e)}_calculateBounds(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_generateFillStyle(e,t,r){let s;let i=e.fill;if(!Array.isArray(i))return i;if(1===i.length)return i[0];let a=e.dropShadow?e.dropShadowDistance:0,n=e.padding||0,l=this.canvas.width/this._resolution-a-2*n,h=this.canvas.height/this._resolution-a-2*n,u=i.slice(),c=e.fillGradientStops.slice();if(!c.length){let e=u.length+1;for(let t=1;t<e;++t)c.push(t/e)}if(u.unshift(i[0]),c.unshift(0),u.push(i[i.length-1]),c.push(1),e.fillGradientType===o.TEXT_GRADIENT.LINEAR_VERTICAL){s=this.context.createLinearGradient(l/2,n,l/2,h+n);let i=r.fontProperties.fontSize+e.strokeThickness;for(let e=0;e<t.length;e++){let a=r.lineHeight*(e-1)+i,o=r.lineHeight*e,n=o;e>0&&a>o&&(n=(o+a)/2);let l=o+i,d=r.lineHeight*(e+1),p=l;e+1<t.length&&d<l&&(p=(l+d)/2);let m=(p-n)/h;for(let e=0;e<u.length;e++){let t=Math.min(1,Math.max(0,n/h+("number"==typeof c[e]?c[e]:e/u.length)*m));t=Number(t.toFixed(5)),s.addColorStop(t,u[e])}}}else{s=this.context.createLinearGradient(n,h/2,l+n,h/2);let e=u.length+1,t=1;for(let r=0;r<u.length;r++){let i;i="number"==typeof c[r]?c[r]:t/e,s.addColorStop(i,u[r]),t++}}return s}destroy(e){"boolean"==typeof e&&(e={children:e}),e=Object.assign({},h,e),super.destroy(e),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width}set width(e){this.updateText(!0);let t=(0,i.utils).sign(this.scale.x)||1;this.scale.x=t*e/this._texture.orig.width,this._width=e}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height}set height(e){this.updateText(!0);let t=(0,i.utils).sign(this.scale.y)||1;this.scale.y=t*e/this._texture.orig.height,this._height=e}get style(){return this._style}set style(e){(e=e||{})instanceof l.TextStyle?this._style=e:this._style=new l.TextStyle(e),this.localStyleID=-1,this.dirty=!0}get text(){return this._text}set text(e){e=String(e??""),this._text!==e&&(this._text=e,this.dirty=!0)}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}};u.defaultAutoResolution=!0;let c=u},{"@pixi/core":"dUVGa","@pixi/sprite":"fbvJg","./const.mjs":"ein4n","./TextMetrics.mjs":"8TcRv","./TextStyle.mjs":"8VmNe","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"8TcRv":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"TextMetrics",()=>n);var i=e("@pixi/core");let a={willReadFrequently:!0},o=class e{static get experimentalLetterSpacingSupported(){let t=e._experimentalLetterSpacingSupported;if(void 0!==t){let r=(0,i.settings).ADAPTER.getCanvasRenderingContext2D().prototype;t=e._experimentalLetterSpacingSupported="letterSpacing"in r||"textLetterSpacing"in r}return t}constructor(e,t,r,s,i,a,o,n,l){this.text=e,this.style=t,this.width=r,this.height=s,this.lines=i,this.lineWidths=a,this.lineHeight=o,this.maxLineWidth=n,this.fontProperties=l}static measureText(t,r,s,i=e._canvas){s=s??r.wordWrap;let o=r.toFontString(),n=e.measureFont(o);0===n.fontSize&&(n.fontSize=r.fontSize,n.ascent=r.fontSize);let l=i.getContext("2d",a);l.font=o;let h=(s?e.wordWrap(t,r,i):t).split(/(?:\r\n|\r|\n)/),u=Array(h.length),c=0;for(let t=0;t<h.length;t++){let s=e._measureText(h[t],r.letterSpacing,l);u[t]=s,c=Math.max(c,s)}let d=c+r.strokeThickness;r.dropShadow&&(d+=r.dropShadowDistance);let p=r.lineHeight||n.fontSize+r.strokeThickness,m=Math.max(p,n.fontSize+2*r.strokeThickness)+r.leading+(h.length-1)*(p+r.leading);return r.dropShadow&&(m+=r.dropShadowDistance),new e(t,r,d,m,h,u,p+r.leading,c,n)}static _measureText(t,r,s){let i=!1;e.experimentalLetterSpacingSupported&&(e.experimentalLetterSpacing?(s.letterSpacing=`${r}px`,s.textLetterSpacing=`${r}px`,i=!0):(s.letterSpacing="0px",s.textLetterSpacing="0px"));let a=s.measureText(t).width;return a>0&&(i?a-=r:a+=(e.graphemeSegmenter(t).length-1)*r),a}static wordWrap(t,r,s=e._canvas){let i=s.getContext("2d",a),o=0,n="",l="",h=Object.create(null),{letterSpacing:u,whiteSpace:c}=r,d=e.collapseSpaces(c),p=e.collapseNewlines(c),m=!d,f=r.wordWrapWidth+u,_=e.tokenize(t);for(let t=0;t<_.length;t++){let s=_[t];if(e.isNewline(s)){if(!p){l+=e.addLine(n),m=!d,n="",o=0;continue}s=" "}if(d){let t=e.isBreakingSpace(s),r=e.isBreakingSpace(n[n.length-1]);if(t&&r)continue}let a=e.getFromCache(s,u,h,i);if(a>f){if(""!==n&&(l+=e.addLine(n),n="",o=0),e.canBreakWords(s,r.breakWords)){let t=e.wordWrapSplit(s);for(let a=0;a<t.length;a++){let c=t[a],d=c,p=1;for(;t[a+p];){let i=t[a+p];if(e.canBreakChars(d,i,s,a,r.breakWords))break;c+=i,d=i,p++}a+=p-1;let _=e.getFromCache(c,u,h,i);_+o>f&&(l+=e.addLine(n),m=!1,n="",o=0),n+=c,o+=_}}else{n.length>0&&(l+=e.addLine(n),n="",o=0);let r=t===_.length-1;l+=e.addLine(s,!r),m=!1,n="",o=0}}else a+o>f&&(m=!1,l+=e.addLine(n),n="",o=0),(n.length>0||!e.isBreakingSpace(s)||m)&&(n+=s,o+=a)}return l+e.addLine(n,!1)}static addLine(t,r=!0){return t=e.trimRight(t),t=r?`${t}
`:t}static getFromCache(t,r,s,i){let a=s[t];return"number"!=typeof a&&(a=e._measureText(t,r,i)+r,s[t]=a),a}static collapseSpaces(e){return"normal"===e||"pre-line"===e}static collapseNewlines(e){return"normal"===e}static trimRight(t){if("string"!=typeof t)return"";for(let r=t.length-1;r>=0;r--){let s=t[r];if(!e.isBreakingSpace(s))break;t=t.slice(0,-1)}return t}static isNewline(t){return"string"==typeof t&&e._newlines.includes(t.charCodeAt(0))}static isBreakingSpace(t,r){return"string"==typeof t&&e._breakingSpaces.includes(t.charCodeAt(0))}static tokenize(t){let r=[],s="";if("string"!=typeof t)return r;for(let i=0;i<t.length;i++){let a=t[i],o=t[i+1];if(e.isBreakingSpace(a,o)||e.isNewline(a)){""!==s&&(r.push(s),s=""),r.push(a);continue}s+=a}return""!==s&&r.push(s),r}static canBreakWords(e,t){return t}static canBreakChars(e,t,r,s,i){return!0}static wordWrapSplit(t){return e.graphemeSegmenter(t)}static measureFont(t){if(e._fonts[t])return e._fonts[t];let r={ascent:0,descent:0,fontSize:0},s=e._canvas,i=e._context;i.font=t;let a=e.METRICS_STRING+e.BASELINE_SYMBOL,o=Math.ceil(i.measureText(a).width),n=Math.ceil(i.measureText(e.BASELINE_SYMBOL).width),l=Math.ceil(e.HEIGHT_MULTIPLIER*n);if(n=n*e.BASELINE_MULTIPLIER|0,0===o||0===l)return e._fonts[t]=r,r;s.width=o,s.height=l,i.fillStyle="#f00",i.fillRect(0,0,o,l),i.font=t,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText(a,0,n);let h=i.getImageData(0,0,o,l).data,u=h.length,c=4*o,d=0,p=0,m=!1;for(d=0;d<n;++d){for(let e=0;e<c;e+=4)if(255!==h[p+e]){m=!0;break}if(m)break;p+=c}for(r.ascent=n-d,p=u-c,m=!1,d=l;d>n;--d){for(let e=0;e<c;e+=4)if(255!==h[p+e]){m=!0;break}if(m)break;p-=c}return r.descent=d-n,r.fontSize=r.ascent+r.descent,e._fonts[t]=r,r}static clearMetrics(t=""){t?delete e._fonts[t]:e._fonts={}}static get _canvas(){if(!e.__canvas){let t;try{let r=new OffscreenCanvas(0,0);if(r.getContext("2d",a)?.measureText)return e.__canvas=r,r;t=(0,i.settings).ADAPTER.createCanvas()}catch{t=(0,i.settings).ADAPTER.createCanvas()}t.width=t.height=10,e.__canvas=t}return e.__canvas}static get _context(){return e.__context||(e.__context=e._canvas.getContext("2d",a)),e.__context}};o.METRICS_STRING="|ÉqÅ",o.BASELINE_SYMBOL="M",o.BASELINE_MULTIPLIER=1.4,o.HEIGHT_MULTIPLIER=2,o.graphemeSegmenter=(()=>{if("function"==typeof Intl?.Segmenter){let e=new Intl.Segmenter;return t=>[...e.segment(t)].map(e=>e.segment)}return e=>[...e]})(),o.experimentalLetterSpacing=!1,o._fonts={},o._newlines=[10,13],o._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];let n=o},{"@pixi/core":"dUVGa","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"8VmNe":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"TextStyle",()=>l);var i=e("./const.mjs"),a=e("@pixi/core");let o=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],n=class e{constructor(e){this.styleID=0,this.reset(),u(this,e,e)}clone(){let t={};return u(t,this,e.defaultStyle),new e(t)}reset(){u(this,e.defaultStyle,e.defaultStyle)}get align(){return this._align}set align(e){this._align!==e&&(this._align=e,this.styleID++)}get breakWords(){return this._breakWords}set breakWords(e){this._breakWords!==e&&(this._breakWords=e,this.styleID++)}get dropShadow(){return this._dropShadow}set dropShadow(e){this._dropShadow!==e&&(this._dropShadow=e,this.styleID++)}get dropShadowAlpha(){return this._dropShadowAlpha}set dropShadowAlpha(e){this._dropShadowAlpha!==e&&(this._dropShadowAlpha=e,this.styleID++)}get dropShadowAngle(){return this._dropShadowAngle}set dropShadowAngle(e){this._dropShadowAngle!==e&&(this._dropShadowAngle=e,this.styleID++)}get dropShadowBlur(){return this._dropShadowBlur}set dropShadowBlur(e){this._dropShadowBlur!==e&&(this._dropShadowBlur=e,this.styleID++)}get dropShadowColor(){return this._dropShadowColor}set dropShadowColor(e){let t=h(e);this._dropShadowColor!==t&&(this._dropShadowColor=t,this.styleID++)}get dropShadowDistance(){return this._dropShadowDistance}set dropShadowDistance(e){this._dropShadowDistance!==e&&(this._dropShadowDistance=e,this.styleID++)}get fill(){return this._fill}set fill(e){let t=h(e);this._fill!==t&&(this._fill=t,this.styleID++)}get fillGradientType(){return this._fillGradientType}set fillGradientType(e){this._fillGradientType!==e&&(this._fillGradientType=e,this.styleID++)}get fillGradientStops(){return this._fillGradientStops}set fillGradientStops(e){(function(e,t){if(!Array.isArray(e)||!Array.isArray(t)||e.length!==t.length)return!1;for(let r=0;r<e.length;++r)if(e[r]!==t[r])return!1;return!0})(this._fillGradientStops,e)||(this._fillGradientStops=e,this.styleID++)}get fontFamily(){return this._fontFamily}set fontFamily(e){this.fontFamily!==e&&(this._fontFamily=e,this.styleID++)}get fontSize(){return this._fontSize}set fontSize(e){this._fontSize!==e&&(this._fontSize=e,this.styleID++)}get fontStyle(){return this._fontStyle}set fontStyle(e){this._fontStyle!==e&&(this._fontStyle=e,this.styleID++)}get fontVariant(){return this._fontVariant}set fontVariant(e){this._fontVariant!==e&&(this._fontVariant=e,this.styleID++)}get fontWeight(){return this._fontWeight}set fontWeight(e){this._fontWeight!==e&&(this._fontWeight=e,this.styleID++)}get letterSpacing(){return this._letterSpacing}set letterSpacing(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.styleID++)}get lineHeight(){return this._lineHeight}set lineHeight(e){this._lineHeight!==e&&(this._lineHeight=e,this.styleID++)}get leading(){return this._leading}set leading(e){this._leading!==e&&(this._leading=e,this.styleID++)}get lineJoin(){return this._lineJoin}set lineJoin(e){this._lineJoin!==e&&(this._lineJoin=e,this.styleID++)}get miterLimit(){return this._miterLimit}set miterLimit(e){this._miterLimit!==e&&(this._miterLimit=e,this.styleID++)}get padding(){return this._padding}set padding(e){this._padding!==e&&(this._padding=e,this.styleID++)}get stroke(){return this._stroke}set stroke(e){let t=h(e);this._stroke!==t&&(this._stroke=t,this.styleID++)}get strokeThickness(){return this._strokeThickness}set strokeThickness(e){this._strokeThickness!==e&&(this._strokeThickness=e,this.styleID++)}get textBaseline(){return this._textBaseline}set textBaseline(e){this._textBaseline!==e&&(this._textBaseline=e,this.styleID++)}get trim(){return this._trim}set trim(e){this._trim!==e&&(this._trim=e,this.styleID++)}get whiteSpace(){return this._whiteSpace}set whiteSpace(e){this._whiteSpace!==e&&(this._whiteSpace=e,this.styleID++)}get wordWrap(){return this._wordWrap}set wordWrap(e){this._wordWrap!==e&&(this._wordWrap=e,this.styleID++)}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(e){this._wordWrapWidth!==e&&(this._wordWrapWidth=e,this.styleID++)}toFontString(){let e="number"==typeof this.fontSize?`${this.fontSize}px`:this.fontSize,t=this.fontFamily;Array.isArray(this.fontFamily)||(t=this.fontFamily.split(","));for(let e=t.length-1;e>=0;e--){let r=t[e].trim();/([\"\'])[^\'\"]+\1/.test(r)||o.includes(r)||(r=`"${r}"`),t[e]=r}return`${this.fontStyle} ${this.fontVariant} ${this.fontWeight} ${e} ${t.join(",")}`}};n.defaultStyle={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:i.TEXT_GRADIENT.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};let l=n;function h(e){let t=a.Color.shared,r=e=>{let r=t.setValue(e);return 1===r.alpha?r.toHex():r.toRgbaString()};return Array.isArray(e)?e.map(r):r(e)}function u(e,t,r){for(let s in r)Array.isArray(t[s])?e[s]=t[s].slice():e[s]=t[s]}},{"./const.mjs":"ein4n","@pixi/core":"dUVGa","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],i4a8y:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"CountLimiter",()=>i);class i{constructor(e){this.maxItemsPerFrame=e,this.itemsLeft=0}beginFrame(){this.itemsLeft=this.maxItemsPerFrame}allowedToUpload(){return this.itemsLeft-- >0}}},{"@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"6vfNx":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"Prepare",()=>u);var i=e("@pixi/core"),a=e("@pixi/graphics"),o=e("./BasePrepare.mjs");function n(e,t){return t instanceof i.BaseTexture&&(t._glTextures[e.CONTEXT_UID]||e.texture.bind(t),!0)}function l(e,t){if(!(t instanceof a.Graphics))return!1;let{geometry:r}=t;t.finishPoly(),r.updateBatches();let{batches:s}=r;for(let t=0;t<s.length;t++){let{texture:r}=s[t].style;r&&n(e,r.baseTexture)}return r.batchable||e.geometry.bind(r,t._resolveDirectShader(e)),!0}function h(e,t){return e instanceof a.Graphics&&(t.push(e),!0)}class u extends o.BasePrepare{constructor(e){super(e),this.uploadHookHelper=this.renderer,this.registerFindHook(h),this.registerUploadHook(n),this.registerUploadHook(l)}}u.extension={name:"prepare",type:i.ExtensionType.RendererSystem},(0,i.extensions).add(u)},{"@pixi/core":"dUVGa","@pixi/graphics":"knKbC","./BasePrepare.mjs":"7NlMO","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],h0Inv:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"TimeLimiter",()=>i);class i{constructor(e){this.maxMilliseconds=e,this.frameStart=0}beginFrame(){this.frameStart=Date.now()}allowedToUpload(){return Date.now()-this.frameStart<this.maxMilliseconds}}},{"@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],hSxh4:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"AnimatedSprite",()=>i.AnimatedSprite);var i=e("./AnimatedSprite.mjs")},{"./AnimatedSprite.mjs":"gMAzS","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],gMAzS:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"AnimatedSprite",()=>o);var i=e("@pixi/core"),a=e("@pixi/sprite");class o extends a.Sprite{constructor(e,t=!0){super(e[0]instanceof i.Texture?e[0]:e[0].texture),this._textures=null,this._durations=null,this._autoUpdate=t,this._isConnectedToTicker=!1,this.animationSpeed=1,this.loop=!0,this.updateAnchor=!1,this.onComplete=null,this.onFrameChange=null,this.onLoop=null,this._currentTime=0,this._playing=!1,this._previousFrame=null,this.textures=e}stop(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&((0,i.Ticker).shared.remove(this.update,this),this._isConnectedToTicker=!1))}play(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&((0,i.Ticker).shared.add(this.update,this,i.UPDATE_PRIORITY.HIGH),this._isConnectedToTicker=!0))}gotoAndStop(e){this.stop(),this.currentFrame=e}gotoAndPlay(e){this.currentFrame=e,this.play()}update(e){if(!this._playing)return;let t=this.animationSpeed*e,r=this.currentFrame;if(null!==this._durations){let r=this._currentTime%1*this._durations[this.currentFrame];for(r+=t/60*1e3;r<0;)this._currentTime--,r+=this._durations[this.currentFrame];let s=Math.sign(this.animationSpeed*e);for(this._currentTime=Math.floor(this._currentTime);r>=this._durations[this.currentFrame];)r-=this._durations[this.currentFrame]*s,this._currentTime+=s;this._currentTime+=r/this._durations[this.currentFrame]}else this._currentTime+=t;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):r!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<r||this.animationSpeed<0&&this.currentFrame>r)&&this.onLoop(),this.updateTexture())}updateTexture(){let e=this.currentFrame;this._previousFrame!==e&&(this._previousFrame=e,this._texture=this._textures[e],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))}destroy(e){this.stop(),super.destroy(e),this.onComplete=null,this.onFrameChange=null,this.onLoop=null}static fromFrames(e){let t=[];for(let r=0;r<e.length;++r)t.push((0,i.Texture).from(e[r]));return new o(t)}static fromImages(e){let t=[];for(let r=0;r<e.length;++r)t.push((0,i.Texture).from(e[r]));return new o(t)}get totalFrames(){return this._textures.length}get textures(){return this._textures}set textures(e){if(e[0]instanceof i.Texture)this._textures=e,this._durations=null;else{this._textures=[],this._durations=[];for(let t=0;t<e.length;t++)this._textures.push(e[t].texture),this._durations.push(e[t].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()}get currentFrame(){let e=Math.floor(this._currentTime)%this._textures.length;return e<0&&(e+=this._textures.length),e}set currentFrame(e){if(e<0||e>this.totalFrames-1)throw Error(`[AnimatedSprite]: Invalid frame index value ${e}, expected to be between 0 and totalFrames ${this.totalFrames}.`);let t=this.currentFrame;this._currentTime=e,t!==this.currentFrame&&this.updateTexture()}get playing(){return this._playing}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?((0,i.Ticker).shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&((0,i.Ticker).shared.add(this.update,this),this._isConnectedToTicker=!0))}}},{"@pixi/core":"dUVGa","@pixi/sprite":"fbvJg","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"1brhE":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"TilingSprite",()=>i.TilingSprite),s.export(r,"TilingSpriteRenderer",()=>a.TilingSpriteRenderer);var i=e("./TilingSprite.mjs"),a=e("./TilingSpriteRenderer.mjs")},{"./TilingSprite.mjs":"c6IMf","./TilingSpriteRenderer.mjs":"idcAh","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],c6IMf:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"TilingSprite",()=>n);var i=e("@pixi/core"),a=e("@pixi/sprite");let o=new i.Point;class n extends a.Sprite{constructor(e,t=100,r=100){super(e),this.tileTransform=new i.Transform,this._width=t,this._height=r,this.uvMatrix=this.texture.uvMatrix||new i.TextureMatrix(e),this.pluginName="tilingSprite",this.uvRespectAnchor=!1}get clampMargin(){return this.uvMatrix.clampMargin}set clampMargin(e){this.uvMatrix.clampMargin=e,this.uvMatrix.update(!0)}get tileScale(){return this.tileTransform.scale}set tileScale(e){this.tileTransform.scale.copyFrom(e)}get tilePosition(){return this.tileTransform.position}set tilePosition(e){this.tileTransform.position.copyFrom(e)}_onTextureUpdate(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215}_render(e){let t=this._texture;t&&t.valid&&(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this))}_calculateBounds(){let e=-(this._width*this._anchor._x),t=-(this._height*this._anchor._y),r=this._width*(1-this._anchor._x),s=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,e,t,r,s)}getLocalBounds(e){return 0===this.children.length?(this._bounds.minX=-(this._width*this._anchor._x),this._bounds.minY=-(this._height*this._anchor._y),this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new i.Rectangle),e=this._localBoundsRect),this._bounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,o);let t=this._width,r=this._height,s=-t*this.anchor._x;if(o.x>=s&&o.x<s+t){let e=-r*this.anchor._y;if(o.y>=e&&o.y<e+r)return!0}return!1}destroy(e){super.destroy(e),this.tileTransform=null,this.uvMatrix=null}static from(e,t){return new n(e instanceof i.Texture?e:(0,i.Texture).from(e,t),t.width,t.height)}get width(){return this._width}set width(e){this._width=e}get height(){return this._height}set height(e){this._height=e}}},{"@pixi/core":"dUVGa","@pixi/sprite":"fbvJg","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],idcAh:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"TilingSpriteRenderer",()=>_);var i=e("@pixi/core"),a=e("./sprite-tiling.frag.mjs"),o=s.interopDefault(a),n=e("./sprite-tiling.vert.mjs"),l=s.interopDefault(n),h=e("./sprite-tiling-fallback.frag.mjs"),u=s.interopDefault(h),c=e("./sprite-tiling-fallback.vert.mjs"),d=s.interopDefault(c),p=e("./sprite-tiling-simple.frag.mjs"),m=s.interopDefault(p);let f=new i.Matrix;class _ extends i.ObjectRenderer{constructor(e){super(e),e.runners.contextChange.add(this),this.quad=new i.QuadUv,this.state=(0,i.State).for2d()}contextChange(){let e=this.renderer,t={globals:e.globalUniforms};this.simpleShader=(0,i.Shader).from(d.default,m.default,t),this.shader=e.context.webGLVersion>1?(0,i.Shader).from(l.default,o.default,t):(0,i.Shader).from(d.default,u.default,t)}render(e){let t=this.renderer,r=this.quad,s=r.vertices;s[0]=s[6]=-(e._width*e.anchor.x),s[1]=s[3]=-(e._height*e.anchor.y),s[2]=s[4]=e._width*(1-e.anchor.x),s[5]=s[7]=e._height*(1-e.anchor.y);let a=e.uvRespectAnchor?e.anchor.x:0,o=e.uvRespectAnchor?e.anchor.y:0;(s=r.uvs)[0]=s[6]=-a,s[1]=s[3]=-o,s[2]=s[4]=1-a,s[5]=s[7]=1-o,r.invalidate();let n=e._texture,l=n.baseTexture,h=l.alphaMode>0,u=e.tileTransform.localTransform,c=e.uvMatrix,d=l.isPowerOfTwo&&n.frame.width===l.width&&n.frame.height===l.height;d&&(l._glTextures[t.CONTEXT_UID]?d=l.wrapMode!==i.WRAP_MODES.CLAMP:l.wrapMode===i.WRAP_MODES.CLAMP&&(l.wrapMode=i.WRAP_MODES.REPEAT));let p=d?this.simpleShader:this.shader,m=n.width,_=n.height,g=e._width,y=e._height;f.set(u.a*m/g,u.b*m/y,u.c*_/g,u.d*_/y,u.tx/g,u.ty/y),f.invert(),d?f.prepend(c.mapCoord):(p.uniforms.uMapCoord=c.mapCoord.toArray(!0),p.uniforms.uClampFrame=c.uClampFrame,p.uniforms.uClampOffset=c.uClampOffset),p.uniforms.uTransform=f.toArray(!0),p.uniforms.uColor=(0,i.Color).shared.setValue(e.tint).premultiply(e.worldAlpha,h).toArray(p.uniforms.uColor),p.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),p.uniforms.uSampler=n,t.shader.bind(p),t.geometry.bind(r),this.state.blendMode=(0,i.utils).correctBlendMode(e.blendMode,h),t.state.set(this.state),t.geometry.draw(this.renderer.gl.TRIANGLES,6,0)}}_.extension={name:"tilingSprite",type:i.ExtensionType.RendererPlugin},(0,i.extensions).add(_)},{"@pixi/core":"dUVGa","./sprite-tiling.frag.mjs":"jY4uZ","./sprite-tiling.vert.mjs":"0YIcz","./sprite-tiling-fallback.frag.mjs":"8gLZs","./sprite-tiling-fallback.vert.mjs":"5IV6J","./sprite-tiling-simple.frag.mjs":"0wqwG","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],jY4uZ:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"default",()=>i);var i=`#version 300 es
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

in vec2 vTextureCoord;

out vec4 fragmentColor;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0

    fragmentColor = texSample * uColor;
}
`},{"@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"0YIcz":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"default",()=>i);var i=`#version 300 es
#define SHADER_NAME Tiling-Sprite-300

precision lowp float;

in vec2 aVertexPosition;
in vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

out vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`},{"@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"8gLZs":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"default",()=>i);var i=`#version 100
#ifdef GL_EXT_shader_texture_lod
    #extension GL_EXT_shader_texture_lod : enable
#endif
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    #ifdef GL_EXT_shader_texture_lod
        vec4 texSample = unclamped == coord
            ? texture2D(uSampler, coord) 
            : texture2DLodEXT(uSampler, coord, 0);
    #else
        vec4 texSample = texture2D(uSampler, coord);
    #endif

    gl_FragColor = texSample * uColor;
}
`},{"@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"5IV6J":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"default",()=>i);var i=`#version 100
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`},{"@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"0wqwG":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"default",()=>i);var i=`#version 100
#define SHADER_NAME Tiling-Sprite-Simple-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 texSample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = texSample * uColor;
}
`},{"@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],hrSyR:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"Spritesheet",()=>i.Spritesheet),s.export(r,"spritesheetAsset",()=>a.spritesheetAsset);var i=e("./Spritesheet.mjs"),a=e("./spritesheetAsset.mjs")},{"./Spritesheet.mjs":"5BHcH","./spritesheetAsset.mjs":"eKCDn","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"5BHcH":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"Spritesheet",()=>o);var i=e("@pixi/core");let a=class e{constructor(e,t,r){this.linkedSheets=[],(e instanceof i.BaseTexture||e instanceof i.Texture)&&(e={texture:e,data:t,resolutionFilename:r});let{texture:s,data:a,resolutionFilename:o=null,cachePrefix:n=""}=e;this.cachePrefix=n,this._texture=s instanceof i.Texture?s:null,this.baseTexture=s instanceof i.BaseTexture?s:this._texture.baseTexture,this.textures={},this.animations={},this.data=a;let l=this.baseTexture.resource;this.resolution=this._updateResolution(o||(l?l.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}_updateResolution(e=null){let{scale:t}=this.data.meta,r=(0,i.utils).getResolutionOfUrl(e,null);return null===r&&(r="number"==typeof t?t:parseFloat(t??"1")),1!==r&&this.baseTexture.setResolution(r),r}parse(){return new Promise(t=>{this._callback=t,this._batchIndex=0,this._frameKeys.length<=e.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(t){let r=t,s=e.BATCH_SIZE;for(;r-t<s&&r<this._frameKeys.length;){let e=this._frameKeys[r],t=this._frames[e],s=t.frame;if(s){let r=null,a=null,o=!1!==t.trimmed&&t.sourceSize?t.sourceSize:t.frame,n=new i.Rectangle(0,0,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution);r=t.rotated?new i.Rectangle(Math.floor(s.x)/this.resolution,Math.floor(s.y)/this.resolution,Math.floor(s.h)/this.resolution,Math.floor(s.w)/this.resolution):new i.Rectangle(Math.floor(s.x)/this.resolution,Math.floor(s.y)/this.resolution,Math.floor(s.w)/this.resolution,Math.floor(s.h)/this.resolution),!1!==t.trimmed&&t.spriteSourceSize&&(a=new i.Rectangle(Math.floor(t.spriteSourceSize.x)/this.resolution,Math.floor(t.spriteSourceSize.y)/this.resolution,Math.floor(s.w)/this.resolution,Math.floor(s.h)/this.resolution)),this.textures[e]=new i.Texture(this.baseTexture,r,n,a,t.rotated?2:0,t.anchor,t.borders),(0,i.Texture).addToCache(this.textures[e],this.cachePrefix+e.toString())}r++}}_processAnimations(){let e=this.data.animations||{};for(let t in e){this.animations[t]=[];for(let r=0;r<e[t].length;r++){let s=e[t][r];this.animations[t].push(this.textures[s])}}}_parseComplete(){let e=this._callback;this._callback=null,this._batchIndex=0,e.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*e.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*e.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(e=!1){for(let e in this.textures)this.textures[e].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,e&&(this._texture?.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null,this.linkedSheets=[]}};a.BATCH_SIZE=1e3;let o=a},{"@pixi/core":"dUVGa","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],eKCDn:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"spritesheetAsset",()=>l);var i=e("@pixi/assets"),a=e("@pixi/core"),o=e("./Spritesheet.mjs");let n=["jpg","png","jpeg","avif","webp"],l={extension:a.ExtensionType.Asset,cache:{test:e=>e instanceof o.Spritesheet,getCacheableAssets:(e,t)=>(function e(t,r,s){let i={};if(t.forEach(e=>{i[e]=r}),Object.keys(r.textures).forEach(e=>{i[`${r.cachePrefix}${e}`]=r.textures[e]}),!s){let s=(0,a.utils).path.dirname(t[0]);r.linkedSheets.forEach((t,a)=>{Object.assign(i,e([`${s}/${r.data.meta.related_multi_packs[a]}`],t,!0))})}return i})(e,t,!1)},resolver:{test:e=>{let t=e.split("?")[0].split("."),r=t.pop(),s=t.pop();return"json"===r&&n.includes(s)},parse:e=>{let t=e.split(".");return{resolution:parseFloat(a.settings.RETINA_PREFIX.exec(e)?.[1]??"1"),format:t[t.length-2],src:e}}},loader:{name:"spritesheetLoader",extension:{type:a.ExtensionType.LoadParser,priority:i.LoaderParserPriority.Normal},testParse:async(e,t)=>".json"===(0,a.utils).path.extname(t.src).toLowerCase()&&!!e.frames,async parse(e,t,r){let s;let{texture:n,imageFilename:l,cachePrefix:h}=t?.data??{},u=(0,a.utils).path.dirname(t.src);if(u&&u.lastIndexOf("/")!==u.length-1&&(u+="/"),n&&n.baseTexture)s=n;else{let a=(0,i.copySearchParams)(u+(l??e.meta.image),t.src);s=(await r.load([a]))[a]}let c=new o.Spritesheet({texture:s.baseTexture,data:e,resolutionFilename:t.src,cachePrefix:h});await c.parse();let d=e?.meta?.related_multi_packs;if(Array.isArray(d)){let e=[];for(let s of d){if("string"!=typeof s)continue;let a=u+s;t.data?.ignoreMultiPack||(a=(0,i.copySearchParams)(a,t.src),e.push(r.load({src:a,data:{ignoreMultiPack:!0}})))}let s=await Promise.all(e);c.linkedSheets=s,s.forEach(e=>{e.linkedSheets=[c].concat(c.linkedSheets.filter(t=>t!==e))})}return c},unload(e){e.destroy(!0)}}};(0,a.extensions).add(l)},{"@pixi/assets":"9DLSB","@pixi/core":"dUVGa","./Spritesheet.mjs":"5BHcH","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"5xwV0":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"BitmapFont",()=>i.BitmapFont),s.export(r,"BitmapFontData",()=>a.BitmapFontData),s.export(r,"BitmapText",()=>o.BitmapText),s.export(r,"TextFormat",()=>h.TextFormat),s.export(r,"XMLFormat",()=>u.XMLFormat),s.export(r,"XMLStringFormat",()=>c.XMLStringFormat),s.export(r,"autoDetectFormat",()=>n.autoDetectFormat),s.export(r,"loadBitmapFont",()=>l.loadBitmapFont);var i=e("./BitmapFont.mjs"),a=e("./BitmapFontData.mjs"),o=e("./BitmapText.mjs");e("./BitmapTextStyle.mjs");var n=e("./formats/index.mjs"),l=e("./loadBitmapFont.mjs"),h=e("./formats/TextFormat.mjs"),u=e("./formats/XMLFormat.mjs"),c=e("./formats/XMLStringFormat.mjs")},{"./BitmapFont.mjs":"6K6HK","./BitmapFontData.mjs":"9qdjH","./BitmapText.mjs":"7crMY","./BitmapTextStyle.mjs":"5cIx4","./formats/index.mjs":"3zDUp","./loadBitmapFont.mjs":"d0tu6","./formats/TextFormat.mjs":"7FWsE","./formats/XMLFormat.mjs":"bTZd8","./formats/XMLStringFormat.mjs":"8waRQ","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"6K6HK":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"BitmapFont",()=>d);var i=e("@pixi/core"),a=e("@pixi/text"),o=e("./BitmapFontData.mjs"),n=e("./formats/index.mjs");e("./utils/index.mjs");var l=e("./utils/resolveCharacters.mjs"),h=e("./utils/drawGlyph.mjs"),u=e("./utils/extractCharCode.mjs");let c=class e{constructor(e,t,r){let[s]=e.info,[a]=e.common,[o]=e.page,[n]=e.distanceField,l=(0,i.utils).getResolutionOfUrl(o.file),h={};this._ownsTextures=r,this.font=s.face,this.size=s.size,this.lineHeight=a.lineHeight/l,this.chars={},this.pageTextures=h;for(let r=0;r<e.page.length;r++){let{id:s,file:a}=e.page[r];h[s]=t instanceof Array?t[r]:t[a],n?.fieldType&&"none"!==n.fieldType&&(h[s].baseTexture.alphaMode=i.ALPHA_MODES.NO_PREMULTIPLIED_ALPHA,h[s].baseTexture.mipmap=i.MIPMAP_MODES.OFF)}for(let t=0;t<e.char.length;t++){let{id:r,page:s}=e.char[t],{x:a,y:o,width:n,height:u,xoffset:c,yoffset:d,xadvance:p}=e.char[t];a/=l,o/=l,n/=l,u/=l,c/=l,d/=l,p/=l;let m=new i.Rectangle(a+h[s].frame.x/l,o+h[s].frame.y/l,n,u);this.chars[r]={xOffset:c,yOffset:d,xAdvance:p,kerning:{},texture:new i.Texture(h[s].baseTexture,m),page:s}}for(let t=0;t<e.kerning.length;t++){let{first:r,second:s,amount:i}=e.kerning[t];r/=l,s/=l,i/=l,this.chars[s]&&(this.chars[s].kerning[r]=i)}this.distanceFieldRange=n?.distanceRange,this.distanceFieldType=n?.fieldType?.toLowerCase()??"none"}destroy(){for(let e in this.chars)this.chars[e].texture.destroy(),this.chars[e].texture=null;for(let e in this.pageTextures)this._ownsTextures&&this.pageTextures[e].destroy(!0),this.pageTextures[e]=null;this.chars=null,this.pageTextures=null}static install(t,r,s){let a;if(t instanceof o.BitmapFontData)a=t;else{let e=(0,n.autoDetectFormat)(t);if(!e)throw Error("Unrecognized data format for font.");a=e.parse(t)}r instanceof i.Texture&&(r=[r]);let l=new e(a,r,s);return e.available[l.font]=l,l}static uninstall(t){let r=e.available[t];if(!r)throw Error(`No font found named '${t}'`);r.destroy(),delete e.available[t]}static from(t,r,s){if(!t)throw Error("[BitmapFont] Property `name` is required.");let{chars:n,padding:c,resolution:d,textureWidth:p,textureHeight:m,...f}=Object.assign({},e.defaultOptions,s),_=(0,l.resolveCharacters)(n),g=r instanceof a.TextStyle?r:new a.TextStyle(r),y=new o.BitmapFontData;y.info[0]={face:g.fontFamily,size:g.fontSize},y.common[0]={lineHeight:g.fontSize};let x=0,b=0,T,v,A,j=0,E=[],S=[];for(let e=0;e<_.length;e++){T||((T=(0,i.settings).ADAPTER.createCanvas()).width=p,T.height=m,v=T.getContext("2d"),A=new i.BaseTexture(T,{resolution:d,...f}),E.push(A),S.push(new i.Texture(A)),y.page.push({id:S.length-1,file:""}));let t=_[e],r=(0,a.TextMetrics).measureText(t,g,!1,T),s=r.width,o=Math.ceil(r.height),n=Math.ceil(("italic"===g.fontStyle?2:1)*s);if(b>=m-o*d){if(0===b)throw Error(`[BitmapFont] textureHeight ${m}px is too small (fontFamily: '${g.fontFamily}', fontSize: ${g.fontSize}px, char: '${t}')`);--e,T=null,v=null,A=null,b=0,x=0,j=0;continue}if(j=Math.max(o+r.fontProperties.descent,j),n*d+x>=p){if(0===x)throw Error(`[BitmapFont] textureWidth ${p}px is too small (fontFamily: '${g.fontFamily}', fontSize: ${g.fontSize}px, char: '${t}')`);--e,b+=j*d,b=Math.ceil(b),x=0,j=0;continue}(0,h.drawGlyph)(T,v,r,x,b,d,g);let l=(0,u.extractCharCode)(r.text);y.char.push({id:l,page:S.length-1,x:x/d,y:b/d,width:n,height:o,xoffset:0,yoffset:0,xadvance:s-(g.dropShadow?g.dropShadowDistance:0)-(g.stroke?g.strokeThickness:0)}),x+=(n+2*c)*d,x=Math.ceil(x)}if(!s?.skipKerning)for(let e=0,t=_.length;e<t;e++){let r=_[e];for(let e=0;e<t;e++){let t=_[e],s=v.measureText(r).width,i=v.measureText(t).width,a=v.measureText(r+t).width-(s+i);a&&y.kerning.push({first:(0,u.extractCharCode)(r),second:(0,u.extractCharCode)(t),amount:a})}}let P=new e(y,S,!0);return void 0!==e.available[t]&&e.uninstall(t),e.available[t]=P,P}};c.ALPHA=[["a","z"],["A","Z"]," "],c.NUMERIC=[["0","9"]],c.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],c.ASCII=[[" ","~"]],c.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:c.ALPHANUMERIC},c.available={};let d=c},{"@pixi/core":"dUVGa","@pixi/text":"jmhqR","./BitmapFontData.mjs":"9qdjH","./formats/index.mjs":"3zDUp","./utils/index.mjs":"6XfAp","./utils/resolveCharacters.mjs":"kxpwb","./utils/drawGlyph.mjs":"cep5w","./utils/extractCharCode.mjs":"b1tpl","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"9qdjH":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"BitmapFontData",()=>i);class i{constructor(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}}},{"@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"3zDUp":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"TextFormat",()=>i.TextFormat),s.export(r,"XMLFormat",()=>a.XMLFormat),s.export(r,"XMLStringFormat",()=>o.XMLStringFormat),s.export(r,"autoDetectFormat",()=>l);var i=e("./TextFormat.mjs"),a=e("./XMLFormat.mjs"),o=e("./XMLStringFormat.mjs");let n=[i.TextFormat,a.XMLFormat,o.XMLStringFormat];function l(e){for(let t=0;t<n.length;t++)if(n[t].test(e))return n[t];return null}},{"./TextFormat.mjs":"7FWsE","./XMLFormat.mjs":"bTZd8","./XMLStringFormat.mjs":"8waRQ","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"7FWsE":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"TextFormat",()=>a);var i=e("../BitmapFontData.mjs");class a{static test(e){return"string"==typeof e&&e.startsWith("info face=")}static parse(e){let t=e.match(/^[a-z]+\s+.+$/gm),r={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(let e in t){let s=t[e].match(/^[a-z]+/gm)[0],i=t[e].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),a={};for(let e in i){let t=i[e].split("="),r=t[0],s=t[1].replace(/"/gm,""),o=parseFloat(s),n=isNaN(o)?s:o;a[r]=n}r[s].push(a)}let s=new i.BitmapFontData;return r.info.forEach(e=>s.info.push({face:e.face,size:parseInt(e.size,10)})),r.common.forEach(e=>s.common.push({lineHeight:parseInt(e.lineHeight,10)})),r.page.forEach(e=>s.page.push({id:parseInt(e.id,10),file:e.file})),r.char.forEach(e=>s.char.push({id:parseInt(e.id,10),page:parseInt(e.page,10),x:parseInt(e.x,10),y:parseInt(e.y,10),width:parseInt(e.width,10),height:parseInt(e.height,10),xoffset:parseInt(e.xoffset,10),yoffset:parseInt(e.yoffset,10),xadvance:parseInt(e.xadvance,10)})),r.kerning.forEach(e=>s.kerning.push({first:parseInt(e.first,10),second:parseInt(e.second,10),amount:parseInt(e.amount,10)})),r.distanceField.forEach(e=>s.distanceField.push({distanceRange:parseInt(e.distanceRange,10),fieldType:e.fieldType})),s}}},{"../BitmapFontData.mjs":"9qdjH","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],bTZd8:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"XMLFormat",()=>a);var i=e("../BitmapFontData.mjs");class a{static test(e){return"string"!=typeof e&&"getElementsByTagName"in e&&e.getElementsByTagName("page").length&&null!==e.getElementsByTagName("info")[0].getAttribute("face")}static parse(e){let t=new i.BitmapFontData,r=e.getElementsByTagName("info"),s=e.getElementsByTagName("common"),a=e.getElementsByTagName("page"),o=e.getElementsByTagName("char"),n=e.getElementsByTagName("kerning"),l=e.getElementsByTagName("distanceField");for(let e=0;e<r.length;e++)t.info.push({face:r[e].getAttribute("face"),size:parseInt(r[e].getAttribute("size"),10)});for(let e=0;e<s.length;e++)t.common.push({lineHeight:parseInt(s[e].getAttribute("lineHeight"),10)});for(let e=0;e<a.length;e++)t.page.push({id:parseInt(a[e].getAttribute("id"),10)||0,file:a[e].getAttribute("file")});for(let e=0;e<o.length;e++){let r=o[e];t.char.push({id:parseInt(r.getAttribute("id"),10),page:parseInt(r.getAttribute("page"),10)||0,x:parseInt(r.getAttribute("x"),10),y:parseInt(r.getAttribute("y"),10),width:parseInt(r.getAttribute("width"),10),height:parseInt(r.getAttribute("height"),10),xoffset:parseInt(r.getAttribute("xoffset"),10),yoffset:parseInt(r.getAttribute("yoffset"),10),xadvance:parseInt(r.getAttribute("xadvance"),10)})}for(let e=0;e<n.length;e++)t.kerning.push({first:parseInt(n[e].getAttribute("first"),10),second:parseInt(n[e].getAttribute("second"),10),amount:parseInt(n[e].getAttribute("amount"),10)});for(let e=0;e<l.length;e++)t.distanceField.push({fieldType:l[e].getAttribute("fieldType"),distanceRange:parseInt(l[e].getAttribute("distanceRange"),10)});return t}}},{"../BitmapFontData.mjs":"9qdjH","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"8waRQ":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"XMLStringFormat",()=>o);var i=e("@pixi/core"),a=e("./XMLFormat.mjs");class o{static test(e){return!!("string"==typeof e&&e.includes("<font>"))&&(0,a.XMLFormat).test((0,i.settings).ADAPTER.parseXML(e))}static parse(e){return(0,a.XMLFormat).parse((0,i.settings).ADAPTER.parseXML(e))}}},{"@pixi/core":"dUVGa","./XMLFormat.mjs":"bTZd8","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"6XfAp":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"drawGlyph",()=>i.drawGlyph),s.export(r,"extractCharCode",()=>a.extractCharCode),s.export(r,"generateFillStyle",()=>o.generateFillStyle),s.export(r,"resolveCharacters",()=>n.resolveCharacters),s.export(r,"splitTextToCharacters",()=>l.splitTextToCharacters);var i=e("./drawGlyph.mjs"),a=e("./extractCharCode.mjs"),o=e("./generateFillStyle.mjs"),n=e("./resolveCharacters.mjs"),l=e("./splitTextToCharacters.mjs")},{"./drawGlyph.mjs":"cep5w","./extractCharCode.mjs":"b1tpl","./generateFillStyle.mjs":"lq2sN","./resolveCharacters.mjs":"kxpwb","./splitTextToCharacters.mjs":"a5bQW","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],cep5w:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"drawGlyph",()=>o);var i=e("@pixi/core"),a=e("./generateFillStyle.mjs");function o(e,t,r,s,o,n,l){let h=r.text,u=r.fontProperties;t.translate(s,o),t.scale(n,n);let c=l.strokeThickness/2,d=-(l.strokeThickness/2);if(t.font=l.toFontString(),t.lineWidth=l.strokeThickness,t.textBaseline=l.textBaseline,t.lineJoin=l.lineJoin,t.miterLimit=l.miterLimit,t.fillStyle=(0,a.generateFillStyle)(e,t,l,n,[h],r),t.strokeStyle=l.stroke,l.dropShadow){let e=l.dropShadowColor,r=l.dropShadowBlur*n,s=l.dropShadowDistance*n;t.shadowColor=(0,i.Color).shared.setValue(e).setAlpha(l.dropShadowAlpha).toRgbaString(),t.shadowBlur=r,t.shadowOffsetX=Math.cos(l.dropShadowAngle)*s,t.shadowOffsetY=Math.sin(l.dropShadowAngle)*s}else t.shadowColor="black",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0;l.stroke&&l.strokeThickness&&t.strokeText(h,c,d+r.lineHeight-u.descent),l.fill&&t.fillText(h,c,d+r.lineHeight-u.descent),t.setTransform(1,0,0,1,0,0),t.fillStyle="rgba(0, 0, 0, 0)"}},{"@pixi/core":"dUVGa","./generateFillStyle.mjs":"lq2sN","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],lq2sN:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"generateFillStyle",()=>a);var i=e("@pixi/text");function a(e,t,r,s,a,o){let n;let l=r.fill;if(!Array.isArray(l))return l;if(1===l.length)return l[0];let h=r.dropShadow?r.dropShadowDistance:0,u=r.padding||0,c=e.width/s-h-2*u,d=e.height/s-h-2*u,p=l.slice(),m=r.fillGradientStops.slice();if(!m.length){let e=p.length+1;for(let t=1;t<e;++t)m.push(t/e)}if(p.unshift(l[0]),m.unshift(0),p.push(l[l.length-1]),m.push(1),r.fillGradientType===i.TEXT_GRADIENT.LINEAR_VERTICAL){n=t.createLinearGradient(c/2,u,c/2,d+u);let e=0,s=(o.fontProperties.fontSize+r.strokeThickness)/d;for(let t=0;t<a.length;t++){let r=o.lineHeight*t;for(let t=0;t<p.length;t++){let i=Math.max(e,r/d+("number"==typeof m[t]?m[t]:t/p.length)*s);i=Math.min(i,1),n.addColorStop(i,p[t]),e=i}}}else{n=t.createLinearGradient(u,d/2,c+u,d/2);let e=p.length+1,r=1;for(let t=0;t<p.length;t++){let s;s="number"==typeof m[t]?m[t]:r/e,n.addColorStop(s,p[t]),r++}}return n}},{"@pixi/text":"jmhqR","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],b1tpl:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");function i(e){return e.codePointAt?e.codePointAt(0):e.charCodeAt(0)}s.defineInteropFlag(r),s.export(r,"extractCharCode",()=>i)},{"@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],kxpwb:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"resolveCharacters",()=>a);var i=e("./splitTextToCharacters.mjs");function a(e){"string"==typeof e&&(e=[e]);let t=[];for(let r=0,s=e.length;r<s;r++){let s=e[r];if(Array.isArray(s)){if(2!==s.length)throw Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${s.length}.`);let e=s[0].charCodeAt(0),r=s[1].charCodeAt(0);if(r<e)throw Error("[BitmapFont]: Invalid character range.");for(let s=e;s<=r;s++)t.push(String.fromCharCode(s))}else t.push(...(0,i.splitTextToCharacters)(s))}if(0===t.length)throw Error("[BitmapFont]: Empty set when resolving characters.");return t}},{"./splitTextToCharacters.mjs":"a5bQW","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],a5bQW:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");function i(e){return Array.from?Array.from(e):e.split("")}s.defineInteropFlag(r),s.export(r,"splitTextToCharacters",()=>i)},{"@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"7crMY":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"BitmapText",()=>y);var i=e("@pixi/core"),a=e("@pixi/display"),o=e("@pixi/mesh"),n=e("./BitmapFont.mjs"),l=e("./shader/msdf.frag.mjs"),h=s.interopDefault(l),u=e("./shader/msdf.vert.mjs"),c=s.interopDefault(u);e("./utils/index.mjs");var d=e("./utils/splitTextToCharacters.mjs"),p=e("./utils/extractCharCode.mjs");let m=[],f=[],_=[],g=class e extends a.Container{constructor(t,r={}){super();let{align:s,tint:a,maxWidth:o,letterSpacing:l,fontName:h,fontSize:u}=Object.assign({},e.styleDefaults,r);if(!n.BitmapFont.available[h])throw Error(`Missing BitmapFont "${h}"`);this._activePagesMeshData=[],this._textWidth=0,this._textHeight=0,this._align=s,this._tintColor=new i.Color(a),this._font=void 0,this._fontName=h,this._fontSize=u,this.text=t,this._maxWidth=o,this._maxLineHeight=0,this._letterSpacing=l,this._anchor=new i.ObservablePoint(()=>{this.dirty=!0},this,0,0),this._roundPixels=i.settings.ROUND_PIXELS,this.dirty=!0,this._resolution=i.settings.RESOLUTION,this._autoResolution=!0,this._textureCache={}}updateText(){let e=n.BitmapFont.available[this._fontName],t=this.fontSize,r=t/e.size,s=new i.Point,a=[],l=[],u=[],g=this._text.replace(/(?:\r\n|\r)/g,`
`)||" ",y=(0,d.splitTextToCharacters)(g),x=this._maxWidth*e.size/t,b="none"===e.distanceFieldType?m:f,T=null,v=0,A=0,j=0,E=-1,S=0,P=0,M=0,C=0;for(let t=0;t<y.length;t++){let r=y[t],o=(0,p.extractCharCode)(r);if(/(?:\s)/.test(r)&&(E=t,S=v,C++),"\r"===r||r===`
`){l.push(v),u.push(-1),A=Math.max(A,v),++j,++P,s.x=0,s.y+=e.lineHeight,T=null,C=0;continue}let n=e.chars[o];if(!n)continue;T&&n.kerning[T]&&(s.x+=n.kerning[T]);let h=_.pop()||{texture:i.Texture.EMPTY,line:0,charCode:0,prevSpaces:0,position:new i.Point};h.texture=n.texture,h.line=j,h.charCode=o,h.position.x=Math.round(s.x+n.xOffset+this._letterSpacing/2),h.position.y=Math.round(s.y+n.yOffset),h.prevSpaces=C,a.push(h),v=h.position.x+Math.max(n.xAdvance-n.xOffset,n.texture.orig.width),s.x+=n.xAdvance+this._letterSpacing,M=Math.max(M,n.yOffset+n.texture.height),T=o,-1!==E&&x>0&&s.x>x&&(++P,(0,i.utils).removeItems(a,1+E-P,1+t-E),t=E,E=-1,l.push(S),u.push(a.length>0?a[a.length-1].prevSpaces:0),A=Math.max(A,S),j++,s.x=0,s.y+=e.lineHeight,T=null,C=0)}let R=y[y.length-1];"\r"!==R&&R!==`
`&&(/(?:\s)/.test(R)&&(v=S),l.push(v),A=Math.max(A,v),u.push(-1));let F=[];for(let e=0;e<=j;e++){let t=0;"right"===this._align?t=A-l[e]:"center"===this._align?t=(A-l[e])/2:"justify"===this._align&&(t=u[e]<0?0:(A-l[e])/u[e]),F.push(t)}let I=a.length,w={},L=[],O=this._activePagesMeshData;b.push(...O);for(let t=0;t<I;t++){let r=a[t].texture,s=r.baseTexture.uid;if(!w[s]){let t=b.pop();if(!t){let r,s;let a=new o.MeshGeometry;"none"===e.distanceFieldType?(r=new o.MeshMaterial(i.Texture.EMPTY),s=i.BLEND_MODES.NORMAL):(r=new o.MeshMaterial(i.Texture.EMPTY,{program:(0,i.Program).from(c.default,h.default),uniforms:{uFWidth:0}}),s=i.BLEND_MODES.NORMAL_NPM);let n=new o.Mesh(a,r);n.blendMode=s,t={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:n,vertices:null,uvs:null,indices:null}}t.index=0,t.indexCount=0,t.vertexCount=0,t.uvsCount=0,t.total=0;let{_textureCache:a}=this;a[s]=a[s]||new i.Texture(r.baseTexture),t.mesh.texture=a[s],t.mesh.tint=this._tintColor.value,L.push(t),w[s]=t}w[s].total++}for(let e=0;e<O.length;e++)L.includes(O[e])||this.removeChild(O[e].mesh);for(let e=0;e<L.length;e++)L[e].mesh.parent!==this&&this.addChild(L[e].mesh);for(let e in this._activePagesMeshData=L,w){let t=w[e],r=t.total;if(!(t.indices?.length>6*r)||t.vertices.length<2*o.Mesh.BATCHABLE_SIZE)t.vertices=new Float32Array(8*r),t.uvs=new Float32Array(8*r),t.indices=new Uint16Array(6*r);else{let e=t.total,r=t.vertices;for(let t=8*e;t<r.length;t++)r[t]=0}t.mesh.size=6*r}for(let e=0;e<I;e++){let t=a[e],s=t.position.x+F[t.line]*("justify"===this._align?t.prevSpaces:1);this._roundPixels&&(s=Math.round(s));let i=s*r,o=t.position.y*r,n=t.texture,l=w[n.baseTexture.uid],h=n.frame,u=n._uvs,c=l.index++;l.indices[6*c+0]=0+4*c,l.indices[6*c+1]=1+4*c,l.indices[6*c+2]=2+4*c,l.indices[6*c+3]=0+4*c,l.indices[6*c+4]=2+4*c,l.indices[6*c+5]=3+4*c,l.vertices[8*c+0]=i,l.vertices[8*c+1]=o,l.vertices[8*c+2]=i+h.width*r,l.vertices[8*c+3]=o,l.vertices[8*c+4]=i+h.width*r,l.vertices[8*c+5]=o+h.height*r,l.vertices[8*c+6]=i,l.vertices[8*c+7]=o+h.height*r,l.uvs[8*c+0]=u.x0,l.uvs[8*c+1]=u.y0,l.uvs[8*c+2]=u.x1,l.uvs[8*c+3]=u.y1,l.uvs[8*c+4]=u.x2,l.uvs[8*c+5]=u.y2,l.uvs[8*c+6]=u.x3,l.uvs[8*c+7]=u.y3}for(let t in this._textWidth=A*r,this._textHeight=(s.y+e.lineHeight)*r,w){let e=w[t];if(0!==this.anchor.x||0!==this.anchor.y){let t=0,r=this._textWidth*this.anchor.x,s=this._textHeight*this.anchor.y;for(let i=0;i<e.total;i++)e.vertices[t++]-=r,e.vertices[t++]-=s,e.vertices[t++]-=r,e.vertices[t++]-=s,e.vertices[t++]-=r,e.vertices[t++]-=s,e.vertices[t++]-=r,e.vertices[t++]-=s}this._maxLineHeight=M*r;let s=e.mesh.geometry.getBuffer("aVertexPosition"),i=e.mesh.geometry.getBuffer("aTextureCoord"),a=e.mesh.geometry.getIndex();s.data=e.vertices,i.data=e.uvs,a.data=e.indices,s.update(),i.update(),a.update()}for(let e=0;e<a.length;e++)_.push(a[e]);this._font=e,this.dirty=!1}updateTransform(){this.validate(),this.containerUpdateTransform()}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0);let{distanceFieldRange:t,distanceFieldType:r,size:s}=n.BitmapFont.available[this._fontName];if("none"!==r){let{a:r,b:i,c:a,d:o}=this.worldTransform,n=(Math.abs(Math.sqrt(r*r+i*i))+Math.abs(Math.sqrt(a*a+o*o)))/2,l=this.fontSize/s,h=e._view.resolution;for(let e of this._activePagesMeshData)e.mesh.shader.uniforms.uFWidth=n*t*l*h}super._render(e)}getLocalBounds(){return this.validate(),super.getLocalBounds()}validate(){let e=n.BitmapFont.available[this._fontName];if(!e)throw Error(`Missing BitmapFont "${this._fontName}"`);this._font!==e&&(this.dirty=!0),this.dirty&&this.updateText()}get tint(){return this._tintColor.value}set tint(e){if(this.tint!==e){this._tintColor.setValue(e);for(let t=0;t<this._activePagesMeshData.length;t++)this._activePagesMeshData[t].mesh.tint=e}}get align(){return this._align}set align(e){this._align!==e&&(this._align=e,this.dirty=!0)}get fontName(){return this._fontName}set fontName(e){if(!n.BitmapFont.available[e])throw Error(`Missing BitmapFont "${e}"`);this._fontName!==e&&(this._fontName=e,this.dirty=!0)}get fontSize(){return this._fontSize??n.BitmapFont.available[this._fontName].size}set fontSize(e){this._fontSize!==e&&(this._fontSize=e,this.dirty=!0)}get anchor(){return this._anchor}set anchor(e){"number"==typeof e?this._anchor.set(e):this._anchor.copyFrom(e)}get text(){return this._text}set text(e){e=String(e??""),this._text!==e&&(this._text=e,this.dirty=!0)}get maxWidth(){return this._maxWidth}set maxWidth(e){this._maxWidth!==e&&(this._maxWidth=e,this.dirty=!0)}get maxLineHeight(){return this.validate(),this._maxLineHeight}get textWidth(){return this.validate(),this._textWidth}get letterSpacing(){return this._letterSpacing}set letterSpacing(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.dirty=!0)}get roundPixels(){return this._roundPixels}set roundPixels(e){e!==this._roundPixels&&(this._roundPixels=e,this.dirty=!0)}get textHeight(){return this.validate(),this._textHeight}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}destroy(e){let{_textureCache:t}=this,r="none"===n.BitmapFont.available[this._fontName].distanceFieldType?m:f;for(let e of(r.push(...this._activePagesMeshData),this._activePagesMeshData))this.removeChild(e.mesh);for(let e in this._activePagesMeshData=[],r.filter(e=>t[e.mesh.texture.baseTexture.uid]).forEach(e=>{e.mesh.texture=i.Texture.EMPTY}),t)t[e].destroy(),delete t[e];this._font=null,this._tintColor=null,this._textureCache=null,super.destroy(e)}};g.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0};let y=g},{"@pixi/core":"dUVGa","@pixi/display":"2blAU","@pixi/mesh":"hq9Ok","./BitmapFont.mjs":"6K6HK","./shader/msdf.frag.mjs":"4D5zP","./shader/msdf.vert.mjs":"ge0T4","./utils/index.mjs":"6XfAp","./utils/splitTextToCharacters.mjs":"a5bQW","./utils/extractCharCode.mjs":"b1tpl","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"4D5zP":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"default",()=>i);var i=`// Pixi texture info\r
varying vec2 vTextureCoord;\r
uniform sampler2D uSampler;\r
\r
// Tint\r
uniform vec4 uColor;\r
\r
// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r
uniform float uFWidth;\r
\r
void main(void) {\r
\r
  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r
  vec4 texColor = texture2D(uSampler, vTextureCoord);\r
\r
  // MSDF\r
  float median = texColor.r + texColor.g + texColor.b -\r
                  min(texColor.r, min(texColor.g, texColor.b)) -\r
                  max(texColor.r, max(texColor.g, texColor.b));\r
  // SDF\r
  median = min(median, texColor.a);\r
\r
  float screenPxDistance = uFWidth * (median - 0.5);\r
  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r
  if (median < 0.01) {\r
    alpha = 0.0;\r
  } else if (median > 0.99) {\r
    alpha = 1.0;\r
  }\r
\r
  // Gamma correction for coverage-like alpha\r
  float luma = dot(uColor.rgb, vec3(0.299, 0.587, 0.114));\r
  float gamma = mix(1.0, 1.0 / 2.2, luma);\r
  float coverage = pow(uColor.a * alpha, gamma);  \r
\r
  // NPM Textures, NPM outputs\r
  gl_FragColor = vec4(uColor.rgb, coverage);\r
}\r
`},{"@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],ge0T4:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"default",()=>i);var i=`// Mesh material default fragment\r
attribute vec2 aVertexPosition;\r
attribute vec2 aTextureCoord;\r
\r
uniform mat3 projectionMatrix;\r
uniform mat3 translationMatrix;\r
uniform mat3 uTextureMatrix;\r
\r
varying vec2 vTextureCoord;\r
\r
void main(void)\r
{\r
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r
\r
    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r
}\r
`},{"@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"5cIx4":[function(e,t,r){},{}],d0tu6:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"loadBitmapFont",()=>u);var i=e("@pixi/assets"),a=e("@pixi/core"),o=e("./BitmapFont.mjs");e("./formats/index.mjs");var n=e("./formats/TextFormat.mjs"),l=e("./formats/XMLStringFormat.mjs");let h=[".xml",".fnt"],u={extension:{type:a.ExtensionType.LoadParser,priority:i.LoaderParserPriority.Normal},name:"loadBitmapFont",test:e=>h.includes((0,a.utils).path.extname(e).toLowerCase()),testParse:async e=>(0,n.TextFormat).test(e)||(0,l.XMLStringFormat).test(e),async parse(e,t,r){let s=(0,n.TextFormat).test(e)?(0,n.TextFormat).parse(e):(0,l.XMLStringFormat).parse(e),{src:h}=t,{page:u}=s,c=[];for(let e=0;e<u.length;++e){let t=u[e].file,r=(0,a.utils).path.join((0,a.utils).path.dirname(h),t);r=(0,i.copySearchParams)(r,h),c.push(r)}let d=await r.load(c),p=c.map(e=>d[e]);return(0,o.BitmapFont).install(s,p,!0)},load:async(e,t)=>(await (0,a.settings).ADAPTER.fetch(e)).text(),unload(e){e.destroy()}};(0,a.extensions).add(u)},{"@pixi/assets":"9DLSB","@pixi/core":"dUVGa","./BitmapFont.mjs":"6K6HK","./formats/index.mjs":"3zDUp","./formats/TextFormat.mjs":"7FWsE","./formats/XMLStringFormat.mjs":"8waRQ","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"5MZFj":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"HTMLText",()=>i.HTMLText),s.export(r,"HTMLTextStyle",()=>a.HTMLTextStyle);var i=e("./HTMLText.mjs"),a=e("./HTMLTextStyle.mjs")},{"./HTMLText.mjs":"5Jfsm","./HTMLTextStyle.mjs":"bVg10","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"5Jfsm":[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"HTMLText",()=>h);var i=e("@pixi/core"),a=e("@pixi/sprite"),o=e("@pixi/text"),n=e("./HTMLTextStyle.mjs");let l=class e extends a.Sprite{constructor(t="",r={}){super(i.Texture.EMPTY),this._text=null,this._style=null,this._autoResolution=!0,this.localStyleID=-1,this.dirty=!1,this._updateID=0,this.ownsStyle=!1;let s=new Image,a=(0,i.Texture).from(s,{scaleMode:i.settings.SCALE_MODE,resourceOptions:{autoLoad:!1}});a.orig=new i.Rectangle,a.trim=new i.Rectangle,this.texture=a;let o="http://www.w3.org/2000/svg",n="http://www.w3.org/1999/xhtml",l=document.createElementNS(o,"svg"),h=document.createElementNS(o,"foreignObject"),u=document.createElementNS(n,"div"),c=document.createElementNS(n,"style");h.setAttribute("width","10000"),h.setAttribute("height","10000"),h.style.overflow="hidden",l.appendChild(h),this.maxWidth=e.defaultMaxWidth,this.maxHeight=e.defaultMaxHeight,this._domElement=u,this._styleElement=c,this._svgRoot=l,this._foreignObject=h,this._foreignObject.appendChild(c),this._foreignObject.appendChild(u),this._image=s,this._loadImage=new Image,this._autoResolution=e.defaultAutoResolution,this._resolution=e.defaultResolution??i.settings.RESOLUTION,this.text=t,this.style=r}measureText(e){let{text:t,style:r,resolution:s}=Object.assign({text:this._text,style:this._style,resolution:this._resolution},e);Object.assign(this._domElement,{innerHTML:t,style:r.toCSS(s)}),this._styleElement.textContent=r.toGlobalCSS(),document.body.appendChild(this._svgRoot);let i=this._domElement.getBoundingClientRect();this._svgRoot.remove();let{width:a,height:o}=i;(a>this.maxWidth||o>this.maxHeight)&&console.warn("[HTMLText] Large expanse of text, increase HTMLText.maxWidth or HTMLText.maxHeight property.");let n=Math.min(this.maxWidth,Math.ceil(a)),l=Math.min(this.maxHeight,Math.ceil(o));return this._svgRoot.setAttribute("width",n.toString()),this._svgRoot.setAttribute("height",l.toString()),t!==this._text&&(this._domElement.innerHTML=this._text),r!==this._style&&(Object.assign(this._domElement,{style:this._style?.toCSS(s)}),this._styleElement.textContent=this._style?.toGlobalCSS()),{width:n+2*r.padding,height:l+2*r.padding}}async updateText(e=!0){let{style:t,_image:r,_loadImage:s}=this;if(this.localStyleID!==t.styleID&&(this.dirty=!0,this.localStyleID=t.styleID),!this.dirty&&e)return;let{width:i,height:a}=this.measureText();r.width=s.width=Math.ceil(Math.max(1,i)),r.height=s.height=Math.ceil(Math.max(1,a)),this._updateID++;let o=this._updateID;await new Promise(e=>{s.onload=async()=>{if(o<this._updateID){e();return}await t.onBeforeDraw(),r.src=s.src,s.onload=null,s.src="",this.updateTexture(),e()};let i=new XMLSerializer().serializeToString(this._svgRoot);s.src=`data:image/svg+xml;charset=utf8,${encodeURIComponent(i)}`})}get source(){return this._image}updateTexture(){let{style:e,texture:t,_image:r,resolution:s}=this,{padding:i}=e,{baseTexture:a}=t;t.trim.width=t._frame.width=r.width/s,t.trim.height=t._frame.height=r.height/s,t.trim.x=-i,t.trim.y=-i,t.orig.width=t._frame.width-2*i,t.orig.height=t._frame.height-2*i,this._onTextureUpdate(),a.setRealSize(r.width,r.height,s),this.dirty=!1}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._render(e)}_renderCanvas(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._renderCanvas(e)}getLocalBounds(e){return this.updateText(!0),super.getLocalBounds(e)}_calculateBounds(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_onStyleChange(){this.dirty=!0}destroy(t){"boolean"==typeof t&&(t={children:t}),t=Object.assign({},e.defaultDestroyOptions,t),super.destroy(t),this.ownsStyle&&this._style?.cleanFonts(),this._style=null,this._svgRoot?.remove(),this._svgRoot=null,this._domElement?.remove(),this._domElement=null,this._foreignObject?.remove(),this._foreignObject=null,this._styleElement?.remove(),this._styleElement=null,this._loadImage.src="",this._loadImage.onload=null,this._loadImage=null,this._image.src="",this._image=null}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._image.width/this.resolution}set width(e){this.updateText(!0);let t=(0,i.utils).sign(this.scale.x)||1;this.scale.x=t*e/this._image.width/this.resolution,this._width=e}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._image.height/this.resolution}set height(e){this.updateText(!0);let t=(0,i.utils).sign(this.scale.y)||1;this.scale.y=t*e/this._image.height/this.resolution,this._height=e}get style(){return this._style}set style(e){this._style!==e&&((e=e||{})instanceof n.HTMLTextStyle?(this.ownsStyle=!1,this._style=e):e instanceof o.TextStyle?(console.warn("[HTMLText] Cloning TextStyle, if this is not what you want, use HTMLTextStyle"),this.ownsStyle=!0,this._style=(0,n.HTMLTextStyle).from(e)):(this.ownsStyle=!0,this._style=new n.HTMLTextStyle(e)),this.localStyleID=-1,this.dirty=!0)}get text(){return this._text}set text(e){e=String(""===e||null==e?" ":e),e=this.sanitiseText(e),this._text!==e&&(this._text=e,this.dirty=!0)}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}sanitiseText(e){return e.replace(/<br>/gi,"<br/>").replace(/<hr>/gi,"<hr/>").replace(/&nbsp;/gi,"&#160;")}};l.defaultDestroyOptions={texture:!0,children:!1,baseTexture:!0},l.defaultMaxWidth=2024,l.defaultMaxHeight=2024,l.defaultAutoResolution=!0;let h=l},{"@pixi/core":"dUVGa","@pixi/sprite":"fbvJg","@pixi/text":"jmhqR","./HTMLTextStyle.mjs":"bVg10","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],bVg10:[function(e,t,r){var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(r),s.export(r,"HTMLTextStyle",()=>n);var i=e("@pixi/core"),a=e("@pixi/text");let o=class e extends a.TextStyle{constructor(){super(...arguments),this._fonts=[],this._overrides=[],this._stylesheet="",this.fontsDirty=!1}static from(t){return new e(Object.keys(e.defaultOptions).reduce((e,r)=>({...e,[r]:t[r]}),{}))}cleanFonts(){this._fonts.length>0&&(this._fonts.forEach(t=>{URL.revokeObjectURL(t.src),t.refs--,0===t.refs&&(t.fontFace&&document.fonts.delete(t.fontFace),delete e.availableFonts[t.originalUrl])}),this.fontFamily="Arial",this._fonts.length=0,this.styleID++,this.fontsDirty=!0)}loadFont(t,r={}){let{availableFonts:s}=e;if(s[t]){let e=s[t];return this._fonts.push(e),e.refs++,this.styleID++,this.fontsDirty=!0,Promise.resolve()}return(0,i.settings).ADAPTER.fetch(t).then(e=>e.blob()).then(async e=>new Promise((t,r)=>{let s=URL.createObjectURL(e),i=new FileReader;i.onload=()=>t([s,i.result]),i.onerror=r,i.readAsDataURL(e)})).then(async([e,a])=>{let o=Object.assign({family:(0,i.utils).path.basename(t,(0,i.utils).path.extname(t)),weight:"normal",style:"normal",display:"auto",src:e,dataSrc:a,refs:1,originalUrl:t,fontFace:null},r);s[t]=o,this._fonts.push(o),this.styleID++;let n=new FontFace(o.family,`url(${o.src})`,{weight:o.weight,style:o.style,display:o.display});o.fontFace=n,await n.load(),document.fonts.add(n),await document.fonts.ready,this.styleID++,this.fontsDirty=!0})}addOverride(...e){let t=e.filter(e=>!this._overrides.includes(e));t.length>0&&(this._overrides.push(...t),this.styleID++)}removeOverride(...e){let t=e.filter(e=>this._overrides.includes(e));t.length>0&&(this._overrides=this._overrides.filter(e=>!t.includes(e)),this.styleID++)}toCSS(e){return[`transform: scale(${e})`,"transform-origin: top left","display: inline-block",`color: ${this.normalizeColor(this.fill)}`,`font-size: ${this.fontSize}px`,`font-family: ${this.fontFamily}`,`font-weight: ${this.fontWeight}`,`font-style: ${this.fontStyle}`,`font-variant: ${this.fontVariant}`,`letter-spacing: ${this.letterSpacing}px`,`text-align: ${this.align}`,`padding: ${this.padding}px`,`white-space: ${this.whiteSpace}`,...this.lineHeight?[`line-height: ${this.lineHeight}px`]:[],...this.wordWrap?[`word-wrap: ${this.breakWords?"break-all":"break-word"}`,`max-width: ${this.wordWrapWidth}px`]:[],...this.strokeThickness?[`-webkit-text-stroke-width: ${this.strokeThickness}px`,`-webkit-text-stroke-color: ${this.normalizeColor(this.stroke)}`,`text-stroke-width: ${this.strokeThickness}px`,`text-stroke-color: ${this.normalizeColor(this.stroke)}`,"paint-order: stroke"]:[],...this.dropShadow?[this.dropShadowToCSS()]:[],...this._overrides].join(";")}toGlobalCSS(){return this._fonts.reduce((e,t)=>`${e}
            @font-face {
                font-family: "${t.family}";
                src: url('${t.dataSrc}');
                font-weight: ${t.weight};
                font-style: ${t.style};
                font-display: ${t.display};
            }`,this._stylesheet)}get stylesheet(){return this._stylesheet}set stylesheet(e){this._stylesheet!==e&&(this._stylesheet=e,this.styleID++)}normalizeColor(e){return Array.isArray(e)&&(e=(0,i.utils).rgb2hex(e)),"number"==typeof e?(0,i.utils).hex2string(e):e}dropShadowToCSS(){let e=this.normalizeColor(this.dropShadowColor),t=this.dropShadowAlpha,r=Math.round(Math.cos(this.dropShadowAngle)*this.dropShadowDistance),s=Math.round(Math.sin(this.dropShadowAngle)*this.dropShadowDistance);e.startsWith("#")&&t<1&&(e+=(255*t|0).toString(16).padStart(2,"0"));let i=`${r}px ${s}px`;return this.dropShadowBlur>0?`text-shadow: ${i} ${this.dropShadowBlur}px ${e}`:`text-shadow: ${i} ${e}`}reset(){Object.assign(this,e.defaultOptions)}onBeforeDraw(){let{fontsDirty:e}=this;return this.fontsDirty=!1,this.isSafari&&this._fonts.length>0&&e?new Promise(e=>setTimeout(e,100)):Promise.resolve()}get isSafari(){let{userAgent:e}=(0,i.settings).ADAPTER.getNavigator();return/^((?!chrome|android).)*safari/i.test(e)}set fillGradientStops(e){console.warn("[HTMLTextStyle] fillGradientStops is not supported by HTMLText")}get fillGradientStops(){return super.fillGradientStops}set fillGradientType(e){console.warn("[HTMLTextStyle] fillGradientType is not supported by HTMLText")}get fillGradientType(){return super.fillGradientType}set miterLimit(e){console.warn("[HTMLTextStyle] miterLimit is not supported by HTMLText")}get miterLimit(){return super.miterLimit}set trim(e){console.warn("[HTMLTextStyle] trim is not supported by HTMLText")}get trim(){return super.trim}set textBaseline(e){console.warn("[HTMLTextStyle] textBaseline is not supported by HTMLText")}get textBaseline(){return super.textBaseline}set leading(e){console.warn("[HTMLTextStyle] leading is not supported by HTMLText")}get leading(){return super.leading}set lineJoin(e){console.warn("[HTMLTextStyle] lineJoin is not supported by HTMLText")}get lineJoin(){return super.lineJoin}};o.availableFonts={},o.defaultOptions={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,padding:0,stroke:"black",strokeThickness:0,whiteSpace:"normal",wordWrap:!1,wordWrapWidth:100};let n=o},{"@pixi/core":"dUVGa","@pixi/text":"jmhqR","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],fc3Dq:[function(e,t,r){t.exports=e("16d83e33811b5579")(e("a7099d7889fe0857").resolve("6u5Ya")).then(()=>t.bundle.root("isQMz"))},{"16d83e33811b5579":"dBBqP",a7099d7889fe0857:"2ncQC"}],dBBqP:[function(e,t,r){var s=e("ca2a84f7fa4a3bb0");t.exports=s(function(e){return new Promise(function(t,r){if([].concat(document.getElementsByTagName("script")).some(function(t){return t.src===e})){t();return}var s=document.createElement("link");s.href=e,s.rel="preload",s.as="script",document.head.appendChild(s);var i=document.createElement("script");i.async=!0,i.type="text/javascript",i.src=e,i.onerror=function(t){var s=TypeError("Failed to fetch dynamically imported module: ".concat(e,". Error: ").concat(t.message));i.onerror=i.onload=null,i.remove(),r(s)},i.onload=function(){i.onerror=i.onload=null,t()},document.getElementsByTagName("head")[0].appendChild(i)})})},{ca2a84f7fa4a3bb0:"luZuz"}],luZuz:[function(e,t,r){var s={},i={},a={};t.exports=function(e,t){return function(r){var o=function(e){switch(e){case"preload":return i;case"prefetch":return a;default:return s}}(t);return o[r]?o[r]:o[r]=e.apply(null,arguments).catch(function(e){throw delete o[r],e})}}},{}],"6GK3Y":[function(e,t,r){t.exports=e("64761c9b6cae049d")(e("4cf6144cf83607a0").resolve("kbAYj")).then(()=>t.bundle.root("eXVRz"))},{"64761c9b6cae049d":"dBBqP","4cf6144cf83607a0":"2ncQC"}]},["g9s12"],"g9s12","parcelRequire6b9f");