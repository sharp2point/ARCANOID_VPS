!function(e,r,o,t,s){var a="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},i="function"==typeof a[t]&&a[t],l=i.cache||{},n="undefined"!=typeof module&&"function"==typeof module.require&&module.require.bind(module);function c(r,o){if(!l[r]){if(!e[r]){var s="function"==typeof a[t]&&a[t];if(!o&&s)return s(r,!0);if(i)return i(r,!0);if(n&&"string"==typeof r)return n(r);var u=Error("Cannot find module '"+r+"'");throw u.code="MODULE_NOT_FOUND",u}m.resolve=function(o){var t=e[r][1][o];return null!=t?t:o},m.cache={};var d=l[r]=new c.Module(r);e[r][0].call(d.exports,m,d,d.exports,this)}return l[r].exports;function m(e){var r=m.resolve(e);return!1===r?{}:c(r)}}c.isParcelRequire=!0,c.Module=function(e){this.id=e,this.bundle=c,this.exports={}},c.modules=e,c.cache=l,c.parent=i,c.register=function(r,o){e[r]=[function(e,r){r.exports=o},{}]},Object.defineProperty(c,"root",{get:function(){return a[t]}}),a[t]=c;for(var u=0;u<r.length;u++)c(r[u])}({isQMz:[function(e,r,o){var t=e("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(o),t.export(o,"UIScene",()=>c);var s=e("@/game_state/ui/state"),a=e("@/utils/clear_utils"),i=e("@babylonjs/core"),l=e("./html/ui_components"),n=e("./spin2");function c(){let e=new i.Scene(s.UISTATE.Engine);e.clearColor=new i.Color4(1,1,1,0),e.ambientColor=new i.Color3(1,1,1);let r=new i.UniversalCamera("ui-camera",new i.Vector3(0,18,15),e);r.fov=(0,i.Tools).ToRadians(70),r.target=new i.Vector3(0,0,0),s.UISTATE.Camera=r;let o=new i.HemisphericLight("ui-light",new i.Vector3(0,1,0),e);o.diffuse=new i.Color3(.5,.5,.5),o.specular=new i.Color3(0,0,0),o.intensity=0;let t=new i.SpotLight("spot-1",new i.Vector3(0,30,0),new i.Vector3(0,-1,0),(0,i.Tools).ToRadians(50),30,e);t.diffuse=new i.Color3(1,1,1),t.specular=new i.Color3(1,1,1),t.intensity=.9,function(e){let r=(0,a.getInnerWindow)(),o=(0,i.MeshBuilder).CreateGround("ground",{width:r.width,height:r.height},e);o.receiveShadows=!0;let t=new i.StandardMaterial("ground-mt",e);t.diffuseColor=new i.Color3(.1,.1,.3),t.maxSimultaneousLights=10,o.material=t}(e),e.onReadyObservable.add(()=>{(0,l.backSetOpaq_0)(),(0,n.spinMenu2)(e)}),s.UISTATE.Scene=e}},{"@/game_state/ui/state":"aE8EP","@/utils/clear_utils":"aFozW","@babylonjs/core":"1KKys","./html/ui_components":"7Tzis","./spin2":"55nRH","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"55nRH":[function(e,r,o){var t=e("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(o),t.export(o,"SPINMENU",()=>f),t.export(o,"spinMenu2",()=>p),t.export(o,"rotateToNextPosition",()=>v),t.export(o,"rotateToPrevPosition",()=>y);var s=e("@/game_state/assets/state"),a=e("@/game_state/game_state"),i=e("@/utils/loaderGlbFiles"),l=e("@babylonjs/core"),n=e("@babylonjs/procedural-textures"),c=e("./html/ui_components"),u=e("@/DB/indexdb"),d=e("@/utils/clear_utils");let m={border:null,center:null,level:null,numbers:new Map},f={nodeMenu:null,count:6,radius:14,position:new l.Vector3(0,0,15),angle:0,angleDelta:0,focusItem:null,items:new Map,scaleDeterminant:.6,scaleDeterminantMax:1.5,isFocusItemHover:!1,isLeaveMenu:!0,hoverMaterial:null,standardMaterial:null,hoverParticles:null};async function p(e){let r=!1,o=null;f.standardMaterial=new l.StandardMaterial("standard-item-mt",e),f.standardMaterial.diffuse=new l.Color3(.2,.2,.2);var t=new n.FireProceduralTexture("fireTex",256,e);f.hoverMaterial=new l.StandardMaterial("hover-item-mt",e),f.hoverMaterial.diffuseTexture=t,f.hoverMaterial.opacityTexture=t,f.nodeMenu=await function(e,r,o,t){let s=new l.TransformNode("menu-tn",t);f.angle=360/o,f.angleDelta=1.5*f.angle;let a=[];return[...Array(o).keys()].forEach(e=>{a.push(j(`item-${e}`,{index:e,angle:f.angle*e+f.angleDelta},t))}),new Promise(o=>{Promise.all(a).then(t=>{t.forEach((e,o)=>{var t;f.items.set(o,e),e.scalingDeterminant=f.scaleDeterminant,e.setParent(s),t=new l.Vector3(Math.cos((0,l.Tools).ToRadians(f.angle*o))*r,0,Math.sin((0,l.Tools).ToRadians(f.angle*o))*r),e.position=t}),s.rotation.y=(0,l.Tools).ToRadians(f.angleDelta),s.position=e,o(s)})})}(f.position,f.radius,f.count,e),x(0,f.nodeMenu,e),(0,u.getResultsIDB)().then(e=>{let r=e.filter(e=>f.focusItem.meta.index===e.level),o=r[0];for(let e=1;e<r.length;e++)o.score<r[e].score&&(o=r[e]);o?(0,c.redrawResult)(o.isWin,o.score):(0,c.redrawResult)(!1,0),(0,c.showResult)(!0)}),(0,c.redrawLevelDescription)(1,0,a.GameState.state.lang),(0,c.showDescription)(!0),function(e,r){let o=document.querySelector(".left-menu-button"),t=document.querySelector(".right-menu-button");o.addEventListener("click",()=>{y(e,r)}),t.addEventListener("click",()=>{v(e,r)}),(0,c.showSpinMenuButtons)(!0)}(f.nodeMenu,e),e.onPointerDown=(t,s,i)=>{let l=e.pick(e.pointerX,e.pointerY,()=>!0);l.pickedMesh.name.includes("moveHandler")&&(r?((0,a.GameState).levelRun(f.focusItem.meta.index),r=!1):(r=!0,o=l.pickedPoint))},e.onPointerMove=(t,s,a)=>{if(function(e){let r=e.pick(e.pointerX,e.pointerY,()=>!0);if(r.pickedMesh){if("moveHandler"===r.pickedMesh.name){let r=f.focusItem.getChildMeshes().filter(e=>"center"===e.name)[0];f.isFocusItemHover||(f.isFocusItemHover=!0,f.isLeaveMenu=!1,f.hoverParticles=(0,d.appendParticles)(`${f.focusItem.name}-particles`,r,{color1:new l.Color4(.4,.4,.1,.5),color2:new l.Color4(.5,.3,.3,.3),color3:new l.Color4(.9,.2,.2,1),capacity:3e3,emitRate:1e3,max_size:.9,updateSpeed:.05,emmitBox:new l.Vector3(3,0,3),lifeTime:5,gravityY:1,isLocal:!0,sphere:{radius:3.5,range:1}},e),f.hoverParticles.start())}else f.isLeaveMenu||(f.focusItem.getChildMeshes().filter(e=>"center"===e.name)[0],f.hoverParticles.stop(),f.isFocusItemHover=!1,f.isLeaveMenu=!0)}}(e),r){let t=e.pick(e.pointerX,e.pointerY,()=>!0),s=o.x-t.pickedPoint.x;Math.abs(s)>5&&(s>0?v(f.nodeMenu,e):y(f.nodeMenu,e),r=!1)}},e.onPointerUp=(e,o,t)=>{r&&setTimeout(()=>{r=!1},300)}}function h(e,r,o){let t=new l.StandardMaterial("cil-mt",o);return t.diffuseColor=r.diffuse,t.specularColor=new l.Color3(.3,.4,1),t.ambientColor=new l.Color3(.01,.02,.1),t.roughness=0,t.specularPower=.5,t.twoSidedLighting=!0,t.alpha=r.alpha??1,e.material=t,e}async function b(e,r,o){return new Promise(t=>{(0,i.loadMenuItemModel)(o).then(()=>{(0,s.ASSETS).containers3D.get("menu_item").instantiateModelsToScene(e=>e).rootNodes[0].getChildMeshes().forEach(e=>{switch(e.isVisible=!1,e.isEnabled(!1),e.name){case"Border":m.border=e;break;case"Center":m.center=e;break;case"Level":m.level=e;break;case"number-0":case"number-1":case"number-2":case"number-3":case"number-4":case"number-5":case"number-6":case"number-7":case"number-8":case"number-9":m.numbers.set(e.name,e);break;default:console.log("switch default")}})}).then(()=>{let s=function(e,r,o){let t=new l.TransformNode(`${e}-${r.index}`,o),s=m.border.clone("border");s.isVisible=!0,s.isEnabled(!0);let a=m.center.clone("center");a.isVisible=!0,a.isEnabled(!0);let i=m.level.clone("level");i.isVisible=!0,i.isEnabled(!0);let n=m.numbers.get(`number-${r.index}`).clone(`number-${r.index}`);n.isVisible=!0,n.isEnabled(!0);let c=m.center.clone("moveHandler");return c.isVisible=!0,c.isEnabled(!0),a.scaling=new l.Vector3(.9,.2,.9),c.scaling=new l.Vector3(1.1,.1,1.1),c.position.y=2,c.position.z+=1.3,n.rotation.y=(0,l.Tools).ToRadians(180),n.position.z=.9,i.rotation.y=(0,l.Tools).ToRadians(0),i.position=new l.Vector3(0,1.4,-.5),a.position.y=0,s.position.y=.3,n.position=new l.Vector3(0,1.1,1.7),s.setParent(t),a.setParent(t),i.setParent(t),n.setParent(t),c.setParent(t),h(s,{diffuse:new l.Color3(.5,.3,.2)},o),h(a,{diffuse:new l.Color3(.2,.2,.2),alpha:.1},o),h(i,{diffuse:new l.Color3(.9,.9,.9)},o),h(n,{diffuse:new l.Color3(.7,.7,.7)},o),h(c,{diffuse:new l.Color3(.1,.01,.01),alpha:0},o),t.scalingDeterminant=1.5,t.position.y=1,t}(e,{index:r.index},o);s.position=new l.Vector3(0,14,0),t(s)})})}async function j(e,r,o){return new Promise(t=>{b(e,{index:r.index},o).then(o=>{o.meta={name:e,index:r.index,angle:r.angle},t(o)})})}function x(e,r,o){let t=f.items.get(e),s=f.focusItem;t.rotation.y=(0,l.Tools).ToRadians(-t.meta.angle);let a=(0,l.Tools).ToRadians(t.meta.angle);s&&(390===s.meta.angle&&90===t.meta.angle&&(r.rotation.y=(0,l.Tools).ToRadians(30)),90===s.meta.angle&&390===t.meta.angle&&(r.rotation.y=(0,l.Tools).ToRadians(450)));let i=function(e,r){let o=[{frame:0,value:e.rotation.clone().y},{frame:120,value:r}],t=new l.Animation("rotate-menu-anim","rotation.y",120,l.Animation.ANIMATIONTYPE_FLOAT,l.Animation.ANIMATIONLOOPMODE_CONSTANT,!1);return t.setKeys(o),e.animations.push(t),t}(r,a);o.beginAnimation(r,0,120,!1,2,()=>{o.removeAnimation(i)});let n=T(t),d=g(t);if(o.beginAnimation(t,0,60,!1,2,()=>{o.removeAnimation(n),o.removeAnimation(d)}),s){let e=T(s),r=g(s);o.beginAnimation(s,60,0,!1,2,()=>{o.removeAnimation(e),o.removeAnimation(r)})}(0,c.redrawLevelDescription)(1,e,"ru"),(0,u.getResultsIDB)().then(e=>{let r=e.filter(e=>f.focusItem.meta.index===e.level),o=r[0];for(let e=1;e<r.length;e++)o.score<r[e].score&&(o=r[e]);o?(0,c.redrawResult)(o.isWin,o.score):(0,c.redrawResult)(!1,0),(0,c.showResult)(!0)}),f.focusItem=t}function v(e,r){let o=(f.focusItem?f.focusItem.meta.index:0)+1;x(o=o>=f.count?0:o,e,r)}function y(e,r){let o=(f.focusItem?f.focusItem.meta.index:0)-1;x(o=o<0?f.count-1:o,e,r)}function g(e){let r=[{frame:0,value:f.scaleDeterminant},{frame:60,value:f.scaleDeterminantMax}],o=new l.Animation("scale-menu-anim","scalingDeterminant",60,l.Animation.ANIMATIONTYPE_FLOAT,l.Animation.ANIMATIONLOOPMODE_CONSTANT,!1);return o.setKeys(r),e.animations.push(o),o}function T(e){let r=e.position.clone(),o=r.add(new l.Vector3(0,0,0)),t=new l.Animation("posY-menuanim","position",60,l.Animation.ANIMATIONTYPE_VECTOR3,l.Animation.ANIMATIONLOOPMODE_CONSTANT,!1);return t.setKeys([{frame:0,value:r},{frame:60,value:o}]),e.animations.push(t),t}},{"@/game_state/assets/state":"eemMA","@/game_state/game_state":"5qBSL","@/utils/loaderGlbFiles":"dfETV","@babylonjs/core":"1KKys","@babylonjs/procedural-textures":"3wVxx","./html/ui_components":"7Tzis","@/DB/indexdb":"iS775","@/utils/clear_utils":"aFozW","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"3wVxx":[function(e,r,o){var t=e("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(o);var s=e("./brick/index.js");t.exportAll(s,o);var a=e("./cloud/index.js");t.exportAll(a,o);var i=e("./fire/index.js");t.exportAll(i,o);var l=e("./grass/index.js");t.exportAll(l,o);var n=e("./marble/index.js");t.exportAll(n,o);var c=e("./normalMap/index.js");t.exportAll(c,o);var u=e("./perlinNoise/index.js");t.exportAll(u,o);var d=e("./road/index.js");t.exportAll(d,o);var m=e("./starfield/index.js");t.exportAll(m,o);var f=e("./wood/index.js");t.exportAll(f,o)},{"./brick/index.js":"j98vp","./cloud/index.js":"hKMsz","./fire/index.js":"8CHLM","./grass/index.js":"iFSct","./marble/index.js":"iiKFF","./normalMap/index.js":"jW3A5","./perlinNoise/index.js":"lc91D","./road/index.js":"1qN8h","./starfield/index.js":"fTpJZ","./wood/index.js":"ixz6j","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],j98vp:[function(e,r,o){var t=e("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(o);var s=e("./brickProceduralTexture.js");t.exportAll(s,o)},{"./brickProceduralTexture.js":"8sjD2","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"8sjD2":[function(e,r,o){var t=e("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(o),t.export(o,"BrickProceduralTexture",()=>c);var s=e("@babylonjs/core/tslib.es6.js"),a=e("@babylonjs/core/Misc/decorators.js"),i=e("@babylonjs/core/Maths/math.color.js"),l=e("@babylonjs/core/Materials/Textures/Procedurals/proceduralTexture.js"),n=e("@babylonjs/core/Misc/typeStore.js");e("./brickProceduralTexture.fragment.js");class c extends l.ProceduralTexture{constructor(e,r,o=null,t,s){super(e,r,"brickProceduralTexture",o,t,s),this._numberOfBricksHeight=15,this._numberOfBricksWidth=5,this._jointColor=new i.Color3(.72,.72,.72),this._brickColor=new i.Color3(.77,.47,.4),this.updateShaderUniforms()}updateShaderUniforms(){this.setFloat("numberOfBricksHeight",this._numberOfBricksHeight),this.setFloat("numberOfBricksWidth",this._numberOfBricksWidth),this.setColor3("brickColor",this._brickColor),this.setColor3("jointColor",this._jointColor)}get numberOfBricksHeight(){return this._numberOfBricksHeight}set numberOfBricksHeight(e){this._numberOfBricksHeight=e,this.updateShaderUniforms()}get numberOfBricksWidth(){return this._numberOfBricksWidth}set numberOfBricksWidth(e){this._numberOfBricksWidth=e,this.updateShaderUniforms()}get jointColor(){return this._jointColor}set jointColor(e){this._jointColor=e,this.updateShaderUniforms()}get brickColor(){return this._brickColor}set brickColor(e){this._brickColor=e,this.updateShaderUniforms()}serialize(){let e=(0,a.SerializationHelper).Serialize(this,super.serialize());return e.customType="BABYLON.BrickProceduralTexture",e}static Parse(e,r,o){return(0,a.SerializationHelper).Parse(()=>new c(e.name,e._size,r,void 0,e._generateMipMaps),e,r,o)}}(0,s.__decorate)([(0,a.serialize)()],c.prototype,"numberOfBricksHeight",null),(0,s.__decorate)([(0,a.serialize)()],c.prototype,"numberOfBricksWidth",null),(0,s.__decorate)([(0,a.serializeAsColor3)()],c.prototype,"jointColor",null),(0,s.__decorate)([(0,a.serializeAsColor3)()],c.prototype,"brickColor",null),(0,n.RegisterClass)("BABYLON.BrickProceduralTexture",c)},{"@babylonjs/core/tslib.es6.js":"8PXfl","@babylonjs/core/Misc/decorators.js":"1fqhD","@babylonjs/core/Maths/math.color.js":"78my4","@babylonjs/core/Materials/Textures/Procedurals/proceduralTexture.js":"aDJW1","@babylonjs/core/Misc/typeStore.js":"lABbx","./brickProceduralTexture.fragment.js":"9LPzq","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"9LPzq":[function(e,r,o){var t=e("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(o),t.export(o,"brickProceduralTexturePixelShader",()=>l);var s=e("@babylonjs/core/Engines/shaderStore.js");let a="brickProceduralTexturePixelShader",i=`precision highp float;varying vec2 vPosition;varying vec2 vUV;uniform float numberOfBricksHeight;uniform float numberOfBricksWidth;uniform vec3 brickColor;uniform vec3 jointColor;float rand(vec2 n) {return fract(cos(dot(n,vec2(12.9898,4.1414)))*43758.5453);}
float noise(vec2 n) {const vec2 d=vec2(0.0,1.0);vec2 b=floor(n),f=smoothstep(vec2(0.0),vec2(1.0),fract(n));return mix(mix(rand(b),rand(b+d.yx),f.x),mix(rand(b+d.xy),rand(b+d.yy),f.x),f.y);}
float fbm(vec2 n) {float total=0.0,amplitude=1.0;for (int i=0; i<4; i++) {total+=noise(n)*amplitude;n+=n;amplitude*=0.5;}
return total;}
float roundF(float number){return sign(number)*floor(abs(number)+0.5);}
#define CUSTOM_FRAGMENT_DEFINITIONS
void main(void)
{float brickW=1.0/numberOfBricksWidth;float brickH=1.0/numberOfBricksHeight;float jointWPercentage=0.01;float jointHPercentage=0.05;vec3 color=brickColor;float yi=vUV.y/brickH;float nyi=roundF(yi);float xi=vUV.x/brickW;if (mod(floor(yi),2.0)==0.0){xi=xi-0.5;}
float nxi=roundF(xi);vec2 brickvUV=vec2((xi-floor(xi))/brickH,(yi-floor(yi))/ brickW);if (yi<nyi+jointHPercentage && yi>nyi-jointHPercentage){color=mix(jointColor,vec3(0.37,0.25,0.25),(yi-nyi)/jointHPercentage+0.2);}
else if (xi<nxi+jointWPercentage && xi>nxi-jointWPercentage){color=mix(jointColor,vec3(0.44,0.44,0.44),(xi-nxi)/jointWPercentage+0.2);}
else {float brickColorSwitch=mod(floor(yi)+floor(xi),3.0);if (brickColorSwitch==0.0)
color=mix(color,vec3(0.33,0.33,0.33),0.3);else if (brickColorSwitch==2.0)
color=mix(color,vec3(0.11,0.11,0.11),0.3);}
gl_FragColor=vec4(color,1.0);}`;s.ShaderStore.ShadersStore[a]=i;let l={name:a,shader:i}},{"@babylonjs/core/Engines/shaderStore.js":"lEui9","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],hKMsz:[function(e,r,o){var t=e("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(o);var s=e("./cloudProceduralTexture.js");t.exportAll(s,o)},{"./cloudProceduralTexture.js":"iYGd2","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],iYGd2:[function(e,r,o){var t=e("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(o),t.export(o,"CloudProceduralTexture",()=>c);var s=e("@babylonjs/core/tslib.es6.js"),a=e("@babylonjs/core/Misc/decorators.js"),i=e("@babylonjs/core/Maths/math.color.js"),l=e("@babylonjs/core/Materials/Textures/Procedurals/proceduralTexture.js"),n=e("@babylonjs/core/Misc/typeStore.js");e("./cloudProceduralTexture.fragment.js");class c extends l.ProceduralTexture{constructor(e,r,o=null,t,s){super(e,r,"cloudProceduralTexture",o,t,s),this._skyColor=new i.Color4(.15,.68,1,1),this._cloudColor=new i.Color4(1,1,1,1),this._amplitude=1,this._numOctaves=4,this.updateShaderUniforms()}updateShaderUniforms(){this.setColor4("skyColor",this._skyColor),this.setColor4("cloudColor",this._cloudColor),this.setFloat("amplitude",this._amplitude),this.setInt("numOctaves",this._numOctaves)}get skyColor(){return this._skyColor}set skyColor(e){this._skyColor=e,this.updateShaderUniforms()}get cloudColor(){return this._cloudColor}set cloudColor(e){this._cloudColor=e,this.updateShaderUniforms()}get amplitude(){return this._amplitude}set amplitude(e){this._amplitude=e,this.updateShaderUniforms()}get numOctaves(){return this._numOctaves}set numOctaves(e){this._numOctaves=e,this.updateShaderUniforms()}serialize(){let e=(0,a.SerializationHelper).Serialize(this,super.serialize());return e.customType="BABYLON.CloudProceduralTexture",e}static Parse(e,r,o){return(0,a.SerializationHelper).Parse(()=>new c(e.name,e._size,r,void 0,e._generateMipMaps),e,r,o)}}(0,s.__decorate)([(0,a.serializeAsColor4)()],c.prototype,"skyColor",null),(0,s.__decorate)([(0,a.serializeAsColor4)()],c.prototype,"cloudColor",null),(0,s.__decorate)([(0,a.serialize)()],c.prototype,"amplitude",null),(0,s.__decorate)([(0,a.serialize)()],c.prototype,"numOctaves",null),(0,n.RegisterClass)("BABYLON.CloudProceduralTexture",c)},{"@babylonjs/core/tslib.es6.js":"8PXfl","@babylonjs/core/Misc/decorators.js":"1fqhD","@babylonjs/core/Maths/math.color.js":"78my4","@babylonjs/core/Materials/Textures/Procedurals/proceduralTexture.js":"aDJW1","@babylonjs/core/Misc/typeStore.js":"lABbx","./cloudProceduralTexture.fragment.js":"cz3x7","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],cz3x7:[function(e,r,o){var t=e("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(o),t.export(o,"cloudProceduralTexturePixelShader",()=>l);var s=e("@babylonjs/core/Engines/shaderStore.js");let a="cloudProceduralTexturePixelShader",i=`precision highp float;varying vec2 vUV;uniform vec4 skyColor;uniform vec4 cloudColor;uniform float amplitude;uniform int numOctaves;float rand(vec2 n) {return fract(cos(dot(n,vec2(12.9898,4.1414)))*43758.5453);}
float noise(vec2 n) {const vec2 d=vec2(0.0,1.0);vec2 b=floor(n),f=smoothstep(vec2(0.0),vec2(1.0),fract(n));return mix(mix(rand(b),rand(b+d.yx),f.x),mix(rand(b+d.xy),rand(b+d.yy),f.x),f.y);}
float fbm(vec2 n) {float total=0.0,ampl=amplitude;
#ifdef WEBGL2
for (int i=0; i<numOctaves; i++) {
#else
for (int i=0; i<4; i++) {
#endif
total+=noise(n)*ampl;n+=n;ampl*=0.5;}
return total;}
void main() {vec2 p=vUV*12.0;vec4 c=mix(skyColor,cloudColor,fbm(p));gl_FragColor=c;}
`;s.ShaderStore.ShadersStore[a]=i;let l={name:a,shader:i}},{"@babylonjs/core/Engines/shaderStore.js":"lEui9","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"8CHLM":[function(e,r,o){var t=e("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(o);var s=e("./fireProceduralTexture.js");t.exportAll(s,o)},{"./fireProceduralTexture.js":"583kw","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"583kw":[function(e,r,o){var t=e("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(o),t.export(o,"FireProceduralTexture",()=>u);var s=e("@babylonjs/core/tslib.es6.js"),a=e("@babylonjs/core/Misc/decorators.js"),i=e("@babylonjs/core/Maths/math.vector.js"),l=e("@babylonjs/core/Maths/math.color.js"),n=e("@babylonjs/core/Materials/Textures/Procedurals/proceduralTexture.js"),c=e("@babylonjs/core/Misc/typeStore.js");e("./fireProceduralTexture.fragment.js");class u extends n.ProceduralTexture{constructor(e,r,o=null,t,s){super(e,r,"fireProceduralTexture",o,t,s),this._time=0,this._speed=new i.Vector2(.5,.3),this._autoGenerateTime=!0,this._alphaThreshold=.5,this._fireColors=u.RedFireColors,this.updateShaderUniforms()}updateShaderUniforms(){this.setFloat("time",this._time),this.setVector2("speed",this._speed),this.setColor3("c1",this._fireColors[0]),this.setColor3("c2",this._fireColors[1]),this.setColor3("c3",this._fireColors[2]),this.setColor3("c4",this._fireColors[3]),this.setColor3("c5",this._fireColors[4]),this.setColor3("c6",this._fireColors[5]),this.setFloat("alphaThreshold",this._alphaThreshold)}render(e){let r=this.getScene();this._autoGenerateTime&&r&&(this._time+=.03*r.getAnimationRatio(),this.updateShaderUniforms()),super.render(e)}static get PurpleFireColors(){return[new l.Color3(.5,0,1),new l.Color3(.9,0,1),new l.Color3(.2,0,1),new l.Color3(1,.9,1),new l.Color3(.1,.1,1),new l.Color3(.9,.9,1)]}static get GreenFireColors(){return[new l.Color3(.5,1,0),new l.Color3(.5,1,0),new l.Color3(.3,.4,0),new l.Color3(.5,1,0),new l.Color3(.2,0,0),new l.Color3(.5,1,0)]}static get RedFireColors(){return[new l.Color3(.5,0,.1),new l.Color3(.9,0,0),new l.Color3(.2,0,0),new l.Color3(1,.9,0),new l.Color3(.1,.1,.1),new l.Color3(.9,.9,.9)]}static get BlueFireColors(){return[new l.Color3(.1,0,.5),new l.Color3(0,0,.5),new l.Color3(.1,0,.2),new l.Color3(0,0,1),new l.Color3(.1,.2,.3),new l.Color3(0,.2,.9)]}get autoGenerateTime(){return this._autoGenerateTime}set autoGenerateTime(e){this._autoGenerateTime=e}get fireColors(){return this._fireColors}set fireColors(e){this._fireColors=e,this.updateShaderUniforms()}get time(){return this._time}set time(e){this._time=e,this.updateShaderUniforms()}get speed(){return this._speed}set speed(e){this._speed=e,this.updateShaderUniforms()}get alphaThreshold(){return this._alphaThreshold}set alphaThreshold(e){this._alphaThreshold=e,this.updateShaderUniforms()}serialize(){let e=(0,a.SerializationHelper).Serialize(this,super.serialize());e.customType="BABYLON.FireProceduralTexture",e.fireColors=[];for(let r=0;r<this._fireColors.length;r++)e.fireColors.push(this._fireColors[r].asArray());return e}static Parse(e,r,o){let t=(0,a.SerializationHelper).Parse(()=>new u(e.name,e._size,r,void 0,e._generateMipMaps),e,r,o),s=[];for(let r=0;r<e.fireColors.length;r++)s.push((0,l.Color3).FromArray(e.fireColors[r]));return t.fireColors=s,t}}(0,s.__decorate)([(0,a.serialize)()],u.prototype,"autoGenerateTime",null),(0,s.__decorate)([(0,a.serialize)()],u.prototype,"time",null),(0,s.__decorate)([(0,a.serializeAsVector2)()],u.prototype,"speed",null),(0,s.__decorate)([(0,a.serialize)()],u.prototype,"alphaThreshold",null),(0,c.RegisterClass)("BABYLON.FireProceduralTexture",u)},{"@babylonjs/core/tslib.es6.js":"8PXfl","@babylonjs/core/Misc/decorators.js":"1fqhD","@babylonjs/core/Maths/math.vector.js":"h33gd","@babylonjs/core/Maths/math.color.js":"78my4","@babylonjs/core/Materials/Textures/Procedurals/proceduralTexture.js":"aDJW1","@babylonjs/core/Misc/typeStore.js":"lABbx","./fireProceduralTexture.fragment.js":"gBuV3","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],gBuV3:[function(e,r,o){var t=e("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(o),t.export(o,"fireProceduralTexturePixelShader",()=>l);var s=e("@babylonjs/core/Engines/shaderStore.js");let a="fireProceduralTexturePixelShader",i=`precision highp float;uniform float time;uniform vec3 c1;uniform vec3 c2;uniform vec3 c3;uniform vec3 c4;uniform vec3 c5;uniform vec3 c6;uniform vec2 speed;uniform float shift;uniform float alphaThreshold;varying vec2 vUV;float rand(vec2 n) {return fract(cos(dot(n,vec2(12.9898,4.1414)))*43758.5453);}
float noise(vec2 n) {const vec2 d=vec2(0.0,1.0);vec2 b=floor(n),f=smoothstep(vec2(0.0),vec2(1.0),fract(n));return mix(mix(rand(b),rand(b+d.yx),f.x),mix(rand(b+d.xy),rand(b+d.yy),f.x),f.y);}
float fbm(vec2 n) {float total=0.0,amplitude=1.0;for (int i=0; i<4; i++) {total+=noise(n)*amplitude;n+=n;amplitude*=0.5;}
return total;}
void main() {vec2 p=vUV*8.0;float q=fbm(p-time*0.1);vec2 r=vec2(fbm(p+q+time*speed.x-p.x-p.y),fbm(p+q-time*speed.y));vec3 c=mix(c1,c2,fbm(p+r))+mix(c3,c4,r.x)-mix(c5,c6,r.y);vec3 color=c*cos(shift*vUV.y);float luminance=dot(color.rgb,vec3(0.3,0.59,0.11));gl_FragColor=vec4(color,luminance*alphaThreshold+(1.0-alphaThreshold));}`;s.ShaderStore.ShadersStore[a]=i;let l={name:a,shader:i}},{"@babylonjs/core/Engines/shaderStore.js":"lEui9","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],iFSct:[function(e,r,o){var t=e("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(o);var s=e("./grassProceduralTexture.js");t.exportAll(s,o)},{"./grassProceduralTexture.js":"gqSRW","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],gqSRW:[function(e,r,o){var t=e("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(o),t.export(o,"GrassProceduralTexture",()=>c);var s=e("@babylonjs/core/tslib.es6.js"),a=e("@babylonjs/core/Misc/decorators.js"),i=e("@babylonjs/core/Maths/math.color.js"),l=e("@babylonjs/core/Materials/Textures/Procedurals/proceduralTexture.js"),n=e("@babylonjs/core/Misc/typeStore.js");e("./grassProceduralTexture.fragment.js");class c extends l.ProceduralTexture{constructor(e,r,o=null,t,s){super(e,r,"grassProceduralTexture",o,t,s),this._groundColor=new i.Color3(1,1,1),this._grassColors=[new i.Color3(.29,.38,.02),new i.Color3(.36,.49,.09),new i.Color3(.51,.6,.28)],this.updateShaderUniforms()}updateShaderUniforms(){this.setColor3("herb1Color",this._grassColors[0]),this.setColor3("herb2Color",this._grassColors[1]),this.setColor3("herb3Color",this._grassColors[2]),this.setColor3("groundColor",this._groundColor)}get grassColors(){return this._grassColors}set grassColors(e){this._grassColors=e,this.updateShaderUniforms()}get groundColor(){return this._groundColor}set groundColor(e){this._groundColor=e,this.updateShaderUniforms()}serialize(){let e=(0,a.SerializationHelper).Serialize(this,super.serialize());e.customType="BABYLON.GrassProceduralTexture",e.grassColors=[];for(let r=0;r<this._grassColors.length;r++)e.grassColors.push(this._grassColors[r].asArray());return e}static Parse(e,r,o){let t=(0,a.SerializationHelper).Parse(()=>new c(e.name,e._size,r,void 0,e._generateMipMaps),e,r,o),s=[];for(let r=0;r<e.grassColors.length;r++)s.push((0,i.Color3).FromArray(e.grassColors[r]));return t.grassColors=s,t}}(0,s.__decorate)([(0,a.serializeAsColor3)()],c.prototype,"groundColor",null),(0,n.RegisterClass)("BABYLON.GrassProceduralTexture",c)},{"@babylonjs/core/tslib.es6.js":"8PXfl","@babylonjs/core/Misc/decorators.js":"1fqhD","@babylonjs/core/Maths/math.color.js":"78my4","@babylonjs/core/Materials/Textures/Procedurals/proceduralTexture.js":"aDJW1","@babylonjs/core/Misc/typeStore.js":"lABbx","./grassProceduralTexture.fragment.js":"hPc8Y","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],hPc8Y:[function(e,r,o){var t=e("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(o),t.export(o,"grassProceduralTexturePixelShader",()=>l);var s=e("@babylonjs/core/Engines/shaderStore.js");let a="grassProceduralTexturePixelShader",i=`precision highp float;varying vec2 vPosition;varying vec2 vUV;uniform vec3 herb1Color;uniform vec3 herb2Color;uniform vec3 herb3Color;uniform vec3 groundColor;float rand(vec2 n) {return fract(cos(dot(n,vec2(12.9898,4.1414)))*43758.5453);}
float noise(vec2 n) {const vec2 d=vec2(0.0,1.0);vec2 b=floor(n),f=smoothstep(vec2(0.0),vec2(1.0),fract(n));return mix(mix(rand(b),rand(b+d.yx),f.x),mix(rand(b+d.xy),rand(b+d.yy),f.x),f.y);}
float fbm(vec2 n) {float total=0.0,amplitude=1.0;for (int i=0; i<4; i++) {total+=noise(n)*amplitude;n+=n;amplitude*=0.5;}
return total;}
#define CUSTOM_FRAGMENT_DEFINITIONS
void main(void) {
#define CUSTOM_FRAGMENT_MAIN_BEGIN
vec3 color=mix(groundColor,herb1Color,rand(gl_FragCoord.xy*4.0));color=mix(color,herb2Color,rand(gl_FragCoord.xy*8.0));color=mix(color,herb3Color,rand(gl_FragCoord.xy));color=mix(color,herb1Color,fbm(gl_FragCoord.xy*16.0));gl_FragColor=vec4(color,1.0);
#define CUSTOM_FRAGMENT_MAIN_END
}`;s.ShaderStore.ShadersStore[a]=i;let l={name:a,shader:i}},{"@babylonjs/core/Engines/shaderStore.js":"lEui9","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],iiKFF:[function(e,r,o){var t=e("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(o);var s=e("./marbleProceduralTexture.js");t.exportAll(s,o)},{"./marbleProceduralTexture.js":"aHn8e","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],aHn8e:[function(e,r,o){var t=e("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(o),t.export(o,"MarbleProceduralTexture",()=>c);var s=e("@babylonjs/core/tslib.es6.js"),a=e("@babylonjs/core/Misc/decorators.js"),i=e("@babylonjs/core/Maths/math.color.js"),l=e("@babylonjs/core/Materials/Textures/Procedurals/proceduralTexture.js"),n=e("@babylonjs/core/Misc/typeStore.js");e("./marbleProceduralTexture.fragment.js");class c extends l.ProceduralTexture{constructor(e,r,o=null,t,s){super(e,r,"marbleProceduralTexture",o,t,s),this._numberOfTilesHeight=3,this._numberOfTilesWidth=3,this._amplitude=9,this._jointColor=new i.Color3(.72,.72,.72),this.updateShaderUniforms()}updateShaderUniforms(){this.setFloat("numberOfTilesHeight",this._numberOfTilesHeight),this.setFloat("numberOfTilesWidth",this._numberOfTilesWidth),this.setFloat("amplitude",this._amplitude),this.setColor3("jointColor",this._jointColor)}get numberOfTilesHeight(){return this._numberOfTilesHeight}set numberOfTilesHeight(e){this._numberOfTilesHeight=e,this.updateShaderUniforms()}get amplitude(){return this._amplitude}set amplitude(e){this._amplitude=e,this.updateShaderUniforms()}get numberOfTilesWidth(){return this._numberOfTilesWidth}set numberOfTilesWidth(e){this._numberOfTilesWidth=e,this.updateShaderUniforms()}get jointColor(){return this._jointColor}set jointColor(e){this._jointColor=e,this.updateShaderUniforms()}serialize(){let e=(0,a.SerializationHelper).Serialize(this,super.serialize());return e.customType="BABYLON.MarbleProceduralTexture",e}static Parse(e,r,o){return(0,a.SerializationHelper).Parse(()=>new c(e.name,e._size,r,void 0,e._generateMipMaps),e,r,o)}}(0,s.__decorate)([(0,a.serialize)()],c.prototype,"numberOfTilesHeight",null),(0,s.__decorate)([(0,a.serialize)()],c.prototype,"amplitude",null),(0,s.__decorate)([(0,a.serialize)()],c.prototype,"numberOfTilesWidth",null),(0,s.__decorate)([(0,a.serialize)()],c.prototype,"jointColor",null),(0,n.RegisterClass)("BABYLON.MarbleProceduralTexture",c)},{"@babylonjs/core/tslib.es6.js":"8PXfl","@babylonjs/core/Misc/decorators.js":"1fqhD","@babylonjs/core/Maths/math.color.js":"78my4","@babylonjs/core/Materials/Textures/Procedurals/proceduralTexture.js":"aDJW1","@babylonjs/core/Misc/typeStore.js":"lABbx","./marbleProceduralTexture.fragment.js":"47hD6","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"47hD6":[function(e,r,o){var t=e("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(o),t.export(o,"marbleProceduralTexturePixelShader",()=>l);var s=e("@babylonjs/core/Engines/shaderStore.js");let a="marbleProceduralTexturePixelShader",i=`precision highp float;varying vec2 vPosition;varying vec2 vUV;uniform float numberOfTilesHeight;uniform float numberOfTilesWidth;uniform float amplitude;uniform vec3 marbleColor;uniform vec3 jointColor;const vec3 tileSize=vec3(1.1,1.0,1.1);const vec3 tilePct=vec3(0.98,1.0,0.98);float rand(vec2 n) {return fract(cos(dot(n,vec2(12.9898,4.1414)))*43758.5453);}
float noise(vec2 n) {const vec2 d=vec2(0.0,1.0);vec2 b=floor(n),f=smoothstep(vec2(0.0),vec2(1.0),fract(n));return mix(mix(rand(b),rand(b+d.yx),f.x),mix(rand(b+d.xy),rand(b+d.yy),f.x),f.y);}
float turbulence(vec2 P)
{float val=0.0;float freq=1.0;for (int i=0; i<4; i++)
{val+=abs(noise(P*freq)/freq);freq*=2.07;}
return val;}
float roundF(float number){return sign(number)*floor(abs(number)+0.5);}
vec3 marble_color(float x)
{vec3 col;x=0.5*(x+1.);x=sqrt(x); 
x=sqrt(x);x=sqrt(x);col=vec3(.2+.75*x); 
col.b*=0.95; 
return col;}
void main()
{float brickW=1.0/numberOfTilesWidth;float brickH=1.0/numberOfTilesHeight;float jointWPercentage=0.01;float jointHPercentage=0.01;vec3 color=marbleColor;float yi=vUV.y/brickH;float nyi=roundF(yi);float xi=vUV.x/brickW;if (mod(floor(yi),2.0)==0.0){xi=xi-0.5;}
float nxi=roundF(xi);vec2 brickvUV=vec2((xi-floor(xi))/brickH,(yi-floor(yi))/brickW);if (yi<nyi+jointHPercentage && yi>nyi-jointHPercentage){color=mix(jointColor,vec3(0.37,0.25,0.25),(yi-nyi)/jointHPercentage+0.2);}
else if (xi<nxi+jointWPercentage && xi>nxi-jointWPercentage){color=mix(jointColor,vec3(0.44,0.44,0.44),(xi-nxi)/jointWPercentage+0.2);}
else {float t=6.28*brickvUV.x/(tileSize.x+noise(vec2(vUV)*6.0));t+=amplitude*turbulence(brickvUV.xy);t=sin(t);color=marble_color(t);}
gl_FragColor=vec4(color,0.0);}`;s.ShaderStore.ShadersStore[a]=i;let l={name:a,shader:i}},{"@babylonjs/core/Engines/shaderStore.js":"lEui9","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],jW3A5:[function(e,r,o){var t=e("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(o);var s=e("./normalMapProceduralTexture.js");t.exportAll(s,o)},{"./normalMapProceduralTexture.js":"1Z0Xc","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"1Z0Xc":[function(e,r,o){var t=e("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(o),t.export(o,"NormalMapProceduralTexture",()=>n);var s=e("@babylonjs/core/tslib.es6.js"),a=e("@babylonjs/core/Misc/decorators.js"),i=e("@babylonjs/core/Materials/Textures/Procedurals/proceduralTexture.js"),l=e("@babylonjs/core/Misc/typeStore.js");e("./normalMapProceduralTexture.fragment.js");class n extends i.ProceduralTexture{constructor(e,r,o=null,t,s){super(e,r,"normalMapProceduralTexture",o,t,s),this.updateShaderUniforms()}updateShaderUniforms(){this.setTexture("baseSampler",this._baseTexture),this.setFloat("size",this.getRenderSize())}render(e){super.render(e)}resize(e,r){super.resize(e,r),this.updateShaderUniforms()}isReady(){return!!(this._baseTexture&&this._baseTexture.isReady())&&super.isReady()}get baseTexture(){return this._baseTexture}set baseTexture(e){this._baseTexture=e,this.updateShaderUniforms()}serialize(){let e=(0,a.SerializationHelper).Serialize(this,super.serialize());return e.customType="BABYLON.NormalMapProceduralTexture",e}static Parse(e,r,o){return(0,a.SerializationHelper).Parse(()=>new n(e.name,e._size,r,void 0,e._generateMipMaps),e,r,o)}}(0,s.__decorate)([(0,a.serializeAsTexture)()],n.prototype,"baseTexture",null),(0,l.RegisterClass)("BABYLON.NormalMapProceduralTexture",n)},{"@babylonjs/core/tslib.es6.js":"8PXfl","@babylonjs/core/Misc/decorators.js":"1fqhD","@babylonjs/core/Materials/Textures/Procedurals/proceduralTexture.js":"aDJW1","@babylonjs/core/Misc/typeStore.js":"lABbx","./normalMapProceduralTexture.fragment.js":"hWSoE","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],hWSoE:[function(e,r,o){var t=e("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(o),t.export(o,"normalMapProceduralTexturePixelShader",()=>l);var s=e("@babylonjs/core/Engines/shaderStore.js");let a="normalMapProceduralTexturePixelShader",i=`precision highp float;uniform sampler2D baseSampler;uniform float size;varying vec2 vUV;const vec3 LUMA_COEFFICIENT=vec3(0.2126,0.7152,0.0722);float lumaAtCoord(vec2 coord)
{vec3 pixel=texture2D(baseSampler,coord).rgb;float luma=dot(pixel,LUMA_COEFFICIENT);return luma;}
void main()
{float lumaU0=lumaAtCoord(vUV+vec2(-1.0, 0.0)/size);float lumaU1=lumaAtCoord(vUV+vec2( 1.0, 0.0)/size);float lumaV0=lumaAtCoord(vUV+vec2( 0.0,-1.0)/size);float lumaV1=lumaAtCoord(vUV+vec2( 0.0, 1.0)/size);vec2 slope=(vec2(lumaU0-lumaU1,lumaV0-lumaV1)+1.0)*0.5;gl_FragColor=vec4(slope,1.0,1.0);}
`;s.ShaderStore.ShadersStore[a]=i;let l={name:a,shader:i}},{"@babylonjs/core/Engines/shaderStore.js":"lEui9","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],lc91D:[function(e,r,o){var t=e("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(o);var s=e("./perlinNoiseProceduralTexture.js");t.exportAll(s,o)},{"./perlinNoiseProceduralTexture.js":"f9vqi","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],f9vqi:[function(e,r,o){var t=e("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(o),t.export(o,"PerlinNoiseProceduralTexture",()=>n);var s=e("@babylonjs/core/tslib.es6.js"),a=e("@babylonjs/core/Misc/decorators.js"),i=e("@babylonjs/core/Materials/Textures/Procedurals/proceduralTexture.js"),l=e("@babylonjs/core/Misc/typeStore.js");e("./perlinNoiseProceduralTexture.fragment.js");class n extends i.ProceduralTexture{constructor(e,r,o=null,t,s){super(e,r,"perlinNoiseProceduralTexture",o,t,s),this.time=0,this.timeScale=1,this.translationSpeed=1,this._currentTranslation=0,this.updateShaderUniforms()}updateShaderUniforms(){this.setFloat("size",this.getRenderSize());let e=this.getScene();if(!e)return;let r=e.getEngine().getDeltaTime();this.time+=r,this.setFloat("time",this.time*this.timeScale/1e3),this._currentTranslation+=r*this.translationSpeed/1e3,this.setFloat("translationSpeed",this._currentTranslation)}render(e){this.updateShaderUniforms(),super.render(e)}resize(e,r){super.resize(e,r)}serialize(){let e=(0,a.SerializationHelper).Serialize(this,super.serialize());return e.customType="BABYLON.PerlinNoiseProceduralTexture",e}static Parse(e,r,o){return(0,a.SerializationHelper).Parse(()=>new n(e.name,e._size,r,void 0,e._generateMipMaps),e,r,o)}}(0,s.__decorate)([(0,a.serialize)()],n.prototype,"time",void 0),(0,s.__decorate)([(0,a.serialize)()],n.prototype,"timeScale",void 0),(0,s.__decorate)([(0,a.serialize)()],n.prototype,"translationSpeed",void 0),(0,l.RegisterClass)("BABYLON.PerlinNoiseProceduralTexture",n)},{"@babylonjs/core/tslib.es6.js":"8PXfl","@babylonjs/core/Misc/decorators.js":"1fqhD","@babylonjs/core/Materials/Textures/Procedurals/proceduralTexture.js":"aDJW1","@babylonjs/core/Misc/typeStore.js":"lABbx","./perlinNoiseProceduralTexture.fragment.js":"lll8p","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],lll8p:[function(e,r,o){var t=e("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(o),t.export(o,"perlinNoiseProceduralTexturePixelShader",()=>l);var s=e("@babylonjs/core/Engines/shaderStore.js");let a="perlinNoiseProceduralTexturePixelShader",i=`precision highp float;uniform float size;uniform float time;uniform float translationSpeed;varying vec2 vUV;float r(float n)
{return fract(cos(n*89.42)*343.42);}
vec2 r(vec2 n)
{return vec2(r(n.x*23.62-300.0+n.y*34.35),r(n.x*45.13+256.0+n.y*38.89)); }
float worley(vec2 n,float s)
{float dis=1.0;for(int x=-1; x<=1; x++)
{for(int y=-1; y<=1; y++)
{vec2 p=floor(n/s)+vec2(x,y);float d=length(r(p)+vec2(x,y)-fract(n/s));if (dis>d)
dis=d;}}
return 1.0-dis;}
vec3 hash33(vec3 p3)
{p3=fract(p3*vec3(0.1031,0.11369,0.13787));p3+=dot(p3,p3.yxz+19.19);return -1.0+2.0*fract(vec3((p3.x+p3.y)*p3.z,(p3.x+p3.z)*p3.y,(p3.y+p3.z)*p3.x));}
float perlinNoise(vec3 p)
{vec3 pi=floor(p);vec3 pf=p-pi;vec3 w=pf*pf*(3.0-2.0*pf);return mix(
mix(
mix(
dot(pf-vec3(0,0,0),hash33(pi+vec3(0,0,0))),
dot(pf-vec3(1,0,0),hash33(pi+vec3(1,0,0))),
w.x
),
mix(
dot(pf-vec3(0,0,1),hash33(pi+vec3(0,0,1))),
dot(pf-vec3(1,0,1),hash33(pi+vec3(1,0,1))),
w.x
),
w.z
),
mix(
mix(
dot(pf-vec3(0,1,0),hash33(pi+vec3(0,1,0))),
dot(pf-vec3(1,1,0),hash33(pi+vec3(1,1,0))),
w.x
),
mix(
dot(pf-vec3(0,1,1),hash33(pi+vec3(0,1,1))),
dot(pf-vec3(1,1,1),hash33(pi+vec3(1,1,1))),
w.x
),
w.z
),
w.y
);}
#define CUSTOM_FRAGMENT_DEFINITIONS
void main(void)
{vec2 uv=gl_FragCoord.xy+translationSpeed;float dis=(
1.0+perlinNoise(vec3(uv/vec2(size,size),time*0.05)*8.0))
* (1.0+(worley(uv,32.0)+ 0.5*worley(2.0*uv,32.0)+0.25*worley(4.0*uv,32.0))
);gl_FragColor=vec4(vec3(dis/4.0),1.0);}
`;s.ShaderStore.ShadersStore[a]=i;let l={name:a,shader:i}},{"@babylonjs/core/Engines/shaderStore.js":"lEui9","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"1qN8h":[function(e,r,o){var t=e("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(o);var s=e("./roadProceduralTexture.js");t.exportAll(s,o)},{"./roadProceduralTexture.js":"9l4cQ","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"9l4cQ":[function(e,r,o){var t=e("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(o),t.export(o,"RoadProceduralTexture",()=>c);var s=e("@babylonjs/core/tslib.es6.js"),a=e("@babylonjs/core/Misc/decorators.js"),i=e("@babylonjs/core/Maths/math.color.js"),l=e("@babylonjs/core/Materials/Textures/Procedurals/proceduralTexture.js"),n=e("@babylonjs/core/Misc/typeStore.js");e("./roadProceduralTexture.fragment.js");class c extends l.ProceduralTexture{constructor(e,r,o=null,t,s){super(e,r,"roadProceduralTexture",o,t,s),this._roadColor=new i.Color3(.53,.53,.53),this.updateShaderUniforms()}updateShaderUniforms(){this.setColor3("roadColor",this._roadColor)}get roadColor(){return this._roadColor}set roadColor(e){this._roadColor=e,this.updateShaderUniforms()}serialize(){let e=(0,a.SerializationHelper).Serialize(this,super.serialize());return e.customType="BABYLON.RoadProceduralTexture",e}static Parse(e,r,o){return(0,a.SerializationHelper).Parse(()=>new c(e.name,e._size,r,void 0,e._generateMipMaps),e,r,o)}}(0,s.__decorate)([(0,a.serializeAsColor3)()],c.prototype,"roadColor",null),(0,n.RegisterClass)("BABYLON.RoadProceduralTexture",c)},{"@babylonjs/core/tslib.es6.js":"8PXfl","@babylonjs/core/Misc/decorators.js":"1fqhD","@babylonjs/core/Maths/math.color.js":"78my4","@babylonjs/core/Materials/Textures/Procedurals/proceduralTexture.js":"aDJW1","@babylonjs/core/Misc/typeStore.js":"lABbx","./roadProceduralTexture.fragment.js":"8yUCI","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"8yUCI":[function(e,r,o){var t=e("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(o),t.export(o,"roadProceduralTexturePixelShader",()=>l);var s=e("@babylonjs/core/Engines/shaderStore.js");let a="roadProceduralTexturePixelShader",i=`precision highp float;varying vec2 vUV; 
uniform vec3 roadColor;float rand(vec2 n) {return fract(cos(dot(n,vec2(12.9898,4.1414)))*43758.5453);}
float noise(vec2 n) {const vec2 d=vec2(0.0,1.0);vec2 b=floor(n),f=smoothstep(vec2(0.0),vec2(1.0),fract(n));return mix(mix(rand(b),rand(b+d.yx),f.x),mix(rand(b+d.xy),rand(b+d.yy),f.x),f.y);}
float fbm(vec2 n) {float total=0.0,amplitude=1.0;for (int i=0; i<4; i++) {total+=noise(n)*amplitude;n+=n;amplitude*=0.5;}
return total;}
#define CUSTOM_FRAGMENT_DEFINITIONS
void main(void) {
#define CUSTOM_FRAGMENT_MAIN_BEGIN
float ratioy=mod(gl_FragCoord.y*100.0 ,fbm(vUV*2.0));vec3 color=roadColor*ratioy;gl_FragColor=vec4(color,1.0);
#define CUSTOM_FRAGMENT_MAIN_END
}`;s.ShaderStore.ShadersStore[a]=i;let l={name:a,shader:i}},{"@babylonjs/core/Engines/shaderStore.js":"lEui9","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],fTpJZ:[function(e,r,o){var t=e("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(o);var s=e("./starfieldProceduralTexture.js");t.exportAll(s,o)},{"./starfieldProceduralTexture.js":"e3n7k","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],e3n7k:[function(e,r,o){var t=e("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(o),t.export(o,"StarfieldProceduralTexture",()=>n);var s=e("@babylonjs/core/tslib.es6.js"),a=e("@babylonjs/core/Misc/decorators.js"),i=e("@babylonjs/core/Materials/Textures/Procedurals/proceduralTexture.js"),l=e("@babylonjs/core/Misc/typeStore.js");e("./starfieldProceduralTexture.fragment.js");class n extends i.ProceduralTexture{constructor(e,r,o=null,t,s){super(e,r,"starfieldProceduralTexture",o,t,s),this._time=1,this._alpha=.5,this._beta=.8,this._zoom=.8,this._formuparam=.53,this._stepsize=.1,this._tile=.85,this._brightness=.0015,this._darkmatter=.4,this._distfading=.73,this._saturation=.85,this.updateShaderUniforms()}updateShaderUniforms(){this.setFloat("time",this._time),this.setFloat("alpha",this._alpha),this.setFloat("beta",this._beta),this.setFloat("zoom",this._zoom),this.setFloat("formuparam",this._formuparam),this.setFloat("stepsize",this._stepsize),this.setFloat("tile",this._tile),this.setFloat("brightness",this._brightness),this.setFloat("darkmatter",this._darkmatter),this.setFloat("distfading",this._distfading),this.setFloat("saturation",this._saturation)}get time(){return this._time}set time(e){this._time=e,this.updateShaderUniforms()}get alpha(){return this._alpha}set alpha(e){this._alpha=e,this.updateShaderUniforms()}get beta(){return this._beta}set beta(e){this._beta=e,this.updateShaderUniforms()}get formuparam(){return this._formuparam}set formuparam(e){this._formuparam=e,this.updateShaderUniforms()}get stepsize(){return this._stepsize}set stepsize(e){this._stepsize=e,this.updateShaderUniforms()}get zoom(){return this._zoom}set zoom(e){this._zoom=e,this.updateShaderUniforms()}get tile(){return this._tile}set tile(e){this._tile=e,this.updateShaderUniforms()}get brightness(){return this._brightness}set brightness(e){this._brightness=e,this.updateShaderUniforms()}get darkmatter(){return this._darkmatter}set darkmatter(e){this._darkmatter=e,this.updateShaderUniforms()}get distfading(){return this._distfading}set distfading(e){this._distfading=e,this.updateShaderUniforms()}get saturation(){return this._saturation}set saturation(e){this._saturation=e,this.updateShaderUniforms()}serialize(){let e=(0,a.SerializationHelper).Serialize(this,super.serialize());return e.customType="BABYLON.StarfieldProceduralTexture",e}static Parse(e,r,o){return(0,a.SerializationHelper).Parse(()=>new n(e.name,e._size,r,void 0,e._generateMipMaps),e,r,o)}}(0,s.__decorate)([(0,a.serialize)()],n.prototype,"time",null),(0,s.__decorate)([(0,a.serialize)()],n.prototype,"alpha",null),(0,s.__decorate)([(0,a.serialize)()],n.prototype,"beta",null),(0,s.__decorate)([(0,a.serialize)()],n.prototype,"formuparam",null),(0,s.__decorate)([(0,a.serialize)()],n.prototype,"stepsize",null),(0,s.__decorate)([(0,a.serialize)()],n.prototype,"zoom",null),(0,s.__decorate)([(0,a.serialize)()],n.prototype,"tile",null),(0,s.__decorate)([(0,a.serialize)()],n.prototype,"brightness",null),(0,s.__decorate)([(0,a.serialize)()],n.prototype,"darkmatter",null),(0,s.__decorate)([(0,a.serialize)()],n.prototype,"distfading",null),(0,s.__decorate)([(0,a.serialize)()],n.prototype,"saturation",null),(0,l.RegisterClass)("BABYLON.StarfieldProceduralTexture",n)},{"@babylonjs/core/tslib.es6.js":"8PXfl","@babylonjs/core/Misc/decorators.js":"1fqhD","@babylonjs/core/Materials/Textures/Procedurals/proceduralTexture.js":"aDJW1","@babylonjs/core/Misc/typeStore.js":"lABbx","./starfieldProceduralTexture.fragment.js":"6flTj","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],"6flTj":[function(e,r,o){var t=e("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(o),t.export(o,"starfieldProceduralTexturePixelShader",()=>l);var s=e("@babylonjs/core/Engines/shaderStore.js");let a="starfieldProceduralTexturePixelShader",i=`precision highp float;
#define volsteps 20
#define iterations 15
varying vec2 vPosition;varying vec2 vUV;uniform float time;uniform float alpha;uniform float beta;uniform float zoom;uniform float formuparam;uniform float stepsize;uniform float tile;uniform float brightness;uniform float darkmatter;uniform float distfading;uniform float saturation;void main()
{vec3 dir=vec3(vUV*zoom,1.);float localTime=time*0.0001;mat2 rot1=mat2(cos(alpha),sin(alpha),-sin(alpha),cos(alpha));mat2 rot2=mat2(cos(beta),sin(beta),-sin(beta),cos(beta));dir.xz*=rot1;dir.xy*=rot2;vec3 from_=vec3(1.,.5,0.5);from_+=vec3(-2.,localTime*2.,localTime);from_.xz*=rot1;from_.xy*=rot2;float s=0.1,fade=1.;vec3 v=vec3(0.);for (int r=0; r<volsteps; r++) {vec3 p=from_+s*dir*.5;p=abs(vec3(tile)-mod(p,vec3(tile*2.))); 
float pa,a=pa=0.;for (int i=0; i<iterations; i++) {p=abs(p)/dot(p,p)-formuparam; 
a+=abs(length(p)-pa); 
pa=length(p);}
float dm=max(0.,darkmatter-a*a*.001); 
a*=a*a; 
if (r>6) fade*=1.-dm; 
v+=fade;v+=vec3(s,s*s,s*s*s*s)*a*brightness*fade; 
fade*=distfading; 
s+=stepsize;}
v=mix(vec3(length(v)),v,saturation); 
gl_FragColor=vec4(v*.01,1.);}`;s.ShaderStore.ShadersStore[a]=i;let l={name:a,shader:i}},{"@babylonjs/core/Engines/shaderStore.js":"lEui9","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],ixz6j:[function(e,r,o){var t=e("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(o);var s=e("./woodProceduralTexture.js");t.exportAll(s,o)},{"./woodProceduralTexture.js":"cLxNF","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],cLxNF:[function(e,r,o){var t=e("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(o),t.export(o,"WoodProceduralTexture",()=>c);var s=e("@babylonjs/core/tslib.es6.js"),a=e("@babylonjs/core/Misc/decorators.js"),i=e("@babylonjs/core/Maths/math.color.js"),l=e("@babylonjs/core/Materials/Textures/Procedurals/proceduralTexture.js"),n=e("@babylonjs/core/Misc/typeStore.js");e("./woodProceduralTexture.fragment.js");class c extends l.ProceduralTexture{constructor(e,r,o=null,t,s){super(e,r,"woodProceduralTexture",o,t,s),this._ampScale=100,this._woodColor=new i.Color3(.32,.17,.09),this.updateShaderUniforms()}updateShaderUniforms(){this.setFloat("ampScale",this._ampScale),this.setColor3("woodColor",this._woodColor)}get ampScale(){return this._ampScale}set ampScale(e){this._ampScale=e,this.updateShaderUniforms()}get woodColor(){return this._woodColor}set woodColor(e){this._woodColor=e,this.updateShaderUniforms()}serialize(){let e=(0,a.SerializationHelper).Serialize(this,super.serialize());return e.customType="BABYLON.WoodProceduralTexture",e}static Parse(e,r,o){return(0,a.SerializationHelper).Parse(()=>new c(e.name,e._size,r,void 0,e._generateMipMaps),e,r,o)}}(0,s.__decorate)([(0,a.serialize)()],c.prototype,"ampScale",null),(0,s.__decorate)([(0,a.serializeAsColor3)()],c.prototype,"woodColor",null),(0,n.RegisterClass)("BABYLON.WoodProceduralTexture",c)},{"@babylonjs/core/tslib.es6.js":"8PXfl","@babylonjs/core/Misc/decorators.js":"1fqhD","@babylonjs/core/Maths/math.color.js":"78my4","@babylonjs/core/Materials/Textures/Procedurals/proceduralTexture.js":"aDJW1","@babylonjs/core/Misc/typeStore.js":"lABbx","./woodProceduralTexture.fragment.js":"gtu3H","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}],gtu3H:[function(e,r,o){var t=e("@parcel/transformer-js/src/esmodule-helpers.js");t.defineInteropFlag(o),t.export(o,"woodProceduralTexturePixelShader",()=>l);var s=e("@babylonjs/core/Engines/shaderStore.js");let a="woodProceduralTexturePixelShader",i=`precision highp float;varying vec2 vPosition;varying vec2 vUV;uniform float ampScale;uniform vec3 woodColor;float rand(vec2 n) {return fract(cos(dot(n,vec2(12.9898,4.1414)))*43758.5453);}
float noise(vec2 n) {const vec2 d=vec2(0.0,1.0);vec2 b=floor(n),f=smoothstep(vec2(0.0),vec2(1.0),fract(n));return mix(mix(rand(b),rand(b+d.yx),f.x),mix(rand(b+d.xy),rand(b+d.yy),f.x),f.y);}
float fbm(vec2 n) {float total=0.0,amplitude=1.0;for (int i=0; i<4; i++) {total+=noise(n)*amplitude;n+=n;amplitude*=0.5;}
return total;}
#define CUSTOM_FRAGMENT_DEFINITIONS
void main(void) {
#define CUSTOM_FRAGMENT_MAIN_BEGIN
float ratioy=mod(vUV.x*ampScale,2.0+fbm(vUV*0.8));vec3 wood=woodColor*ratioy;gl_FragColor=vec4(wood,1.0);
#define CUSTOM_FRAGMENT_MAIN_END
}`;s.ShaderStore.ShadersStore[a]=i;let l={name:a,shader:i}},{"@babylonjs/core/Engines/shaderStore.js":"lEui9","@parcel/transformer-js/src/esmodule-helpers.js":"XTfsy"}]},[],0,"parcelRequire6b9f");