function e(e,t,r,o){Object.defineProperty(e,t,{get:r,set:o,enumerable:!0,configurable:!0})}var t=globalThis,r={},o={},n=t.parcelRequire6b9f;null==n&&((n=function(e){if(e in r)return r[e].exports;if(e in o){var t=o[e];delete o[e];var n={id:e,exports:{}};return r[e]=n,t.call(n.exports,n,n.exports),n.exports}var a=Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){o[e]=t},t.parcelRequire6b9f=n),(0,n.register)("h4W9d",function(t,r){e(t.exports,"initDB",()=>a),e(t.exports,"saveDataToGameStore",()=>c),e(t.exports,"getMaxProgress",()=>u),e(t.exports,"isLevelWin",()=>i),e(t.exports,"saveDataToUserStore",()=>p),e(t.exports,"getUserData",()=>d);var o=n("dHlpp");function a(){s()}let s=()=>{let e=null,t=indexedDB.open((0,o.GameState).IDBobject().name,1);return t.onerror=()=>{console.log("Error IDB: ",t.error)},t.onupgradeneeded=()=>{(e=t.result).createObjectStore((0,o.GameState).IDBobject().gameStore,{autoIncrement:!0}),e.createObjectStore((0,o.GameState).IDBobject().userStore,{autoIncrement:!0})},t};async function c(e,t){let r=s();r.onsuccess=()=>{r.result.transaction(e,"readwrite").objectStore(e).add(t)}}function l(e){return new Promise(t=>{let r=[],n=o.GameState.state.maxLevelResult,a=(0,o.GameState).IDBobject().gameStore,c=s();return c.onsuccess=()=>{let o=c.result.transaction(a,"readwrite").objectStore(a).openCursor(null,"prev");o.onsuccess=()=>{let a=o.result;a?(a.value.part===e.part&&a.value.level===e.level&&(n>0?(r.push(a.value),n--):a.delete()),a.continue()):t(r)}},[]})}async function u(e){let t;return(await l(e)).forEach(e=>{t?e.score>t.score&&(t=e):t=e}),t}async function i(e){let t=await l(e),r=!1;return t.forEach(e=>{e.isWin&&(r=!0)}),r}async function p(e,t){let r=s();r.onsuccess=()=>{let o=r.result.transaction(e,"readwrite").objectStore(e);o.clear(),o.put(t)},r.onerror=()=>{console.log("Error")}}function d(e){return new Promise(t=>{let r=s();r.onsuccess=()=>{let o=r.result.transaction(e,"readwrite").objectStore(e).getAll();o.onsuccess=()=>{t(o.result)}}})}});